ARM GAS  /tmp/cccbTsVv.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"servo.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "../../../mod/servo/servo.c"
  19              		.section	.text.servo_init,"ax",%progbits
  20              		.align	1
  21              		.global	servo_init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	servo_init:
  27              	.LFB144:
   1:../../../mod/servo/servo.c **** /*******************************************************************************
   2:../../../mod/servo/servo.c **** *
   3:../../../mod/servo/servo.c **** * FILE: 
   4:../../../mod/servo/servo.c **** * 		servo.c
   5:../../../mod/servo/servo.c **** *
   6:../../../mod/servo/servo.c **** * DESCRIPTION: 
   7:../../../mod/servo/servo.c **** * 		Contains API functions to get access to the servo motors driver
   8:../../../mod/servo/servo.c **** *
   9:../../../mod/servo/servo.c **** *******************************************************************************/
  10:../../../mod/servo/servo.c **** 
  11:../../../mod/servo/servo.c **** 
  12:../../../mod/servo/servo.c **** /*------------------------------------------------------------------------------
  13:../../../mod/servo/servo.c ****  Standard Includes                                                                     
  14:../../../mod/servo/servo.c **** ------------------------------------------------------------------------------*/
  15:../../../mod/servo/servo.c **** 
  16:../../../mod/servo/servo.c **** 
  17:../../../mod/servo/servo.c **** /*------------------------------------------------------------------------------
  18:../../../mod/servo/servo.c ****  Project Includes                                                                     
  19:../../../mod/servo/servo.c **** ------------------------------------------------------------------------------*/
  20:../../../mod/servo/servo.c **** #include "main.h"
  21:../../../mod/servo/servo.c **** #include "sdr_pin_defines_A0002.h"
  22:../../../mod/servo/servo.c **** #include "servo.h"
  23:../../../mod/servo/servo.c **** #include "led.h"
  24:../../../mod/servo/servo.c **** /*------------------------------------------------------------------------------
  25:../../../mod/servo/servo.c ****  Global Variables 
  26:../../../mod/servo/servo.c **** ------------------------------------------------------------------------------*/
  27:../../../mod/servo/servo.c **** 
  28:../../../mod/servo/servo.c **** 
  29:../../../mod/servo/servo.c **** /*------------------------------------------------------------------------------
  30:../../../mod/servo/servo.c ****  Procedures 
  31:../../../mod/servo/servo.c **** ------------------------------------------------------------------------------*/
ARM GAS  /tmp/cccbTsVv.s 			page 2


  32:../../../mod/servo/servo.c **** 
  33:../../../mod/servo/servo.c **** 
  34:../../../mod/servo/servo.c **** /*******************************************************************************
  35:../../../mod/servo/servo.c **** *                                                                              *
  36:../../../mod/servo/servo.c **** * PROCEDURE:                                                                   * 
  37:../../../mod/servo/servo.c **** * 		servo_init                                                             *
  38:../../../mod/servo/servo.c **** *                                                                              *
  39:../../../mod/servo/servo.c **** * DESCRIPTION:                                                                 * 
  40:../../../mod/servo/servo.c **** * 		Initialize/Reset servo                             *
  41:../../../mod/servo/servo.c **** *                                                                              *
  42:../../../mod/servo/servo.c **** *******************************************************************************/
  43:../../../mod/servo/servo.c **** SERVO_STATUS servo_init()
  44:../../../mod/servo/servo.c **** {
  28              		.loc 1 44 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 70B5     		push	{r4, r5, r6, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35              		.cfi_offset 4, -16
  36              		.cfi_offset 5, -12
  37              		.cfi_offset 6, -8
  38              		.cfi_offset 14, -4
  45:../../../mod/servo/servo.c ****     // GPIO Initialization
  46:../../../mod/servo/servo.c ****     HAL_GPIO_WritePin(MOTOR1_EN_PORT, MOTOR1_EN, GPIO_PIN_SET);
  39              		.loc 1 46 5 view .LVU1
  40 0002 1B4C     		ldr	r4, .L5
  41 0004 0122     		movs	r2, #1
  42 0006 4FF40061 		mov	r1, #2048
  43 000a 2046     		mov	r0, r4
  44 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
  45              	.LVL0:
  47:../../../mod/servo/servo.c ****     HAL_GPIO_WritePin(MOTOR2_EN_PORT, MOTOR2_EN, GPIO_PIN_SET);
  46              		.loc 1 47 5 view .LVU2
  47 0010 0122     		movs	r2, #1
  48 0012 2021     		movs	r1, #32
  49 0014 1748     		ldr	r0, .L5+4
  50 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
  51              	.LVL1:
  48:../../../mod/servo/servo.c ****     HAL_GPIO_WritePin(MOTOR3_EN_PORT, MOTOR3_EN, GPIO_PIN_SET);
  52              		.loc 1 48 5 view .LVU3
  53 001a 0122     		movs	r2, #1
  54 001c 4FF48061 		mov	r1, #1024
  55 0020 2046     		mov	r0, r4
  56 0022 FFF7FEFF 		bl	HAL_GPIO_WritePin
  57              	.LVL2:
  49:../../../mod/servo/servo.c ****     HAL_GPIO_WritePin(MOTOR4_EN_PORT, MOTOR4_EN, GPIO_PIN_SET);
  58              		.loc 1 49 5 view .LVU4
  59 0026 0122     		movs	r2, #1
  60 0028 1021     		movs	r1, #16
  61 002a 1348     		ldr	r0, .L5+8
  62 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
  63              	.LVL3:
  50:../../../mod/servo/servo.c **** 
  51:../../../mod/servo/servo.c ****     // Timer intialization
  52:../../../mod/servo/servo.c ****     HAL_StatusTypeDef hal_status1, hal_status2, hal_status3, hal_status4;
ARM GAS  /tmp/cccbTsVv.s 			page 3


  64              		.loc 1 52 5 view .LVU5
  53:../../../mod/servo/servo.c **** 
  54:../../../mod/servo/servo.c ****     hal_status1 = HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_4);
  65              		.loc 1 54 5 view .LVU6
  66              		.loc 1 54 19 is_stmt 0 view .LVU7
  67 0030 124C     		ldr	r4, .L5+12
  68 0032 0C21     		movs	r1, #12
  69 0034 2046     		mov	r0, r4
  70 0036 FFF7FEFF 		bl	HAL_TIM_PWM_Start
  71              	.LVL4:
  72 003a 0546     		mov	r5, r0
  73              	.LVL5:
  55:../../../mod/servo/servo.c ****     hal_status2 = HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_3);
  74              		.loc 1 55 5 is_stmt 1 view .LVU8
  75              		.loc 1 55 19 is_stmt 0 view .LVU9
  76 003c 0821     		movs	r1, #8
  77 003e 2046     		mov	r0, r4
  78 0040 FFF7FEFF 		bl	HAL_TIM_PWM_Start
  79              	.LVL6:
  80 0044 0646     		mov	r6, r0
  81              	.LVL7:
  56:../../../mod/servo/servo.c ****     hal_status3 = HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_1);
  82              		.loc 1 56 5 is_stmt 1 view .LVU10
  83              		.loc 1 56 19 is_stmt 0 view .LVU11
  84 0046 0021     		movs	r1, #0
  85 0048 2046     		mov	r0, r4
  86 004a FFF7FEFF 		bl	HAL_TIM_PWM_Start
  87              	.LVL8:
  88 004e 0446     		mov	r4, r0
  89              	.LVL9:
  57:../../../mod/servo/servo.c ****     hal_status4 = HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_1);
  90              		.loc 1 57 5 is_stmt 1 view .LVU12
  91              		.loc 1 57 19 is_stmt 0 view .LVU13
  92 0050 0021     		movs	r1, #0
  93 0052 0B48     		ldr	r0, .L5+16
  94 0054 FFF7FEFF 		bl	HAL_TIM_PWM_Start
  95              	.LVL10:
  58:../../../mod/servo/servo.c **** 
  59:../../../mod/servo/servo.c ****     if ( hal_status1 == HAL_OK &&
  96              		.loc 1 59 5 is_stmt 1 view .LVU14
  97              		.loc 1 59 8 is_stmt 0 view .LVU15
  98 0058 3543     		orrs	r5, r5, r6
  99              	.LVL11:
 100              		.loc 1 59 8 view .LVU16
 101 005a 15F0FF0F 		tst	r5, #255
 102 005e 05D1     		bne	.L3
 103 0060 2043     		orrs	r0, r0, r4
 104              	.LVL12:
  60:../../../mod/servo/servo.c ****         hal_status2 == HAL_OK &&
  61:../../../mod/servo/servo.c ****         hal_status3 == HAL_OK &&
 105              		.loc 1 61 31 view .LVU17
 106 0062 10F0FF00 		ands	r0, r0, #255
 107 0066 02D0     		beq	.L2
  62:../../../mod/servo/servo.c ****         hal_status4 == HAL_OK )
  63:../../../mod/servo/servo.c ****         {
  64:../../../mod/servo/servo.c ****         return SERVO_OK;
  65:../../../mod/servo/servo.c ****         }
ARM GAS  /tmp/cccbTsVv.s 			page 4


  66:../../../mod/servo/servo.c ****         else
  67:../../../mod/servo/servo.c ****         {
  68:../../../mod/servo/servo.c ****         return SERVO_FAIL;
 108              		.loc 1 68 16 view .LVU18
 109 0068 0120     		movs	r0, #1
 110 006a 00E0     		b	.L2
 111              	.LVL13:
 112              	.L3:
 113              		.loc 1 68 16 view .LVU19
 114 006c 0120     		movs	r0, #1
 115              	.LVL14:
 116              	.L2:
  69:../../../mod/servo/servo.c ****         }
  70:../../../mod/servo/servo.c **** }
 117              		.loc 1 70 1 view .LVU20
 118 006e 70BD     		pop	{r4, r5, r6, pc}
 119              	.LVL15:
 120              	.L6:
 121              		.loc 1 70 1 view .LVU21
 122              		.align	2
 123              	.L5:
 124 0070 000C0258 		.word	1476529152
 125 0074 00080258 		.word	1476528128
 126 0078 00000258 		.word	1476526080
 127 007c 00000000 		.word	htim3
 128 0080 00000000 		.word	htim2
 129              		.cfi_endproc
 130              	.LFE144:
 132              		.section	.text.servo_reset,"ax",%progbits
 133              		.align	1
 134              		.global	servo_reset
 135              		.syntax unified
 136              		.thumb
 137              		.thumb_func
 139              	servo_reset:
 140              	.LFB145:
  71:../../../mod/servo/servo.c **** 
  72:../../../mod/servo/servo.c **** 
  73:../../../mod/servo/servo.c **** /*******************************************************************************
  74:../../../mod/servo/servo.c **** *                                                                              *
  75:../../../mod/servo/servo.c **** * PROCEDURE:                                                                   * 
  76:../../../mod/servo/servo.c **** * 		servo_reset                                                             *
  77:../../../mod/servo/servo.c **** *                                                                              *
  78:../../../mod/servo/servo.c **** * DESCRIPTION:                                                                 * 
  79:../../../mod/servo/servo.c **** * 		Initialize/Reset servo rotate to default                               *
  80:../../../mod/servo/servo.c **** *                                                                              *
  81:../../../mod/servo/servo.c **** *******************************************************************************/
  82:../../../mod/servo/servo.c **** void servo_reset()
  83:../../../mod/servo/servo.c **** {
 141              		.loc 1 83 1 is_stmt 1 view -0
 142              		.cfi_startproc
 143              		@ args = 0, pretend = 0, frame = 0
 144              		@ frame_needed = 0, uses_anonymous_args = 0
 145              		@ link register save eliminated.
  84:../../../mod/servo/servo.c ****     htim3.Instance->CCR4 = 25;
 146              		.loc 1 84 5 view .LVU23
 147              		.loc 1 84 10 is_stmt 0 view .LVU24
ARM GAS  /tmp/cccbTsVv.s 			page 5


 148 0000 044B     		ldr	r3, .L8
 149 0002 1A68     		ldr	r2, [r3]
 150              		.loc 1 84 26 view .LVU25
 151 0004 1923     		movs	r3, #25
 152 0006 1364     		str	r3, [r2, #64]
  85:../../../mod/servo/servo.c ****     htim3.Instance->CCR3 = 25;
 153              		.loc 1 85 5 is_stmt 1 view .LVU26
 154              		.loc 1 85 26 is_stmt 0 view .LVU27
 155 0008 D363     		str	r3, [r2, #60]
  86:../../../mod/servo/servo.c ****     htim3.Instance->CCR1 = 25;
 156              		.loc 1 86 5 is_stmt 1 view .LVU28
 157              		.loc 1 86 26 is_stmt 0 view .LVU29
 158 000a 5363     		str	r3, [r2, #52]
  87:../../../mod/servo/servo.c ****     htim2.Instance->CCR1 = 25;
 159              		.loc 1 87 5 is_stmt 1 view .LVU30
 160              		.loc 1 87 10 is_stmt 0 view .LVU31
 161 000c 024A     		ldr	r2, .L8+4
 162 000e 1268     		ldr	r2, [r2]
 163              		.loc 1 87 26 view .LVU32
 164 0010 5363     		str	r3, [r2, #52]
  88:../../../mod/servo/servo.c **** }
 165              		.loc 1 88 1 view .LVU33
 166 0012 7047     		bx	lr
 167              	.L9:
 168              		.align	2
 169              	.L8:
 170 0014 00000000 		.word	htim3
 171 0018 00000000 		.word	htim2
 172              		.cfi_endproc
 173              	.LFE145:
 175              		.section	.text.motor1_drive,"ax",%progbits
 176              		.align	1
 177              		.global	motor1_drive
 178              		.syntax unified
 179              		.thumb
 180              		.thumb_func
 182              	motor1_drive:
 183              	.LVL16:
 184              	.LFB146:
  89:../../../mod/servo/servo.c **** 
  90:../../../mod/servo/servo.c **** 
  91:../../../mod/servo/servo.c **** /*******************************************************************************
  92:../../../mod/servo/servo.c **** *                                                                              *
  93:../../../mod/servo/servo.c **** * PROCEDURE:                                                                   * 
  94:../../../mod/servo/servo.c **** * 		motor1_drive                                                           *
  95:../../../mod/servo/servo.c **** *                                                                              *
  96:../../../mod/servo/servo.c **** * DESCRIPTION:                                                                 * 
  97:../../../mod/servo/servo.c **** * 		Drive the first servo motor with a desired value (0-100)               *
  98:../../../mod/servo/servo.c **** *                                                                              *
  99:../../../mod/servo/servo.c **** *******************************************************************************/
 100:../../../mod/servo/servo.c **** void motor1_drive(uint8_t duty_cycle)
 101:../../../mod/servo/servo.c **** {
 185              		.loc 1 101 1 is_stmt 1 view -0
 186              		.cfi_startproc
 187              		@ args = 0, pretend = 0, frame = 0
 188              		@ frame_needed = 0, uses_anonymous_args = 0
 189              		@ link register save eliminated.
ARM GAS  /tmp/cccbTsVv.s 			page 6


 102:../../../mod/servo/servo.c ****     htim3.Instance->CCR4 = duty_cycle;
 190              		.loc 1 102 5 view .LVU35
 191              		.loc 1 102 10 is_stmt 0 view .LVU36
 192 0000 014B     		ldr	r3, .L11
 193 0002 1B68     		ldr	r3, [r3]
 194              		.loc 1 102 26 view .LVU37
 195 0004 1864     		str	r0, [r3, #64]
 103:../../../mod/servo/servo.c **** }
 196              		.loc 1 103 1 view .LVU38
 197 0006 7047     		bx	lr
 198              	.L12:
 199              		.align	2
 200              	.L11:
 201 0008 00000000 		.word	htim3
 202              		.cfi_endproc
 203              	.LFE146:
 205              		.section	.text.motor2_drive,"ax",%progbits
 206              		.align	1
 207              		.global	motor2_drive
 208              		.syntax unified
 209              		.thumb
 210              		.thumb_func
 212              	motor2_drive:
 213              	.LVL17:
 214              	.LFB147:
 104:../../../mod/servo/servo.c **** 
 105:../../../mod/servo/servo.c **** /*******************************************************************************
 106:../../../mod/servo/servo.c **** *                                                                              *
 107:../../../mod/servo/servo.c **** * PROCEDURE:                                                                   * 
 108:../../../mod/servo/servo.c **** * 		motor2_drive                                                           *
 109:../../../mod/servo/servo.c **** *                                                                              *
 110:../../../mod/servo/servo.c **** * DESCRIPTION:                                                                 * 
 111:../../../mod/servo/servo.c **** * 		Drive the second servo motor with a desired value (0-100)              *
 112:../../../mod/servo/servo.c **** *                                                                              *
 113:../../../mod/servo/servo.c **** *******************************************************************************/
 114:../../../mod/servo/servo.c **** void motor2_drive(uint8_t duty_cycle)
 115:../../../mod/servo/servo.c **** {
 215              		.loc 1 115 1 is_stmt 1 view -0
 216              		.cfi_startproc
 217              		@ args = 0, pretend = 0, frame = 0
 218              		@ frame_needed = 0, uses_anonymous_args = 0
 219              		@ link register save eliminated.
 116:../../../mod/servo/servo.c ****     htim3.Instance->CCR3 = duty_cycle;
 220              		.loc 1 116 5 view .LVU40
 221              		.loc 1 116 10 is_stmt 0 view .LVU41
 222 0000 014B     		ldr	r3, .L14
 223 0002 1B68     		ldr	r3, [r3]
 224              		.loc 1 116 26 view .LVU42
 225 0004 D863     		str	r0, [r3, #60]
 117:../../../mod/servo/servo.c **** }
 226              		.loc 1 117 1 view .LVU43
 227 0006 7047     		bx	lr
 228              	.L15:
 229              		.align	2
 230              	.L14:
 231 0008 00000000 		.word	htim3
 232              		.cfi_endproc
ARM GAS  /tmp/cccbTsVv.s 			page 7


 233              	.LFE147:
 235              		.section	.text.motor3_drive,"ax",%progbits
 236              		.align	1
 237              		.global	motor3_drive
 238              		.syntax unified
 239              		.thumb
 240              		.thumb_func
 242              	motor3_drive:
 243              	.LVL18:
 244              	.LFB148:
 118:../../../mod/servo/servo.c **** 
 119:../../../mod/servo/servo.c **** /*******************************************************************************
 120:../../../mod/servo/servo.c **** *                                                                              *
 121:../../../mod/servo/servo.c **** * PROCEDURE:                                                                   * 
 122:../../../mod/servo/servo.c **** * 		motor3_drive                                                           *
 123:../../../mod/servo/servo.c **** *                                                                              *
 124:../../../mod/servo/servo.c **** * DESCRIPTION:                                                                 * 
 125:../../../mod/servo/servo.c **** * 		Drive the third servo motor with a desired value (0-100)               *
 126:../../../mod/servo/servo.c **** *                                                                              *
 127:../../../mod/servo/servo.c **** *******************************************************************************/
 128:../../../mod/servo/servo.c **** void motor3_drive(uint8_t duty_cycle)
 129:../../../mod/servo/servo.c **** {
 245              		.loc 1 129 1 is_stmt 1 view -0
 246              		.cfi_startproc
 247              		@ args = 0, pretend = 0, frame = 0
 248              		@ frame_needed = 0, uses_anonymous_args = 0
 249              		@ link register save eliminated.
 130:../../../mod/servo/servo.c ****     htim3.Instance->CCR1 = duty_cycle;
 250              		.loc 1 130 5 view .LVU45
 251              		.loc 1 130 10 is_stmt 0 view .LVU46
 252 0000 014B     		ldr	r3, .L17
 253 0002 1B68     		ldr	r3, [r3]
 254              		.loc 1 130 26 view .LVU47
 255 0004 5863     		str	r0, [r3, #52]
 131:../../../mod/servo/servo.c **** 
 132:../../../mod/servo/servo.c **** }
 256              		.loc 1 132 1 view .LVU48
 257 0006 7047     		bx	lr
 258              	.L18:
 259              		.align	2
 260              	.L17:
 261 0008 00000000 		.word	htim3
 262              		.cfi_endproc
 263              	.LFE148:
 265              		.section	.text.motor4_drive,"ax",%progbits
 266              		.align	1
 267              		.global	motor4_drive
 268              		.syntax unified
 269              		.thumb
 270              		.thumb_func
 272              	motor4_drive:
 273              	.LVL19:
 274              	.LFB149:
 133:../../../mod/servo/servo.c **** 
 134:../../../mod/servo/servo.c **** /*******************************************************************************
 135:../../../mod/servo/servo.c **** *                                                                              *
 136:../../../mod/servo/servo.c **** * PROCEDURE:                                                                   * 
ARM GAS  /tmp/cccbTsVv.s 			page 8


 137:../../../mod/servo/servo.c **** * 		motor4_drive                                                           *
 138:../../../mod/servo/servo.c **** *                                                                              *
 139:../../../mod/servo/servo.c **** * DESCRIPTION:                                                                 * 
 140:../../../mod/servo/servo.c **** * 		Drive the forth servo motor with a desired value (0-100)               *
 141:../../../mod/servo/servo.c **** *                                                                              *
 142:../../../mod/servo/servo.c **** *******************************************************************************/
 143:../../../mod/servo/servo.c **** void motor4_drive(uint8_t duty_cycle)
 144:../../../mod/servo/servo.c **** {
 275              		.loc 1 144 1 is_stmt 1 view -0
 276              		.cfi_startproc
 277              		@ args = 0, pretend = 0, frame = 0
 278              		@ frame_needed = 0, uses_anonymous_args = 0
 279              		@ link register save eliminated.
 145:../../../mod/servo/servo.c ****     htim2.Instance->CCR1 = duty_cycle;
 280              		.loc 1 145 5 view .LVU50
 281              		.loc 1 145 10 is_stmt 0 view .LVU51
 282 0000 014B     		ldr	r3, .L20
 283 0002 1B68     		ldr	r3, [r3]
 284              		.loc 1 145 26 view .LVU52
 285 0004 5863     		str	r0, [r3, #52]
 146:../../../mod/servo/servo.c **** }
 286              		.loc 1 146 1 view .LVU53
 287 0006 7047     		bx	lr
 288              	.L21:
 289              		.align	2
 290              	.L20:
 291 0008 00000000 		.word	htim2
 292              		.cfi_endproc
 293              	.LFE149:
 295              		.section	.text.motors_drive,"ax",%progbits
 296              		.align	1
 297              		.global	motors_drive
 298              		.syntax unified
 299              		.thumb
 300              		.thumb_func
 302              	motors_drive:
 303              	.LFB150:
 147:../../../mod/servo/servo.c **** 
 148:../../../mod/servo/servo.c **** /*******************************************************************************
 149:../../../mod/servo/servo.c **** *                                                                              *
 150:../../../mod/servo/servo.c **** * PROCEDURE:                                                                   * 
 151:../../../mod/servo/servo.c **** * 		motors_drive                                                           *
 152:../../../mod/servo/servo.c **** *                                                                              *
 153:../../../mod/servo/servo.c **** * DESCRIPTION:                                                                 * 
 154:../../../mod/servo/servo.c **** * 		A complete function that drives each servo in this board               *
 155:../../../mod/servo/servo.c **** *                                                                              *
 156:../../../mod/servo/servo.c **** *******************************************************************************/
 157:../../../mod/servo/servo.c **** void motors_drive(SERVOS_DATA servos_data)
 158:../../../mod/servo/servo.c **** {
 304              		.loc 1 158 1 is_stmt 1 view -0
 305              		.cfi_startproc
 306              		@ args = 0, pretend = 0, frame = 8
 307              		@ frame_needed = 0, uses_anonymous_args = 0
 308 0000 00B5     		push	{lr}
 309              	.LCFI1:
 310              		.cfi_def_cfa_offset 4
 311              		.cfi_offset 14, -4
ARM GAS  /tmp/cccbTsVv.s 			page 9


 312 0002 83B0     		sub	sp, sp, #12
 313              	.LCFI2:
 314              		.cfi_def_cfa_offset 16
 315 0004 0190     		str	r0, [sp, #4]
 159:../../../mod/servo/servo.c ****     motor1_drive(25);
 316              		.loc 1 159 5 view .LVU55
 317 0006 1920     		movs	r0, #25
 318 0008 FFF7FEFF 		bl	motor1_drive
 319              	.LVL20:
 160:../../../mod/servo/servo.c ****     motor2_drive(25);
 320              		.loc 1 160 5 view .LVU56
 321 000c 1920     		movs	r0, #25
 322 000e FFF7FEFF 		bl	motor2_drive
 323              	.LVL21:
 161:../../../mod/servo/servo.c ****     motor3_drive(25);
 324              		.loc 1 161 5 view .LVU57
 325 0012 1920     		movs	r0, #25
 326 0014 FFF7FEFF 		bl	motor3_drive
 327              	.LVL22:
 162:../../../mod/servo/servo.c ****     motor4_drive(25);
 328              		.loc 1 162 5 view .LVU58
 329 0018 1920     		movs	r0, #25
 330 001a FFF7FEFF 		bl	motor4_drive
 331              	.LVL23:
 163:../../../mod/servo/servo.c **** }
 332              		.loc 1 163 1 is_stmt 0 view .LVU59
 333 001e 03B0     		add	sp, sp, #12
 334              	.LCFI3:
 335              		.cfi_def_cfa_offset 4
 336              		@ sp needed
 337 0020 5DF804FB 		ldr	pc, [sp], #4
 338              		.cfi_endproc
 339              	.LFE150:
 341              		.section	.text.motor_drive,"ax",%progbits
 342              		.align	1
 343              		.global	motor_drive
 344              		.syntax unified
 345              		.thumb
 346              		.thumb_func
 348              	motor_drive:
 349              	.LVL24:
 350              	.LFB151:
 164:../../../mod/servo/servo.c **** 
 165:../../../mod/servo/servo.c **** /*******************************************************************************
 166:../../../mod/servo/servo.c **** *                                                                              *
 167:../../../mod/servo/servo.c **** * PROCEDURE:                                                                   * 
 168:../../../mod/servo/servo.c **** * 		servo_cmd_execute  
 169:../../../mod/servo/servo.c **** *
 170:../../../mod/servo/servo.c **** *                                                                              *
 171:../../../mod/servo/servo.c **** * DESCRIPTION:                                                                 * 
 172:../../../mod/servo/servo.c **** * 		Execute servo subcommand                                               *
 173:../../../mod/servo/servo.c **** *                                                                              *
 174:../../../mod/servo/servo.c **** *******************************************************************************/
 175:../../../mod/servo/servo.c **** 
 176:../../../mod/servo/servo.c **** void motor_drive(uint8_t subcommand_code)
 177:../../../mod/servo/servo.c **** {
 351              		.loc 1 177 1 is_stmt 1 view -0
ARM GAS  /tmp/cccbTsVv.s 			page 10


 352              		.cfi_startproc
 353              		@ args = 0, pretend = 0, frame = 8
 354              		@ frame_needed = 0, uses_anonymous_args = 0
 355              		.loc 1 177 1 is_stmt 0 view .LVU61
 356 0000 10B5     		push	{r4, lr}
 357              	.LCFI4:
 358              		.cfi_def_cfa_offset 8
 359              		.cfi_offset 4, -8
 360              		.cfi_offset 14, -4
 361 0002 82B0     		sub	sp, sp, #8
 362              	.LCFI5:
 363              		.cfi_def_cfa_offset 16
 364 0004 8DF80700 		strb	r0, [sp, #7]
 178:../../../mod/servo/servo.c ****     uint8_t motor_number = usb_receive( &subcommand_code, sizeof( subcommand_code ), HAL_DEFAULT_TI
 365              		.loc 1 178 5 is_stmt 1 view .LVU62
 366              		.loc 1 178 28 is_stmt 0 view .LVU63
 367 0008 0A22     		movs	r2, #10
 368 000a 0121     		movs	r1, #1
 369 000c 0DF10700 		add	r0, sp, #7
 370              	.LVL25:
 371              		.loc 1 178 28 view .LVU64
 372 0010 FFF7FEFF 		bl	usb_receive
 373              	.LVL26:
 374              		.loc 1 178 28 view .LVU65
 375 0014 0446     		mov	r4, r0
 376              	.LVL27:
 179:../../../mod/servo/servo.c ****     uint8_t deg = usb_receive( &subcommand_code, sizeof( subcommand_code ), HAL_DEFAULT_TIMEOUT );
 377              		.loc 1 179 5 is_stmt 1 view .LVU66
 378              		.loc 1 179 19 is_stmt 0 view .LVU67
 379 0016 0A22     		movs	r2, #10
 380 0018 0121     		movs	r1, #1
 381 001a 0DF10700 		add	r0, sp, #7
 382 001e FFF7FEFF 		bl	usb_receive
 383              	.LVL28:
 180:../../../mod/servo/servo.c **** 
 181:../../../mod/servo/servo.c ****     switch (motor_number){
 384              		.loc 1 181 5 is_stmt 1 view .LVU68
 385 0022 E3B2     		uxtb	r3, r4
 386 0024 013B     		subs	r3, r3, #1
 387 0026 032B     		cmp	r3, #3
 388 0028 13D8     		bhi	.L24
 389 002a DFE803F0 		tbb	[pc, r3]
 390              	.L27:
 391 002e 02       		.byte	(.L30-.L27)/2
 392 002f 06       		.byte	(.L29-.L27)/2
 393 0030 0A       		.byte	(.L28-.L27)/2
 394 0031 0E       		.byte	(.L26-.L27)/2
 395              		.p2align 1
 396              	.L30:
 182:../../../mod/servo/servo.c ****         case 1: {
 183:../../../mod/servo/servo.c ****             htim3.Instance->CCR4 = deg;
 397              		.loc 1 183 13 view .LVU69
 398              		.loc 1 183 18 is_stmt 0 view .LVU70
 399 0032 094B     		ldr	r3, .L36
 400 0034 1B68     		ldr	r3, [r3]
 401              		.loc 1 183 34 view .LVU71
 402 0036 C2B2     		uxtb	r2, r0
ARM GAS  /tmp/cccbTsVv.s 			page 11


 403 0038 1A64     		str	r2, [r3, #64]
 404              	.L29:
 184:../../../mod/servo/servo.c ****         }
 185:../../../mod/servo/servo.c **** 
 186:../../../mod/servo/servo.c ****         case 2: {
 187:../../../mod/servo/servo.c ****             htim3.Instance->CCR3 = deg;
 405              		.loc 1 187 13 is_stmt 1 view .LVU72
 406              		.loc 1 187 18 is_stmt 0 view .LVU73
 407 003a 074B     		ldr	r3, .L36
 408 003c 1B68     		ldr	r3, [r3]
 409              		.loc 1 187 34 view .LVU74
 410 003e C2B2     		uxtb	r2, r0
 411 0040 DA63     		str	r2, [r3, #60]
 412              	.L28:
 188:../../../mod/servo/servo.c ****         }
 189:../../../mod/servo/servo.c ****         case 3: {
 190:../../../mod/servo/servo.c ****             htim3.Instance->CCR2 = deg;
 413              		.loc 1 190 13 is_stmt 1 view .LVU75
 414              		.loc 1 190 18 is_stmt 0 view .LVU76
 415 0042 054B     		ldr	r3, .L36
 416 0044 1B68     		ldr	r3, [r3]
 417              		.loc 1 190 34 view .LVU77
 418 0046 C2B2     		uxtb	r2, r0
 419 0048 9A63     		str	r2, [r3, #56]
 420              	.L26:
 191:../../../mod/servo/servo.c ****         }
 192:../../../mod/servo/servo.c ****         case 4: {
 193:../../../mod/servo/servo.c ****             htim3.Instance->CCR1 = deg;
 421              		.loc 1 193 13 is_stmt 1 view .LVU78
 422              		.loc 1 193 18 is_stmt 0 view .LVU79
 423 004a 034B     		ldr	r3, .L36
 424 004c 1B68     		ldr	r3, [r3]
 425              		.loc 1 193 34 view .LVU80
 426 004e C0B2     		uxtb	r0, r0
 427              		.loc 1 193 34 view .LVU81
 428 0050 5863     		str	r0, [r3, #52]
 429              	.LVL29:
 430              	.L24:
 194:../../../mod/servo/servo.c ****         }
 195:../../../mod/servo/servo.c ****     }
 196:../../../mod/servo/servo.c ****     
 197:../../../mod/servo/servo.c **** }
 431              		.loc 1 197 1 view .LVU82
 432 0052 02B0     		add	sp, sp, #8
 433              	.LCFI6:
 434              		.cfi_def_cfa_offset 8
 435              		@ sp needed
 436 0054 10BD     		pop	{r4, pc}
 437              	.LVL30:
 438              	.L37:
 439              		.loc 1 197 1 view .LVU83
 440 0056 00BF     		.align	2
 441              	.L36:
 442 0058 00000000 		.word	htim3
 443              		.cfi_endproc
 444              	.LFE151:
 446              		.section	.text.servo_cmd_execute,"ax",%progbits
ARM GAS  /tmp/cccbTsVv.s 			page 12


 447              		.align	1
 448              		.global	servo_cmd_execute
 449              		.syntax unified
 450              		.thumb
 451              		.thumb_func
 453              	servo_cmd_execute:
 454              	.LVL31:
 455              	.LFB152:
 198:../../../mod/servo/servo.c **** 
 199:../../../mod/servo/servo.c **** 
 200:../../../mod/servo/servo.c **** void servo_cmd_execute(uint8_t servo_cmd_opcode){
 456              		.loc 1 200 49 is_stmt 1 view -0
 457              		.cfi_startproc
 458              		@ args = 0, pretend = 0, frame = 0
 459              		@ frame_needed = 0, uses_anonymous_args = 0
 460              		.loc 1 200 49 is_stmt 0 view .LVU85
 461 0000 08B5     		push	{r3, lr}
 462              	.LCFI7:
 463              		.cfi_def_cfa_offset 8
 464              		.cfi_offset 3, -8
 465              		.cfi_offset 14, -4
 201:../../../mod/servo/servo.c ****     //TODO: Implement cases for testing servo controlling loop and testing individual servo
 202:../../../mod/servo/servo.c ****     switch(servo_cmd_opcode){
 466              		.loc 1 202 5 is_stmt 1 view .LVU86
 467 0002 0128     		cmp	r0, #1
 468 0004 02D0     		beq	.L39
 469 0006 0228     		cmp	r0, #2
 470 0008 03D0     		beq	.L40
 471              	.LVL32:
 472              	.L38:
 203:../../../mod/servo/servo.c ****         
 204:../../../mod/servo/servo.c ****         case SERVO_INIT:
 205:../../../mod/servo/servo.c ****         {
 206:../../../mod/servo/servo.c ****             servo_init();
 207:../../../mod/servo/servo.c ****             break;
 208:../../../mod/servo/servo.c ****         }
 209:../../../mod/servo/servo.c **** 
 210:../../../mod/servo/servo.c ****         case SERVO_TURN:
 211:../../../mod/servo/servo.c ****         {
 212:../../../mod/servo/servo.c ****             motor_drive(servo_cmd_opcode);
 213:../../../mod/servo/servo.c ****             break;
 214:../../../mod/servo/servo.c ****         }
 215:../../../mod/servo/servo.c ****         
 216:../../../mod/servo/servo.c **** 
 217:../../../mod/servo/servo.c ****     }}
 473              		.loc 1 217 6 is_stmt 0 view .LVU87
 474 000a 08BD     		pop	{r3, pc}
 475              	.LVL33:
 476              	.L39:
 206:../../../mod/servo/servo.c ****             break;
 477              		.loc 1 206 13 is_stmt 1 view .LVU88
 478 000c FFF7FEFF 		bl	servo_init
 479              	.LVL34:
 207:../../../mod/servo/servo.c ****         }
 480              		.loc 1 207 13 view .LVU89
 481 0010 FBE7     		b	.L38
 482              	.LVL35:
ARM GAS  /tmp/cccbTsVv.s 			page 13


 483              	.L40:
 212:../../../mod/servo/servo.c ****             break;
 484              		.loc 1 212 13 view .LVU90
 485 0012 FFF7FEFF 		bl	motor_drive
 486              	.LVL36:
 213:../../../mod/servo/servo.c ****         }
 487              		.loc 1 213 13 view .LVU91
 488              		.loc 1 217 6 is_stmt 0 view .LVU92
 489 0016 F8E7     		b	.L38
 490              		.cfi_endproc
 491              	.LFE152:
 493              		.section	.text.error_handler,"ax",%progbits
 494              		.align	1
 495              		.global	error_handler
 496              		.syntax unified
 497              		.thumb
 498              		.thumb_func
 500              	error_handler:
 501              	.LFB153:
 218:../../../mod/servo/servo.c **** 
 219:../../../mod/servo/servo.c **** /*******************************************************************************
 220:../../../mod/servo/servo.c **** *                                                                              *
 221:../../../mod/servo/servo.c **** * PROCEDURE:                                                                   * 
 222:../../../mod/servo/servo.c **** * 		error_handler                                                          *
 223:../../../mod/servo/servo.c **** *                                                                              *
 224:../../../mod/servo/servo.c **** * DESCRIPTION:                                                                 * 
 225:../../../mod/servo/servo.c **** * 		A function that handles a error driven from controlling servo          *
 226:../../../mod/servo/servo.c **** *                                                                              *
 227:../../../mod/servo/servo.c **** *******************************************************************************/
 228:../../../mod/servo/servo.c **** void error_handler()
 229:../../../mod/servo/servo.c **** {
 502              		.loc 1 229 1 is_stmt 1 view -0
 503              		.cfi_startproc
 504              		@ args = 0, pretend = 0, frame = 0
 505              		@ frame_needed = 0, uses_anonymous_args = 0
 506              		@ link register save eliminated.
 230:../../../mod/servo/servo.c **** 
 231:../../../mod/servo/servo.c **** }
 507              		.loc 1 231 1 view .LVU94
 508 0000 7047     		bx	lr
 509              		.cfi_endproc
 510              	.LFE153:
 512              		.text
 513              	.Letext0:
 514              		.file 2 "/usr/lib/gcc/arm-none-eabi/12.2.1/include/stdint.h"
 515              		.file 3 "../../../lib/Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h750xx.h"
 516              		.file 4 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 517              		.file 5 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 518              		.file 6 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 519              		.file 7 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_tim.h"
 520              		.file 8 "../../../lib/sdr_pin_defines_A0002.h"
 521              		.file 9 "../../../mod/servo/servo.h"
ARM GAS  /tmp/cccbTsVv.s 			page 14


DEFINED SYMBOLS
                            *ABS*:0000000000000000 servo.c
     /tmp/cccbTsVv.s:20     .text.servo_init:0000000000000000 $t
     /tmp/cccbTsVv.s:26     .text.servo_init:0000000000000000 servo_init
     /tmp/cccbTsVv.s:124    .text.servo_init:0000000000000070 $d
     /tmp/cccbTsVv.s:133    .text.servo_reset:0000000000000000 $t
     /tmp/cccbTsVv.s:139    .text.servo_reset:0000000000000000 servo_reset
     /tmp/cccbTsVv.s:170    .text.servo_reset:0000000000000014 $d
     /tmp/cccbTsVv.s:176    .text.motor1_drive:0000000000000000 $t
     /tmp/cccbTsVv.s:182    .text.motor1_drive:0000000000000000 motor1_drive
     /tmp/cccbTsVv.s:201    .text.motor1_drive:0000000000000008 $d
     /tmp/cccbTsVv.s:206    .text.motor2_drive:0000000000000000 $t
     /tmp/cccbTsVv.s:212    .text.motor2_drive:0000000000000000 motor2_drive
     /tmp/cccbTsVv.s:231    .text.motor2_drive:0000000000000008 $d
     /tmp/cccbTsVv.s:236    .text.motor3_drive:0000000000000000 $t
     /tmp/cccbTsVv.s:242    .text.motor3_drive:0000000000000000 motor3_drive
     /tmp/cccbTsVv.s:261    .text.motor3_drive:0000000000000008 $d
     /tmp/cccbTsVv.s:266    .text.motor4_drive:0000000000000000 $t
     /tmp/cccbTsVv.s:272    .text.motor4_drive:0000000000000000 motor4_drive
     /tmp/cccbTsVv.s:291    .text.motor4_drive:0000000000000008 $d
     /tmp/cccbTsVv.s:296    .text.motors_drive:0000000000000000 $t
     /tmp/cccbTsVv.s:302    .text.motors_drive:0000000000000000 motors_drive
     /tmp/cccbTsVv.s:342    .text.motor_drive:0000000000000000 $t
     /tmp/cccbTsVv.s:348    .text.motor_drive:0000000000000000 motor_drive
     /tmp/cccbTsVv.s:391    .text.motor_drive:000000000000002e $d
     /tmp/cccbTsVv.s:395    .text.motor_drive:0000000000000032 $t
     /tmp/cccbTsVv.s:442    .text.motor_drive:0000000000000058 $d
     /tmp/cccbTsVv.s:447    .text.servo_cmd_execute:0000000000000000 $t
     /tmp/cccbTsVv.s:453    .text.servo_cmd_execute:0000000000000000 servo_cmd_execute
     /tmp/cccbTsVv.s:494    .text.error_handler:0000000000000000 $t
     /tmp/cccbTsVv.s:500    .text.error_handler:0000000000000000 error_handler

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_TIM_PWM_Start
htim3
htim2
usb_receive
