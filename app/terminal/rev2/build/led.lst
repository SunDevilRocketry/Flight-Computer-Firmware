ARM GAS  /tmp/ccUL4xuU.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"led.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "../../../mod/led/led.c"
  19              		.section	.text.led_reset,"ax",%progbits
  20              		.align	1
  21              		.global	led_reset
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	led_reset:
  27              	.LFB145:
   1:../../../mod/led/led.c **** /*******************************************************************************
   2:../../../mod/led/led.c **** *
   3:../../../mod/led/led.c **** * FILE: 
   4:../../../mod/led/led.c **** * 		led.c
   5:../../../mod/led/led.c **** *
   6:../../../mod/led/led.c **** * DESCRIPTION: 
   7:../../../mod/led/led.c **** * 		Contains API functions to set the behavior of the on-board rgb led
   8:../../../mod/led/led.c **** *
   9:../../../mod/led/led.c **** *******************************************************************************/
  10:../../../mod/led/led.c **** 
  11:../../../mod/led/led.c **** 
  12:../../../mod/led/led.c **** /*------------------------------------------------------------------------------
  13:../../../mod/led/led.c ****  MCU Pins 
  14:../../../mod/led/led.c **** ------------------------------------------------------------------------------*/
  15:../../../mod/led/led.c **** #if defined( FLIGHT_COMPUTER )
  16:../../../mod/led/led.c **** 	#include "sdr_pin_defines_A0002.h"
  17:../../../mod/led/led.c **** #elif defined( ENGINE_CONTROLLER )
  18:../../../mod/led/led.c **** 	#include "sdr_pin_defines_L0002.h"
  19:../../../mod/led/led.c **** #elif defined( GROUND_STATION )
  20:../../../mod/led/led.c **** 	#include "sdr_pin_defines_A0005.h"
  21:../../../mod/led/led.c **** #endif
  22:../../../mod/led/led.c **** 
  23:../../../mod/led/led.c **** 
  24:../../../mod/led/led.c **** /*------------------------------------------------------------------------------
  25:../../../mod/led/led.c ****  Project Includes                                                                     
  26:../../../mod/led/led.c **** ------------------------------------------------------------------------------*/
  27:../../../mod/led/led.c **** #include "main.h"
  28:../../../mod/led/led.c **** #include "led.h"
  29:../../../mod/led/led.c **** 
  30:../../../mod/led/led.c **** 
  31:../../../mod/led/led.c **** /*------------------------------------------------------------------------------
ARM GAS  /tmp/ccUL4xuU.s 			page 2


  32:../../../mod/led/led.c ****  Procedures 
  33:../../../mod/led/led.c **** ------------------------------------------------------------------------------*/
  34:../../../mod/led/led.c **** 
  35:../../../mod/led/led.c **** 
  36:../../../mod/led/led.c **** /*******************************************************************************
  37:../../../mod/led/led.c **** *                                                                              *
  38:../../../mod/led/led.c **** * PROCEDURE:                                                                   * 
  39:../../../mod/led/led.c **** * 		led_error_assert                                                       *
  40:../../../mod/led/led.c **** *                                                                              *
  41:../../../mod/led/led.c **** * DESCRIPTION:                                                                 * 
  42:../../../mod/led/led.c **** * 		Sets the RGB LED to red to indicate a software exception               *
  43:../../../mod/led/led.c **** *                                                                              *
  44:../../../mod/led/led.c **** *******************************************************************************/
  45:../../../mod/led/led.c **** void led_error_assert
  46:../../../mod/led/led.c **** 	(
  47:../../../mod/led/led.c **** 	void
  48:../../../mod/led/led.c **** 	)
  49:../../../mod/led/led.c **** {
  50:../../../mod/led/led.c **** /* Reset RGB LED */
  51:../../../mod/led/led.c **** led_reset();
  52:../../../mod/led/led.c **** 
  53:../../../mod/led/led.c **** /* Set the RGB LED to red */
  54:../../../mod/led/led.c **** HAL_GPIO_WritePin(STATUS_GPIO_PORT, STATUS_R_PIN, GPIO_PIN_RESET);
  55:../../../mod/led/led.c **** 
  56:../../../mod/led/led.c **** } /* led_error_assert */
  57:../../../mod/led/led.c **** 
  58:../../../mod/led/led.c **** 
  59:../../../mod/led/led.c **** /*******************************************************************************
  60:../../../mod/led/led.c **** *                                                                              *
  61:../../../mod/led/led.c **** * PROCEDURE:                                                                   * 
  62:../../../mod/led/led.c **** * 		led_reset                                                              *
  63:../../../mod/led/led.c **** *                                                                              *
  64:../../../mod/led/led.c **** * DESCRIPTION:                                                                 * 
  65:../../../mod/led/led.c **** * 		Resets the RGB led                                                     *
  66:../../../mod/led/led.c **** *                                                                              *
  67:../../../mod/led/led.c **** *******************************************************************************/
  68:../../../mod/led/led.c **** void led_reset
  69:../../../mod/led/led.c **** 	(
  70:../../../mod/led/led.c **** 	void
  71:../../../mod/led/led.c **** 	)
  72:../../../mod/led/led.c **** {
  28              		.loc 1 72 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
  73:../../../mod/led/led.c **** 
  74:../../../mod/led/led.c **** /* Set all MCU RGB led pins to high */
  75:../../../mod/led/led.c **** HAL_GPIO_WritePin(
  37              		.loc 1 75 1 view .LVU1
  38 0002 0122     		movs	r2, #1
  39 0004 4FF46061 		mov	r1, #3584
  40 0008 0148     		ldr	r0, .L3
ARM GAS  /tmp/ccUL4xuU.s 			page 3


  41 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
  42              	.LVL0:
  76:../../../mod/led/led.c ****                  STATUS_GPIO_PORT, 
  77:../../../mod/led/led.c ****                  STATUS_R_PIN |
  78:../../../mod/led/led.c ****                  STATUS_G_PIN |
  79:../../../mod/led/led.c ****                  STATUS_B_PIN,
  80:../../../mod/led/led.c ****                  GPIO_PIN_SET
  81:../../../mod/led/led.c ****                  );
  82:../../../mod/led/led.c **** 
  83:../../../mod/led/led.c **** } /* led_reset */
  43              		.loc 1 83 1 is_stmt 0 view .LVU2
  44 000e 08BD     		pop	{r3, pc}
  45              	.L4:
  46              		.align	2
  47              	.L3:
  48 0010 00000258 		.word	1476526080
  49              		.cfi_endproc
  50              	.LFE145:
  52              		.section	.text.led_error_assert,"ax",%progbits
  53              		.align	1
  54              		.global	led_error_assert
  55              		.syntax unified
  56              		.thumb
  57              		.thumb_func
  59              	led_error_assert:
  60              	.LFB144:
  49:../../../mod/led/led.c **** /* Reset RGB LED */
  61              		.loc 1 49 1 is_stmt 1 view -0
  62              		.cfi_startproc
  63              		@ args = 0, pretend = 0, frame = 0
  64              		@ frame_needed = 0, uses_anonymous_args = 0
  65 0000 08B5     		push	{r3, lr}
  66              	.LCFI1:
  67              		.cfi_def_cfa_offset 8
  68              		.cfi_offset 3, -8
  69              		.cfi_offset 14, -4
  51:../../../mod/led/led.c **** 
  70              		.loc 1 51 1 view .LVU4
  71 0002 FFF7FEFF 		bl	led_reset
  72              	.LVL1:
  54:../../../mod/led/led.c **** 
  73              		.loc 1 54 1 view .LVU5
  74 0006 0022     		movs	r2, #0
  75 0008 4FF40061 		mov	r1, #2048
  76 000c 0148     		ldr	r0, .L7
  77 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
  78              	.LVL2:
  56:../../../mod/led/led.c **** 
  79              		.loc 1 56 1 is_stmt 0 view .LVU6
  80 0012 08BD     		pop	{r3, pc}
  81              	.L8:
  82              		.align	2
  83              	.L7:
  84 0014 00000258 		.word	1476526080
  85              		.cfi_endproc
  86              	.LFE144:
  88              		.section	.text.led_error_flash,"ax",%progbits
ARM GAS  /tmp/ccUL4xuU.s 			page 4


  89              		.align	1
  90              		.global	led_error_flash
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  95              	led_error_flash:
  96              	.LFB146:
  84:../../../mod/led/led.c **** 
  85:../../../mod/led/led.c **** 
  86:../../../mod/led/led.c **** /*******************************************************************************
  87:../../../mod/led/led.c **** *                                                                              *
  88:../../../mod/led/led.c **** * PROCEDURE:                                                                   * 
  89:../../../mod/led/led.c **** * 		led_error_flash                                                        *
  90:../../../mod/led/led.c **** *                                                                              *
  91:../../../mod/led/led.c **** * DESCRIPTION:                                                                 * 
  92:../../../mod/led/led.c **** * 		Flashes the RGB led red to indicate the code hit a block of code not   *
  93:../../../mod/led/led.c **** *       intended to be hit under normal conditions                             *
  94:../../../mod/led/led.c **** *                                                                              *
  95:../../../mod/led/led.c **** *******************************************************************************/
  96:../../../mod/led/led.c **** void led_error_flash
  97:../../../mod/led/led.c **** 	(
  98:../../../mod/led/led.c **** 	void
  99:../../../mod/led/led.c **** 	)
 100:../../../mod/led/led.c **** {
  97              		.loc 1 100 1 is_stmt 1 view -0
  98              		.cfi_startproc
  99              		@ args = 0, pretend = 0, frame = 0
 100              		@ frame_needed = 0, uses_anonymous_args = 0
 101 0000 10B5     		push	{r4, lr}
 102              	.LCFI2:
 103              		.cfi_def_cfa_offset 8
 104              		.cfi_offset 4, -8
 105              		.cfi_offset 14, -4
 101:../../../mod/led/led.c **** 
 102:../../../mod/led/led.c **** /* Flash led red */
 103:../../../mod/led/led.c **** led_reset();
 106              		.loc 1 103 1 view .LVU8
 107 0002 FFF7FEFF 		bl	led_reset
 108              	.LVL3:
 104:../../../mod/led/led.c **** HAL_GPIO_WritePin(STATUS_GPIO_PORT, STATUS_R_PIN, GPIO_PIN_RESET); 
 109              		.loc 1 104 1 view .LVU9
 110 0006 084C     		ldr	r4, .L11
 111 0008 0022     		movs	r2, #0
 112 000a 4FF40061 		mov	r1, #2048
 113 000e 2046     		mov	r0, r4
 114 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 115              	.LVL4:
 105:../../../mod/led/led.c **** HAL_Delay(100);
 116              		.loc 1 105 1 view .LVU10
 117 0014 6420     		movs	r0, #100
 118 0016 FFF7FEFF 		bl	HAL_Delay
 119              	.LVL5:
 106:../../../mod/led/led.c **** HAL_GPIO_WritePin(STATUS_GPIO_PORT, STATUS_R_PIN, GPIO_PIN_SET); 
 120              		.loc 1 106 1 view .LVU11
 121 001a 0122     		movs	r2, #1
 122 001c 4FF40061 		mov	r1, #2048
 123 0020 2046     		mov	r0, r4
ARM GAS  /tmp/ccUL4xuU.s 			page 5


 124 0022 FFF7FEFF 		bl	HAL_GPIO_WritePin
 125              	.LVL6:
 107:../../../mod/led/led.c **** 
 108:../../../mod/led/led.c **** } /* led_error_flash */
 126              		.loc 1 108 1 is_stmt 0 view .LVU12
 127 0026 10BD     		pop	{r4, pc}
 128              	.L12:
 129              		.align	2
 130              	.L11:
 131 0028 00000258 		.word	1476526080
 132              		.cfi_endproc
 133              	.LFE146:
 135              		.section	.text.led_set_color,"ax",%progbits
 136              		.align	1
 137              		.global	led_set_color
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 142              	led_set_color:
 143              	.LVL7:
 144              	.LFB147:
 109:../../../mod/led/led.c **** 
 110:../../../mod/led/led.c **** 
 111:../../../mod/led/led.c **** /*******************************************************************************
 112:../../../mod/led/led.c **** *                                                                              *
 113:../../../mod/led/led.c **** * PROCEDURE:                                                                   * 
 114:../../../mod/led/led.c **** * 		led_set_color                                                          *
 115:../../../mod/led/led.c **** *                                                                              *
 116:../../../mod/led/led.c **** * DESCRIPTION:                                                                 * 
 117:../../../mod/led/led.c **** * 		Sets the LED to a color from the LED_COLOR_CODES enum                  *
 118:../../../mod/led/led.c **** *                                                                              *
 119:../../../mod/led/led.c **** *******************************************************************************/
 120:../../../mod/led/led.c **** void led_set_color
 121:../../../mod/led/led.c **** 	(
 122:../../../mod/led/led.c **** 	LED_COLOR_CODES color
 123:../../../mod/led/led.c **** 	)
 124:../../../mod/led/led.c **** {
 145              		.loc 1 124 1 is_stmt 1 view -0
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149              		.loc 1 124 1 is_stmt 0 view .LVU14
 150 0000 10B5     		push	{r4, lr}
 151              	.LCFI3:
 152              		.cfi_def_cfa_offset 8
 153              		.cfi_offset 4, -8
 154              		.cfi_offset 14, -4
 155 0002 0446     		mov	r4, r0
 125:../../../mod/led/led.c **** 
 126:../../../mod/led/led.c **** /* Reset LED */
 127:../../../mod/led/led.c **** led_reset();
 156              		.loc 1 127 1 is_stmt 1 view .LVU15
 157 0004 FFF7FEFF 		bl	led_reset
 158              	.LVL8:
 128:../../../mod/led/led.c **** 
 129:../../../mod/led/led.c **** /* Check Colors */
 130:../../../mod/led/led.c **** switch ( color )
ARM GAS  /tmp/ccUL4xuU.s 			page 6


 159              		.loc 1 130 1 view .LVU16
 160 0008 032C     		cmp	r4, #3
 161 000a 1FD8     		bhi	.L14
 162 000c DFE804F0 		tbb	[pc, r4]
 163              	.L16:
 164 0010 02       		.byte	(.L19-.L16)/2
 165 0011 09       		.byte	(.L18-.L16)/2
 166 0012 10       		.byte	(.L17-.L16)/2
 167 0013 17       		.byte	(.L15-.L16)/2
 168              		.p2align 1
 169              	.L19:
 131:../../../mod/led/led.c **** 	{
 132:../../../mod/led/led.c **** 	case LED_GREEN:
 133:../../../mod/led/led.c **** 		{
 134:../../../mod/led/led.c **** 		HAL_GPIO_WritePin( STATUS_GPIO_PORT, STATUS_G_PIN, GPIO_PIN_RESET );
 170              		.loc 1 134 3 view .LVU17
 171 0014 0022     		movs	r2, #0
 172 0016 4FF48061 		mov	r1, #1024
 173 001a 0E48     		ldr	r0, .L22
 174 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
 175              	.LVL9:
 135:../../../mod/led/led.c **** 		break;
 176              		.loc 1 135 3 view .LVU18
 177              	.L13:
 136:../../../mod/led/led.c **** 		}
 137:../../../mod/led/led.c **** 
 138:../../../mod/led/led.c **** 	case LED_RED:
 139:../../../mod/led/led.c **** 		{
 140:../../../mod/led/led.c **** 		HAL_GPIO_WritePin( STATUS_GPIO_PORT, STATUS_R_PIN, GPIO_PIN_RESET );
 141:../../../mod/led/led.c **** 		break;
 142:../../../mod/led/led.c **** 		}
 143:../../../mod/led/led.c **** 
 144:../../../mod/led/led.c **** 	case LED_BLUE:
 145:../../../mod/led/led.c **** 		{
 146:../../../mod/led/led.c **** 		HAL_GPIO_WritePin( STATUS_GPIO_PORT, STATUS_B_PIN, GPIO_PIN_RESET );
 147:../../../mod/led/led.c **** 		break;
 148:../../../mod/led/led.c **** 		}
 149:../../../mod/led/led.c **** 
 150:../../../mod/led/led.c **** 	case LED_CYAN:
 151:../../../mod/led/led.c **** 		{
 152:../../../mod/led/led.c **** 		HAL_GPIO_WritePin( STATUS_GPIO_PORT, 
 153:../../../mod/led/led.c ****                            STATUS_B_PIN | 
 154:../../../mod/led/led.c ****                            STATUS_G_PIN, 
 155:../../../mod/led/led.c ****                            GPIO_PIN_RESET);
 156:../../../mod/led/led.c **** 		break;
 157:../../../mod/led/led.c **** 		}
 158:../../../mod/led/led.c **** 
 159:../../../mod/led/led.c **** 	default:
 160:../../../mod/led/led.c **** 		{
 161:../../../mod/led/led.c **** 		/* Unrecognized Color */
 162:../../../mod/led/led.c **** 		Error_Handler();
 163:../../../mod/led/led.c **** 		break;
 164:../../../mod/led/led.c **** 		}
 165:../../../mod/led/led.c **** 	}
 166:../../../mod/led/led.c **** } /* led_set_color */
 178              		.loc 1 166 1 is_stmt 0 view .LVU19
 179 0020 10BD     		pop	{r4, pc}
ARM GAS  /tmp/ccUL4xuU.s 			page 7


 180              	.L18:
 140:../../../mod/led/led.c **** 		break;
 181              		.loc 1 140 3 is_stmt 1 view .LVU20
 182 0022 0022     		movs	r2, #0
 183 0024 4FF40061 		mov	r1, #2048
 184 0028 0A48     		ldr	r0, .L22
 185 002a FFF7FEFF 		bl	HAL_GPIO_WritePin
 186              	.LVL10:
 141:../../../mod/led/led.c **** 		}
 187              		.loc 1 141 3 view .LVU21
 188 002e F7E7     		b	.L13
 189              	.L17:
 146:../../../mod/led/led.c **** 		break;
 190              		.loc 1 146 3 view .LVU22
 191 0030 0022     		movs	r2, #0
 192 0032 4FF40071 		mov	r1, #512
 193 0036 0748     		ldr	r0, .L22
 194 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 195              	.LVL11:
 147:../../../mod/led/led.c **** 		}
 196              		.loc 1 147 3 view .LVU23
 197 003c F0E7     		b	.L13
 198              	.L15:
 152:../../../mod/led/led.c ****                            STATUS_B_PIN | 
 199              		.loc 1 152 3 view .LVU24
 200 003e 0022     		movs	r2, #0
 201 0040 4FF4C061 		mov	r1, #1536
 202 0044 0348     		ldr	r0, .L22
 203 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 204              	.LVL12:
 156:../../../mod/led/led.c **** 		}
 205              		.loc 1 156 3 view .LVU25
 206 004a E9E7     		b	.L13
 207              	.L14:
 162:../../../mod/led/led.c **** 		break;
 208              		.loc 1 162 3 view .LVU26
 209 004c FFF7FEFF 		bl	Error_Handler
 210              	.LVL13:
 163:../../../mod/led/led.c **** 		}
 211              		.loc 1 163 3 view .LVU27
 212              		.loc 1 166 1 is_stmt 0 view .LVU28
 213 0050 E6E7     		b	.L13
 214              	.L23:
 215 0052 00BF     		.align	2
 216              	.L22:
 217 0054 00000258 		.word	1476526080
 218              		.cfi_endproc
 219              	.LFE147:
 221              		.text
 222              	.Letext0:
 223              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 224              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 225              		.file 4 "../../../lib/Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h750xx.h"
 226              		.file 5 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 227              		.file 6 "../../../mod/led/led.h"
 228              		.file 7 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 229              		.file 8 "./main.h"
ARM GAS  /tmp/ccUL4xuU.s 			page 8


ARM GAS  /tmp/ccUL4xuU.s 			page 9


DEFINED SYMBOLS
                            *ABS*:0000000000000000 led.c
     /tmp/ccUL4xuU.s:20     .text.led_reset:0000000000000000 $t
     /tmp/ccUL4xuU.s:26     .text.led_reset:0000000000000000 led_reset
     /tmp/ccUL4xuU.s:48     .text.led_reset:0000000000000010 $d
     /tmp/ccUL4xuU.s:53     .text.led_error_assert:0000000000000000 $t
     /tmp/ccUL4xuU.s:59     .text.led_error_assert:0000000000000000 led_error_assert
     /tmp/ccUL4xuU.s:84     .text.led_error_assert:0000000000000014 $d
     /tmp/ccUL4xuU.s:89     .text.led_error_flash:0000000000000000 $t
     /tmp/ccUL4xuU.s:95     .text.led_error_flash:0000000000000000 led_error_flash
     /tmp/ccUL4xuU.s:131    .text.led_error_flash:0000000000000028 $d
     /tmp/ccUL4xuU.s:136    .text.led_set_color:0000000000000000 $t
     /tmp/ccUL4xuU.s:142    .text.led_set_color:0000000000000000 led_set_color
     /tmp/ccUL4xuU.s:164    .text.led_set_color:0000000000000010 $d
     /tmp/ccUL4xuU.s:168    .text.led_set_color:0000000000000014 $t
     /tmp/ccUL4xuU.s:217    .text.led_set_color:0000000000000054 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_Delay
Error_Handler
