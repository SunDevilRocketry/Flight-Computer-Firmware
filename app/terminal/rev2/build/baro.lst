ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"baro.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.bytes_to_uint16_t,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	bytes_to_uint16_t:
  25              	.LVL0:
  26              	.LFB150:
  27              		.file 1 "../../../mod/baro/baro.c"
   1:../../../mod/baro/baro.c **** /*******************************************************************************
   2:../../../mod/baro/baro.c **** *
   3:../../../mod/baro/baro.c **** * FILE: 
   4:../../../mod/baro/baro.c **** * 		baro.c
   5:../../../mod/baro/baro.c **** *
   6:../../../mod/baro/baro.c **** * DESCRIPTION: 
   7:../../../mod/baro/baro.c **** * 		Contains API functions for the barometric pressure sensor
   8:../../../mod/baro/baro.c **** *
   9:../../../mod/baro/baro.c **** *******************************************************************************/
  10:../../../mod/baro/baro.c **** 
  11:../../../mod/baro/baro.c **** 
  12:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
  13:../../../mod/baro/baro.c ****  Standard Includes                                                                     
  14:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
  15:../../../mod/baro/baro.c **** #include <stdbool.h>
  16:../../../mod/baro/baro.c **** #include <string.h>
  17:../../../mod/baro/baro.c **** #include <math.h>
  18:../../../mod/baro/baro.c **** 
  19:../../../mod/baro/baro.c **** 
  20:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
  21:../../../mod/baro/baro.c ****  Project Includes                                                                     
  22:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
  23:../../../mod/baro/baro.c **** #include "main.h"
  24:../../../mod/baro/baro.c **** #include "sdr_pin_defines_A0002.h"
  25:../../../mod/baro/baro.c **** #include "baro.h"
  26:../../../mod/baro/baro.c **** 
  27:../../../mod/baro/baro.c **** 
  28:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
  29:../../../mod/baro/baro.c **** Global Variables  
  30:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
  31:../../../mod/baro/baro.c **** 
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 2


  32:../../../mod/baro/baro.c **** /* Current Baro Sensor configuration */
  33:../../../mod/baro/baro.c **** static BARO_CONFIG   baro_configuration;
  34:../../../mod/baro/baro.c **** 
  35:../../../mod/baro/baro.c **** /* Baro calibration coefficients for measurement compensation */
  36:../../../mod/baro/baro.c **** static BARO_CAL_DATA baro_cal_data;
  37:../../../mod/baro/baro.c **** 
  38:../../../mod/baro/baro.c **** 
  39:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
  40:../../../mod/baro/baro.c ****  Internal function prototypes 
  41:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
  42:../../../mod/baro/baro.c **** 
  43:../../../mod/baro/baro.c **** /* Converts two bytes to uint16_t format */
  44:../../../mod/baro/baro.c **** static uint16_t bytes_to_uint16_t
  45:../../../mod/baro/baro.c **** 	(
  46:../../../mod/baro/baro.c **** 	uint8_t lsb_byte, /* In: Least significant byte */
  47:../../../mod/baro/baro.c **** 	uint8_t msb_byte  /* In: Most significant byte  */
  48:../../../mod/baro/baro.c **** 	);
  49:../../../mod/baro/baro.c **** 
  50:../../../mod/baro/baro.c **** /* Converts two bytes to int16_t format */
  51:../../../mod/baro/baro.c **** static int16_t bytes_to_int16_t
  52:../../../mod/baro/baro.c **** 	(
  53:../../../mod/baro/baro.c **** 	uint8_t lsb_byte, /* In: Least significant byte */
  54:../../../mod/baro/baro.c **** 	uint8_t msb_byte  /* In: Most significant byte  */
  55:../../../mod/baro/baro.c **** 	);
  56:../../../mod/baro/baro.c **** 
  57:../../../mod/baro/baro.c **** /* Read from the baro's registers at a specified address  */
  58:../../../mod/baro/baro.c **** static BARO_STATUS read_regs
  59:../../../mod/baro/baro.c **** 	(
  60:../../../mod/baro/baro.c **** 	uint8_t  reg_addr, /* In:  Register address            */
  61:../../../mod/baro/baro.c **** 	uint8_t  num_regs, /* In:  Number of registers to read */
  62:../../../mod/baro/baro.c **** 	uint8_t* pData     /* Out: Register contents           */
  63:../../../mod/baro/baro.c **** 	);
  64:../../../mod/baro/baro.c **** 
  65:../../../mod/baro/baro.c **** 
  66:../../../mod/baro/baro.c **** /* Write to one of the baro's registers at a specified address */
  67:../../../mod/baro/baro.c **** static BARO_STATUS write_reg
  68:../../../mod/baro/baro.c **** 	(
  69:../../../mod/baro/baro.c **** 	uint8_t  reg_addr, /* In: Register address            */
  70:../../../mod/baro/baro.c **** 	uint8_t  data      /* In: Register contents           */
  71:../../../mod/baro/baro.c **** 	);
  72:../../../mod/baro/baro.c **** 
  73:../../../mod/baro/baro.c **** /* Load the compensation data from the baro sensor */
  74:../../../mod/baro/baro.c **** static BARO_STATUS load_cal_data
  75:../../../mod/baro/baro.c **** 	(
  76:../../../mod/baro/baro.c **** 	void
  77:../../../mod/baro/baro.c **** 	);
  78:../../../mod/baro/baro.c **** 
  79:../../../mod/baro/baro.c **** /* Apply the compensation formula to raw temperature readouts */
  80:../../../mod/baro/baro.c **** static float temp_compensate
  81:../../../mod/baro/baro.c **** 	(
  82:../../../mod/baro/baro.c **** 	uint32_t raw_readout
  83:../../../mod/baro/baro.c **** 	);
  84:../../../mod/baro/baro.c **** 
  85:../../../mod/baro/baro.c **** /* Apply the compensation formula to raw pressure readouts */
  86:../../../mod/baro/baro.c **** static float press_compensate 
  87:../../../mod/baro/baro.c **** 	(
  88:../../../mod/baro/baro.c **** 	uint32_t raw_readout
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 3


  89:../../../mod/baro/baro.c **** 	);
  90:../../../mod/baro/baro.c **** 
  91:../../../mod/baro/baro.c **** /* Reset the baro sensor */
  92:../../../mod/baro/baro.c **** static BARO_STATUS baro_reset
  93:../../../mod/baro/baro.c **** 	(
  94:../../../mod/baro/baro.c **** 	void
  95:../../../mod/baro/baro.c **** 	);
  96:../../../mod/baro/baro.c **** 
  97:../../../mod/baro/baro.c **** /* Flush the FIFO buffer */
  98:../../../mod/baro/baro.c **** static BARO_STATUS baro_flush_fifo
  99:../../../mod/baro/baro.c **** 	(
 100:../../../mod/baro/baro.c **** 	void
 101:../../../mod/baro/baro.c **** 	);
 102:../../../mod/baro/baro.c **** 
 103:../../../mod/baro/baro.c **** 
 104:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 105:../../../mod/baro/baro.c ****  API Functions 
 106:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 107:../../../mod/baro/baro.c **** 
 108:../../../mod/baro/baro.c **** 
 109:../../../mod/baro/baro.c **** /*******************************************************************************
 110:../../../mod/baro/baro.c **** *                                                                              *
 111:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   * 
 112:../../../mod/baro/baro.c **** *       baro_init                                                              *
 113:../../../mod/baro/baro.c **** *                                                                              *
 114:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 * 
 115:../../../mod/baro/baro.c **** * 		Intialize the barometric pressure sensor                               *
 116:../../../mod/baro/baro.c **** *                                                                              *
 117:../../../mod/baro/baro.c **** *******************************************************************************/
 118:../../../mod/baro/baro.c **** BARO_STATUS baro_init
 119:../../../mod/baro/baro.c **** 	(
 120:../../../mod/baro/baro.c **** 	BARO_CONFIG* config_ptr
 121:../../../mod/baro/baro.c **** 	)
 122:../../../mod/baro/baro.c **** {
 123:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 124:../../../mod/baro/baro.c ****  Local variables  
 125:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 126:../../../mod/baro/baro.c **** BARO_STATUS       baro_status;    /* Status code from Baro API calls   */
 127:../../../mod/baro/baro.c **** uint8_t           baro_device_id; /* Baro device id                    */
 128:../../../mod/baro/baro.c **** uint8_t           baro_err_reg;   /* Contents of error register        */
 129:../../../mod/baro/baro.c **** float             init_temp;      /* Temperature read after init       */
 130:../../../mod/baro/baro.c **** 
 131:../../../mod/baro/baro.c **** 
 132:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 133:../../../mod/baro/baro.c ****  Initializations 
 134:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 135:../../../mod/baro/baro.c **** baro_status    = BARO_OK;
 136:../../../mod/baro/baro.c **** baro_device_id = 0;
 137:../../../mod/baro/baro.c **** baro_err_reg   = 0xFF;
 138:../../../mod/baro/baro.c **** init_temp      = 0;
 139:../../../mod/baro/baro.c **** 
 140:../../../mod/baro/baro.c **** 
 141:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 142:../../../mod/baro/baro.c ****  API Function Implementation 
 143:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 144:../../../mod/baro/baro.c **** 
 145:../../../mod/baro/baro.c **** /* Verify functional I2C connection to sensor */
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 4


 146:../../../mod/baro/baro.c **** baro_status = baro_get_device_id( &baro_device_id );
 147:../../../mod/baro/baro.c **** if      ( baro_status   != BARO_OK         )
 148:../../../mod/baro/baro.c **** 	{
 149:../../../mod/baro/baro.c **** 	return BARO_I2C_ERROR;
 150:../../../mod/baro/baro.c **** 	}
 151:../../../mod/baro/baro.c **** else if ( baro_device_id != BMP390_DEVICE_ID &&
 152:../../../mod/baro/baro.c ****           baro_device_id != BMP388_DEVICE_ID )
 153:../../../mod/baro/baro.c **** 	{
 154:../../../mod/baro/baro.c **** 	return BARO_UNRECOGNIZED_CHIP_ID;
 155:../../../mod/baro/baro.c **** 	}
 156:../../../mod/baro/baro.c **** 
 157:../../../mod/baro/baro.c **** /* Reset the sensor */
 158:../../../mod/baro/baro.c **** baro_status = baro_reset();
 159:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 160:../../../mod/baro/baro.c **** 	{
 161:../../../mod/baro/baro.c **** 	return BARO_CANNOT_RESET;
 162:../../../mod/baro/baro.c **** 	}
 163:../../../mod/baro/baro.c **** HAL_Delay( 10 );
 164:../../../mod/baro/baro.c **** 
 165:../../../mod/baro/baro.c **** /* Check the Baro error register */
 166:../../../mod/baro/baro.c **** baro_status = read_regs( BARO_REG_ERR_REG      , 
 167:../../../mod/baro/baro.c ****                          sizeof( baro_err_reg ), 
 168:../../../mod/baro/baro.c **** 						 &baro_err_reg );
 169:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 170:../../../mod/baro/baro.c **** 	{
 171:../../../mod/baro/baro.c **** 	return BARO_I2C_ERROR;
 172:../../../mod/baro/baro.c **** 	}
 173:../../../mod/baro/baro.c **** else if ( baro_err_reg )
 174:../../../mod/baro/baro.c **** 	{
 175:../../../mod/baro/baro.c **** 	return BARO_ERROR;
 176:../../../mod/baro/baro.c **** 	}
 177:../../../mod/baro/baro.c **** 
 178:../../../mod/baro/baro.c **** /* Load the calibration coefficients */
 179:../../../mod/baro/baro.c **** baro_status = load_cal_data();
 180:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 181:../../../mod/baro/baro.c **** 	{
 182:../../../mod/baro/baro.c **** 	return BARO_CAL_ERROR;
 183:../../../mod/baro/baro.c **** 	}
 184:../../../mod/baro/baro.c **** 
 185:../../../mod/baro/baro.c **** /* Flush the sensor FIFO buffer */
 186:../../../mod/baro/baro.c **** baro_status = baro_flush_fifo();
 187:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 188:../../../mod/baro/baro.c **** 	{
 189:../../../mod/baro/baro.c **** 	return BARO_FIFO_ERROR;
 190:../../../mod/baro/baro.c **** 	}
 191:../../../mod/baro/baro.c **** 
 192:../../../mod/baro/baro.c **** /* Initialize the compensation temperature */
 193:../../../mod/baro/baro.c **** baro_status = baro_get_temp( &init_temp );
 194:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 195:../../../mod/baro/baro.c **** 	{ 
 196:../../../mod/baro/baro.c **** 	return baro_status;
 197:../../../mod/baro/baro.c **** 	}
 198:../../../mod/baro/baro.c **** 
 199:../../../mod/baro/baro.c **** /* Configure the sensor */
 200:../../../mod/baro/baro.c **** baro_status = baro_config( config_ptr );
 201:../../../mod/baro/baro.c **** return baro_status;
 202:../../../mod/baro/baro.c **** 
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 5


 203:../../../mod/baro/baro.c **** } /* baro_init */
 204:../../../mod/baro/baro.c **** 
 205:../../../mod/baro/baro.c **** 
 206:../../../mod/baro/baro.c **** /*******************************************************************************
 207:../../../mod/baro/baro.c **** *                                                                              *
 208:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   * 
 209:../../../mod/baro/baro.c **** *       baro_config                                                            *
 210:../../../mod/baro/baro.c **** *                                                                              *
 211:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 * 
 212:../../../mod/baro/baro.c **** * 		Configure the barometric pressure sensor                               *
 213:../../../mod/baro/baro.c **** *                                                                              *
 214:../../../mod/baro/baro.c **** *******************************************************************************/
 215:../../../mod/baro/baro.c **** BARO_STATUS baro_config
 216:../../../mod/baro/baro.c **** 	(
 217:../../../mod/baro/baro.c **** 	BARO_CONFIG* config_ptr
 218:../../../mod/baro/baro.c **** 	)
 219:../../../mod/baro/baro.c **** {
 220:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 221:../../../mod/baro/baro.c ****  Local variables  
 222:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 223:../../../mod/baro/baro.c **** BARO_STATUS   baro_status; /* Baro API call return codes                  */
 224:../../../mod/baro/baro.c **** uint8_t       pwr_ctrl;    /* Contents of PWR_CTRL register               */
 225:../../../mod/baro/baro.c **** uint8_t       osr;         /* Contents of OSR register                    */
 226:../../../mod/baro/baro.c **** uint8_t       odr;         /* Contents of ODR register                    */
 227:../../../mod/baro/baro.c **** uint8_t       iir;         /* Contents of CONFIG register (IIR Filter)    */
 228:../../../mod/baro/baro.c **** 
 229:../../../mod/baro/baro.c **** 
 230:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 231:../../../mod/baro/baro.c ****  Initializations 
 232:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 233:../../../mod/baro/baro.c **** baro_status = BARO_OK;
 234:../../../mod/baro/baro.c **** pwr_ctrl    = 0;
 235:../../../mod/baro/baro.c **** osr         = 0;
 236:../../../mod/baro/baro.c **** odr         = 0;
 237:../../../mod/baro/baro.c **** iir         = 0;
 238:../../../mod/baro/baro.c **** 
 239:../../../mod/baro/baro.c **** 
 240:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 241:../../../mod/baro/baro.c ****  Extract Baro settings from config struct  
 242:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 243:../../../mod/baro/baro.c **** 
 244:../../../mod/baro/baro.c **** /* Set register contents */
 245:../../../mod/baro/baro.c **** pwr_ctrl |= config_ptr -> enable;                /* Enable sensors           */
 246:../../../mod/baro/baro.c **** pwr_ctrl |= config_ptr -> mode << 4;             /* Set operating mode       */
 247:../../../mod/baro/baro.c **** osr      |= config_ptr -> press_OSR_setting;     /* Pressure oversampling    */
 248:../../../mod/baro/baro.c **** osr      |= config_ptr -> temp_OSR_setting << 3; /* Temperature oversampling */
 249:../../../mod/baro/baro.c **** odr      |= config_ptr -> ODR_setting;           /* Sampling Frequency       */
 250:../../../mod/baro/baro.c **** iir      |= config_ptr -> IIR_setting;           /* IIR Filter Selection     */
 251:../../../mod/baro/baro.c **** 
 252:../../../mod/baro/baro.c **** /* Set global baro configuration */
 253:../../../mod/baro/baro.c **** baro_configuration.enable            = config_ptr -> enable;
 254:../../../mod/baro/baro.c **** baro_configuration.mode              = config_ptr -> mode;
 255:../../../mod/baro/baro.c **** baro_configuration.press_OSR_setting = config_ptr -> press_OSR_setting;
 256:../../../mod/baro/baro.c **** baro_configuration.temp_OSR_setting  = config_ptr -> temp_OSR_setting;
 257:../../../mod/baro/baro.c **** baro_configuration.ODR_setting       = config_ptr -> ODR_setting;
 258:../../../mod/baro/baro.c **** baro_configuration.IIR_setting       = config_ptr -> IIR_setting;
 259:../../../mod/baro/baro.c **** 
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 6


 260:../../../mod/baro/baro.c **** 
 261:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 262:../../../mod/baro/baro.c ****  API function implementation 
 263:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 264:../../../mod/baro/baro.c **** 
 265:../../../mod/baro/baro.c **** /* Write to the PWR_CTRL register -> Operating mode and enable sensors */
 266:../../../mod/baro/baro.c **** baro_status = write_reg( BARO_REG_PWR_CTRL, pwr_ctrl );
 267:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 268:../../../mod/baro/baro.c **** 	{
 269:../../../mod/baro/baro.c **** 	return BARO_I2C_ERROR;
 270:../../../mod/baro/baro.c **** 	}
 271:../../../mod/baro/baro.c **** 
 272:../../../mod/baro/baro.c **** /* Write to the OSR register -> set the oversampling rate */
 273:../../../mod/baro/baro.c **** baro_status = write_reg( BARO_REG_OSR, osr );
 274:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 275:../../../mod/baro/baro.c **** 	{
 276:../../../mod/baro/baro.c **** 	return BARO_I2C_ERROR;
 277:../../../mod/baro/baro.c **** 	}
 278:../../../mod/baro/baro.c **** 
 279:../../../mod/baro/baro.c **** /* Write to the ODR register -> set the sampling frequency */
 280:../../../mod/baro/baro.c **** baro_status = write_reg( BARO_REG_ODR, odr );
 281:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 282:../../../mod/baro/baro.c **** 	{
 283:../../../mod/baro/baro.c **** 	return BARO_I2C_ERROR;
 284:../../../mod/baro/baro.c **** 	}
 285:../../../mod/baro/baro.c **** 
 286:../../../mod/baro/baro.c **** /* Write to the CONFIG register -> Configure the IIR filter */
 287:../../../mod/baro/baro.c **** baro_status = write_reg( BARO_REG_CONFIG, iir );
 288:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 289:../../../mod/baro/baro.c **** 	{
 290:../../../mod/baro/baro.c **** 	return BARO_I2C_ERROR;
 291:../../../mod/baro/baro.c **** 	}
 292:../../../mod/baro/baro.c **** 
 293:../../../mod/baro/baro.c **** /* Configuration complete */
 294:../../../mod/baro/baro.c **** return BARO_OK;
 295:../../../mod/baro/baro.c **** 
 296:../../../mod/baro/baro.c **** } /* baro_config */
 297:../../../mod/baro/baro.c **** 
 298:../../../mod/baro/baro.c **** 
 299:../../../mod/baro/baro.c **** /*******************************************************************************
 300:../../../mod/baro/baro.c **** *                                                                              *
 301:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   * 
 302:../../../mod/baro/baro.c **** * 		baro_get_device_id                                                     *
 303:../../../mod/baro/baro.c **** *                                                                              *
 304:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 * 
 305:../../../mod/baro/baro.c **** * 		Gets the device ID of the barometric pressure sensor, primarily used   *
 306:../../../mod/baro/baro.c **** *       to verify that the sensor can be accessed by the MCU                   *
 307:../../../mod/baro/baro.c **** *                                                                              *
 308:../../../mod/baro/baro.c **** *******************************************************************************/
 309:../../../mod/baro/baro.c **** BARO_STATUS baro_get_device_id
 310:../../../mod/baro/baro.c **** 	(
 311:../../../mod/baro/baro.c ****    	uint8_t* baro_id_ptr /* Out: Baro device id */ 
 312:../../../mod/baro/baro.c **** 	)
 313:../../../mod/baro/baro.c **** {
 314:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 315:../../../mod/baro/baro.c ****  Local Variables 
 316:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 7


 317:../../../mod/baro/baro.c **** BARO_STATUS baro_status; /* Status codes returned from baro API calls */
 318:../../../mod/baro/baro.c **** 
 319:../../../mod/baro/baro.c **** 
 320:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 321:../../../mod/baro/baro.c ****  API Function implementation 
 322:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 323:../../../mod/baro/baro.c **** 
 324:../../../mod/baro/baro.c **** /* Read baro register with I2C */
 325:../../../mod/baro/baro.c **** baro_status = read_regs( BARO_REG_CHIP_ID, 
 326:../../../mod/baro/baro.c ****                          sizeof( uint8_t ), 
 327:../../../mod/baro/baro.c **** 						 baro_id_ptr );
 328:../../../mod/baro/baro.c **** return baro_status;
 329:../../../mod/baro/baro.c **** } /* baro_get_device_id */
 330:../../../mod/baro/baro.c **** 
 331:../../../mod/baro/baro.c **** 
 332:../../../mod/baro/baro.c **** /*******************************************************************************
 333:../../../mod/baro/baro.c **** *                                                                              *
 334:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   * 
 335:../../../mod/baro/baro.c **** * 		baro_get_pressure                                                      *
 336:../../../mod/baro/baro.c **** *                                                                              *
 337:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 * 
 338:../../../mod/baro/baro.c **** * 		retrieves a pressure reading from the sensor                           *
 339:../../../mod/baro/baro.c **** *                                                                              *
 340:../../../mod/baro/baro.c **** *******************************************************************************/
 341:../../../mod/baro/baro.c **** BARO_STATUS baro_get_pressure
 342:../../../mod/baro/baro.c **** 	(
 343:../../../mod/baro/baro.c ****     float* pressure_ptr  /* Out: Baro pressure */
 344:../../../mod/baro/baro.c **** 	)
 345:../../../mod/baro/baro.c **** {
 346:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 347:../../../mod/baro/baro.c **** Local variables 
 348:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 349:../../../mod/baro/baro.c **** uint8_t     pressure_bytes[3]; /* Pressure raw readout bytes, LSB first   */
 350:../../../mod/baro/baro.c **** uint32_t    raw_pressure;      /* Pressure raw readout in uint32_t format */
 351:../../../mod/baro/baro.c **** float       comp_temp;         /* Compensation temperature                */
 352:../../../mod/baro/baro.c **** BARO_STATUS baro_status;       /* Return codes for baro API calls         */
 353:../../../mod/baro/baro.c **** 
 354:../../../mod/baro/baro.c **** 
 355:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 356:../../../mod/baro/baro.c **** Initializations
 357:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 358:../../../mod/baro/baro.c **** raw_pressure = 0;
 359:../../../mod/baro/baro.c **** comp_temp    = 0;
 360:../../../mod/baro/baro.c **** baro_status  = BARO_OK;
 361:../../../mod/baro/baro.c **** memset( &pressure_bytes[0], 0, sizeof( pressure_bytes ) );
 362:../../../mod/baro/baro.c **** 
 363:../../../mod/baro/baro.c **** 
 364:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 365:../../../mod/baro/baro.c **** API function implementation 
 366:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 367:../../../mod/baro/baro.c **** 
 368:../../../mod/baro/baro.c **** /* Read 3 consecutive pressure data registers */
 369:../../../mod/baro/baro.c **** baro_status = read_regs( BARO_REG_PRESS_DATA, 
 370:../../../mod/baro/baro.c ****                          sizeof( pressure_bytes ), 
 371:../../../mod/baro/baro.c **** 						 &pressure_bytes[0] );
 372:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 373:../../../mod/baro/baro.c **** 	{
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 8


 374:../../../mod/baro/baro.c **** 	return BARO_I2C_ERROR;
 375:../../../mod/baro/baro.c **** 	}
 376:../../../mod/baro/baro.c **** 
 377:../../../mod/baro/baro.c **** /* Combine all bytes value to 24 bit value */
 378:../../../mod/baro/baro.c **** raw_pressure = ( ( (uint32_t) pressure_bytes[2] << 16 ) |
 379:../../../mod/baro/baro.c ****                  ( (uint32_t) pressure_bytes[1] <<  8 ) |
 380:../../../mod/baro/baro.c **** 				 ( (uint32_t) pressure_bytes[0]       ) );
 381:../../../mod/baro/baro.c **** 
 382:../../../mod/baro/baro.c **** /* Get compensation temperature for pressure compensation calculation */
 383:../../../mod/baro/baro.c **** baro_status   = baro_get_temp( &comp_temp );
 384:../../../mod/baro/baro.c **** 
 385:../../../mod/baro/baro.c **** /* Compensate using calibration data */
 386:../../../mod/baro/baro.c **** *pressure_ptr = press_compensate( raw_pressure );
 387:../../../mod/baro/baro.c **** 
 388:../../../mod/baro/baro.c **** return BARO_OK;
 389:../../../mod/baro/baro.c **** } /* baro_get_pressure */
 390:../../../mod/baro/baro.c **** 
 391:../../../mod/baro/baro.c **** 
 392:../../../mod/baro/baro.c **** /*******************************************************************************
 393:../../../mod/baro/baro.c **** *                                                                              *
 394:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   * 
 395:../../../mod/baro/baro.c **** * 		baro_get_temp                                                          *
 396:../../../mod/baro/baro.c **** *                                                                              *
 397:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 * 
 398:../../../mod/baro/baro.c **** * 		retrieves a temperature reading from the sensor                        *
 399:../../../mod/baro/baro.c **** *                                                                              *
 400:../../../mod/baro/baro.c **** *******************************************************************************/
 401:../../../mod/baro/baro.c **** BARO_STATUS baro_get_temp
 402:../../../mod/baro/baro.c **** 	(
 403:../../../mod/baro/baro.c ****     float* temp_ptr 
 404:../../../mod/baro/baro.c **** 	)
 405:../../../mod/baro/baro.c **** {
 406:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 407:../../../mod/baro/baro.c **** Local variables 
 408:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 409:../../../mod/baro/baro.c **** uint8_t     temp_bytes[3]; /* Raw temperature readout bytes, LSB first */
 410:../../../mod/baro/baro.c **** uint32_t    raw_temp;      /* Raw temperature readout in uint32_t format */
 411:../../../mod/baro/baro.c **** BARO_STATUS baro_status;   /* Status codes returned from baro API calls  */
 412:../../../mod/baro/baro.c **** 
 413:../../../mod/baro/baro.c **** 
 414:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 415:../../../mod/baro/baro.c **** Initializations
 416:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 417:../../../mod/baro/baro.c **** raw_temp     = 0;
 418:../../../mod/baro/baro.c **** baro_status  = BARO_OK;
 419:../../../mod/baro/baro.c **** memset( &temp_bytes[0], 0, sizeof( temp_bytes ) );
 420:../../../mod/baro/baro.c **** 
 421:../../../mod/baro/baro.c **** 
 422:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 423:../../../mod/baro/baro.c **** API function implementation 
 424:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 425:../../../mod/baro/baro.c **** 
 426:../../../mod/baro/baro.c **** /* Read 3 consecutive temperature data registers */
 427:../../../mod/baro/baro.c **** baro_status = read_regs( BARO_REG_TEMP_DATA  , 
 428:../../../mod/baro/baro.c ****                          sizeof( temp_bytes ), 
 429:../../../mod/baro/baro.c **** 						 &temp_bytes[0] );
 430:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 9


 431:../../../mod/baro/baro.c **** 	{
 432:../../../mod/baro/baro.c **** 	return BARO_I2C_ERROR;
 433:../../../mod/baro/baro.c **** 	}
 434:../../../mod/baro/baro.c **** 
 435:../../../mod/baro/baro.c **** /* Combine all bytes value to 24 bit value */
 436:../../../mod/baro/baro.c **** raw_temp = ( ( (uint32_t) temp_bytes[2] << 16 ) |
 437:../../../mod/baro/baro.c ****              ( (uint32_t) temp_bytes[1] <<  8 ) |
 438:../../../mod/baro/baro.c **** 			 ( (uint32_t) temp_bytes[0]       ) ); 
 439:../../../mod/baro/baro.c **** 
 440:../../../mod/baro/baro.c **** /* Adjust using calibration data */
 441:../../../mod/baro/baro.c **** *temp_ptr = temp_compensate( raw_temp );
 442:../../../mod/baro/baro.c **** 
 443:../../../mod/baro/baro.c **** return BARO_OK;
 444:../../../mod/baro/baro.c **** 
 445:../../../mod/baro/baro.c **** } /* baro_get_temp */
 446:../../../mod/baro/baro.c **** 
 447:../../../mod/baro/baro.c **** 
 448:../../../mod/baro/baro.c **** /*******************************************************************************
 449:../../../mod/baro/baro.c **** *                                                                              *
 450:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   * 
 451:../../../mod/baro/baro.c **** * 		baro_get_altitude                                                      *
 452:../../../mod/baro/baro.c **** *                                                                              *
 453:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 * 
 454:../../../mod/baro/baro.c **** * 		gets the altitude of the rocket from the sensor readouts               *
 455:../../../mod/baro/baro.c **** *                                                                              *
 456:../../../mod/baro/baro.c **** *******************************************************************************/
 457:../../../mod/baro/baro.c **** BARO_STATUS baro_get_altitude
 458:../../../mod/baro/baro.c **** 	(
 459:../../../mod/baro/baro.c ****     void
 460:../../../mod/baro/baro.c **** 	)
 461:../../../mod/baro/baro.c **** {
 462:../../../mod/baro/baro.c **** return BARO_OK;
 463:../../../mod/baro/baro.c **** } /* baro_get_altitude */
 464:../../../mod/baro/baro.c **** 
 465:../../../mod/baro/baro.c **** 
 466:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 467:../../../mod/baro/baro.c ****  Internal procedures 
 468:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 469:../../../mod/baro/baro.c **** 
 470:../../../mod/baro/baro.c **** 
 471:../../../mod/baro/baro.c **** /*******************************************************************************
 472:../../../mod/baro/baro.c **** *                                                                              *
 473:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   *
 474:../../../mod/baro/baro.c **** *       bytes_to_uin16_t                                                       *
 475:../../../mod/baro/baro.c **** *                                                                              *
 476:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 *
 477:../../../mod/baro/baro.c **** *       Converts two bytes to uint16_t format                                  *
 478:../../../mod/baro/baro.c **** *                                                                              *
 479:../../../mod/baro/baro.c **** *******************************************************************************/
 480:../../../mod/baro/baro.c **** static uint16_t bytes_to_uint16_t
 481:../../../mod/baro/baro.c **** 	(
 482:../../../mod/baro/baro.c **** 	uint8_t lsb_byte, /* In: Least significant byte */
 483:../../../mod/baro/baro.c **** 	uint8_t msb_byte  /* In: Most significant byte  */
 484:../../../mod/baro/baro.c **** 	)
 485:../../../mod/baro/baro.c **** {
  28              		.loc 1 485 1 view -0
  29              		.cfi_startproc
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 10


  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 486:../../../mod/baro/baro.c **** return ( ( (uint16_t) lsb_byte      ) |
  33              		.loc 1 486 1 view .LVU1
 487:../../../mod/baro/baro.c ****          ( (uint16_t) msb_byte << 8 ) );
 488:../../../mod/baro/baro.c **** } /* bytes_to_uint16_t */
  34              		.loc 1 488 1 is_stmt 0 view .LVU2
  35 0000 40EA0120 		orr	r0, r0, r1, lsl #8
  36              	.LVL1:
  37              		.loc 1 488 1 view .LVU3
  38 0004 7047     		bx	lr
  39              		.cfi_endproc
  40              	.LFE150:
  42              		.section	.text.bytes_to_int16_t,"ax",%progbits
  43              		.align	1
  44              		.syntax unified
  45              		.thumb
  46              		.thumb_func
  48              	bytes_to_int16_t:
  49              	.LVL2:
  50              	.LFB151:
 489:../../../mod/baro/baro.c **** 
 490:../../../mod/baro/baro.c **** 
 491:../../../mod/baro/baro.c **** /*******************************************************************************
 492:../../../mod/baro/baro.c **** *                                                                              *
 493:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   *
 494:../../../mod/baro/baro.c **** *       bytes_to_in16_t                                                        *
 495:../../../mod/baro/baro.c **** *                                                                              *
 496:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 *
 497:../../../mod/baro/baro.c **** *       Converts two bytes to int16_t format                                   *
 498:../../../mod/baro/baro.c **** *                                                                              *
 499:../../../mod/baro/baro.c **** *******************************************************************************/
 500:../../../mod/baro/baro.c **** static int16_t bytes_to_int16_t
 501:../../../mod/baro/baro.c **** 	(
 502:../../../mod/baro/baro.c **** 	uint8_t lsb_byte, /* In: Least significant byte */
 503:../../../mod/baro/baro.c **** 	uint8_t msb_byte  /* In: Most significant byte  */
 504:../../../mod/baro/baro.c **** 	)
 505:../../../mod/baro/baro.c **** {
  51              		.loc 1 505 1 is_stmt 1 view -0
  52              		.cfi_startproc
  53              		@ args = 0, pretend = 0, frame = 0
  54              		@ frame_needed = 0, uses_anonymous_args = 0
  55              		@ link register save eliminated.
 506:../../../mod/baro/baro.c **** uint16_t bytes_comb = ( ( (uint16_t) lsb_byte      ) |
  56              		.loc 1 506 1 view .LVU5
  57              		.loc 1 506 54 is_stmt 0 view .LVU6
  58 0000 40EA0120 		orr	r0, r0, r1, lsl #8
  59              	.LVL3:
 507:../../../mod/baro/baro.c ****                         ( (uint16_t) msb_byte << 8 ) );
 508:../../../mod/baro/baro.c **** return ( (int16_t) bytes_comb );
  60              		.loc 1 508 1 is_stmt 1 view .LVU7
 509:../../../mod/baro/baro.c **** } /* bytes_to_uint16_t */
  61              		.loc 1 509 1 is_stmt 0 view .LVU8
  62 0004 00B2     		sxth	r0, r0
  63              		.loc 1 509 1 view .LVU9
  64 0006 7047     		bx	lr
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 11


  65              		.cfi_endproc
  66              	.LFE151:
  68              		.section	.text.write_reg,"ax",%progbits
  69              		.align	1
  70              		.syntax unified
  71              		.thumb
  72              		.thumb_func
  74              	write_reg:
  75              	.LVL4:
  76              	.LFB153:
 510:../../../mod/baro/baro.c **** 
 511:../../../mod/baro/baro.c **** 
 512:../../../mod/baro/baro.c **** /*******************************************************************************
 513:../../../mod/baro/baro.c **** *                                                                              *
 514:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   *
 515:../../../mod/baro/baro.c **** *       read_regs                                                              *
 516:../../../mod/baro/baro.c **** *                                                                              *
 517:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 *
 518:../../../mod/baro/baro.c **** *       Read from the baro's registers at a specified address                  *
 519:../../../mod/baro/baro.c **** *                                                                              *
 520:../../../mod/baro/baro.c **** *******************************************************************************/
 521:../../../mod/baro/baro.c **** static BARO_STATUS read_regs
 522:../../../mod/baro/baro.c **** 	(
 523:../../../mod/baro/baro.c **** 	uint8_t  reg_addr, /* In:  Register address            */
 524:../../../mod/baro/baro.c **** 	uint8_t  num_regs, /* In:  Number of registers to read */
 525:../../../mod/baro/baro.c **** 	uint8_t* pData     /* Out: Register contents           */
 526:../../../mod/baro/baro.c **** 	)
 527:../../../mod/baro/baro.c **** {   
 528:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 529:../../../mod/baro/baro.c ****  Local variables  
 530:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 531:../../../mod/baro/baro.c **** HAL_StatusTypeDef hal_status;  /* HAL API Return codes */
 532:../../../mod/baro/baro.c **** uint32_t          i2c_timeout; /* I2C read timeout     */
 533:../../../mod/baro/baro.c **** 
 534:../../../mod/baro/baro.c **** 
 535:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 536:../../../mod/baro/baro.c ****  Initializations
 537:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 538:../../../mod/baro/baro.c **** hal_status  = HAL_OK;
 539:../../../mod/baro/baro.c **** i2c_timeout = BARO_DEFAULT_TIMEOUT*num_regs;
 540:../../../mod/baro/baro.c **** 
 541:../../../mod/baro/baro.c **** 
 542:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 543:../../../mod/baro/baro.c ****  Implementation 
 544:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 545:../../../mod/baro/baro.c **** 
 546:../../../mod/baro/baro.c **** /* Read I2C register*/
 547:../../../mod/baro/baro.c **** hal_status = HAL_I2C_Mem_Read( &( BARO_I2C )       ,
 548:../../../mod/baro/baro.c **** 				               BARO_I2C_ADDR       ,
 549:../../../mod/baro/baro.c **** 				               reg_addr            ,
 550:../../../mod/baro/baro.c **** 				               I2C_MEMADD_SIZE_8BIT,
 551:../../../mod/baro/baro.c **** 				               pData               ,
 552:../../../mod/baro/baro.c **** 				               num_regs            , 
 553:../../../mod/baro/baro.c **** 				               i2c_timeout );
 554:../../../mod/baro/baro.c **** if ( hal_status != HAL_OK )
 555:../../../mod/baro/baro.c **** 	{
 556:../../../mod/baro/baro.c **** 	return BARO_I2C_ERROR;
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 12


 557:../../../mod/baro/baro.c **** 	}
 558:../../../mod/baro/baro.c **** else
 559:../../../mod/baro/baro.c **** 	{
 560:../../../mod/baro/baro.c **** 	return BARO_OK;
 561:../../../mod/baro/baro.c **** 	}
 562:../../../mod/baro/baro.c **** 
 563:../../../mod/baro/baro.c **** } /* read_reg */
 564:../../../mod/baro/baro.c **** 
 565:../../../mod/baro/baro.c **** 
 566:../../../mod/baro/baro.c **** /*******************************************************************************
 567:../../../mod/baro/baro.c **** *                                                                              *
 568:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   * 
 569:../../../mod/baro/baro.c **** *       write_reg                                                              *
 570:../../../mod/baro/baro.c **** *                                                                              *
 571:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 * 
 572:../../../mod/baro/baro.c **** *       Write to one of the baro's registers at a specified address            *
 573:../../../mod/baro/baro.c **** *                                                                              *
 574:../../../mod/baro/baro.c **** *******************************************************************************/
 575:../../../mod/baro/baro.c **** static BARO_STATUS write_reg
 576:../../../mod/baro/baro.c **** 	(
 577:../../../mod/baro/baro.c **** 	uint8_t  reg_addr, /* In: Register address            */
 578:../../../mod/baro/baro.c **** 	uint8_t  data      /* In: Register contents           */
 579:../../../mod/baro/baro.c **** 	)
 580:../../../mod/baro/baro.c **** {   
  77              		.loc 1 580 1 is_stmt 1 view -0
  78              		.cfi_startproc
  79              		@ args = 0, pretend = 0, frame = 8
  80              		@ frame_needed = 0, uses_anonymous_args = 0
  81              		.loc 1 580 1 is_stmt 0 view .LVU11
  82 0000 00B5     		push	{lr}
  83              	.LCFI0:
  84              		.cfi_def_cfa_offset 4
  85              		.cfi_offset 14, -4
  86 0002 87B0     		sub	sp, sp, #28
  87              	.LCFI1:
  88              		.cfi_def_cfa_offset 32
  89 0004 0246     		mov	r2, r0
  90 0006 8DF81710 		strb	r1, [sp, #23]
 581:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 582:../../../mod/baro/baro.c ****  Local variables  
 583:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 584:../../../mod/baro/baro.c **** HAL_StatusTypeDef hal_status; /* HAL API Return codes */
  91              		.loc 1 584 1 is_stmt 1 view .LVU12
 585:../../../mod/baro/baro.c **** 
 586:../../../mod/baro/baro.c **** 
 587:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 588:../../../mod/baro/baro.c ****  Implementation 
 589:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 590:../../../mod/baro/baro.c **** 
 591:../../../mod/baro/baro.c **** /* Write to register with I2C */
 592:../../../mod/baro/baro.c **** hal_status = HAL_I2C_Mem_Write( &( BARO_I2C )       ,
  92              		.loc 1 592 1 view .LVU13
  93              		.loc 1 592 14 is_stmt 0 view .LVU14
  94 000a 0123     		movs	r3, #1
  95 000c 0293     		str	r3, [sp, #8]
  96 000e 0193     		str	r3, [sp, #4]
  97 0010 0DF11701 		add	r1, sp, #23
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 13


  98              	.LVL5:
  99              		.loc 1 592 14 view .LVU15
 100 0014 0091     		str	r1, [sp]
 101 0016 EC21     		movs	r1, #236
 102              	.LVL6:
 103              		.loc 1 592 14 view .LVU16
 104 0018 0448     		ldr	r0, .L7
 105              	.LVL7:
 106              		.loc 1 592 14 view .LVU17
 107 001a FFF7FEFF 		bl	HAL_I2C_Mem_Write
 108              	.LVL8:
 593:../../../mod/baro/baro.c **** 				                BARO_I2C_ADDR       ,
 594:../../../mod/baro/baro.c **** 				                reg_addr            ,
 595:../../../mod/baro/baro.c **** 				                I2C_MEMADD_SIZE_8BIT,
 596:../../../mod/baro/baro.c **** 				                &data               ,
 597:../../../mod/baro/baro.c **** 				                sizeof( uint8_t )   , 
 598:../../../mod/baro/baro.c **** 				                BARO_DEFAULT_TIMEOUT );
 599:../../../mod/baro/baro.c **** if ( hal_status != HAL_OK )
 109              		.loc 1 599 1 is_stmt 1 view .LVU18
 110              		.loc 1 599 4 is_stmt 0 view .LVU19
 111 001e 10B9     		cbnz	r0, .L6
 112              	.L4:
 600:../../../mod/baro/baro.c **** 	{
 601:../../../mod/baro/baro.c **** 	return BARO_I2C_ERROR;
 602:../../../mod/baro/baro.c **** 	}
 603:../../../mod/baro/baro.c **** else
 604:../../../mod/baro/baro.c **** 	{
 605:../../../mod/baro/baro.c **** 	return BARO_OK;
 606:../../../mod/baro/baro.c **** 	}
 607:../../../mod/baro/baro.c **** 
 608:../../../mod/baro/baro.c **** } /* write_reg */
 113              		.loc 1 608 1 view .LVU20
 114 0020 07B0     		add	sp, sp, #28
 115              	.LCFI2:
 116              		.cfi_remember_state
 117              		.cfi_def_cfa_offset 4
 118              		@ sp needed
 119 0022 5DF804FB 		ldr	pc, [sp], #4
 120              	.L6:
 121              	.LCFI3:
 122              		.cfi_restore_state
 601:../../../mod/baro/baro.c **** 	}
 123              		.loc 1 601 9 view .LVU21
 124 0026 0820     		movs	r0, #8
 125 0028 FAE7     		b	.L4
 126              	.L8:
 127 002a 00BF     		.align	2
 128              	.L7:
 129 002c 00000000 		.word	hi2c1
 130              		.cfi_endproc
 131              	.LFE153:
 133              		.section	.text.baro_reset,"ax",%progbits
 134              		.align	1
 135              		.syntax unified
 136              		.thumb
 137              		.thumb_func
 139              	baro_reset:
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 14


 140              	.LFB157:
 609:../../../mod/baro/baro.c **** 
 610:../../../mod/baro/baro.c **** 
 611:../../../mod/baro/baro.c **** /*******************************************************************************
 612:../../../mod/baro/baro.c **** *                                                                              *
 613:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   *
 614:../../../mod/baro/baro.c **** *       load_cal_data                                                          *
 615:../../../mod/baro/baro.c **** *                                                                              *
 616:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 *
 617:../../../mod/baro/baro.c **** *       Load the compensation data from the baro sensor                        *
 618:../../../mod/baro/baro.c **** *                                                                              *
 619:../../../mod/baro/baro.c **** *******************************************************************************/
 620:../../../mod/baro/baro.c **** static BARO_STATUS load_cal_data
 621:../../../mod/baro/baro.c **** 	(
 622:../../../mod/baro/baro.c **** 	void
 623:../../../mod/baro/baro.c **** 	)
 624:../../../mod/baro/baro.c **** {
 625:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 626:../../../mod/baro/baro.c ****  Local variables  
 627:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 628:../../../mod/baro/baro.c **** BARO_CAL_DATA_INT cal_data_int;       /* Raw calibration data from baro       */
 629:../../../mod/baro/baro.c **** uint8_t           buffer[BARO_CAL_BUFFER_SIZE]; /* Buffer for cal data        */
 630:../../../mod/baro/baro.c **** BARO_STATUS       baro_status;        /* Baro API return codes                */
 631:../../../mod/baro/baro.c **** 
 632:../../../mod/baro/baro.c **** 
 633:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 634:../../../mod/baro/baro.c ****  Initializations 
 635:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 636:../../../mod/baro/baro.c **** memset( &cal_data_int, 0, sizeof( cal_data_int ) );
 637:../../../mod/baro/baro.c **** memset( &buffer[0]   , 0, sizeof( buffer       ) );
 638:../../../mod/baro/baro.c **** 
 639:../../../mod/baro/baro.c **** 
 640:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 641:../../../mod/baro/baro.c ****  Read Baro Registers 
 642:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 643:../../../mod/baro/baro.c **** 
 644:../../../mod/baro/baro.c **** /* Get Data */
 645:../../../mod/baro/baro.c **** baro_status = read_regs( BARO_REG_NVM_PAR_T1, 
 646:../../../mod/baro/baro.c ****                          BARO_CAL_BUFFER_SIZE, 
 647:../../../mod/baro/baro.c **** 						 &buffer[0] );
 648:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 649:../../../mod/baro/baro.c **** 	{
 650:../../../mod/baro/baro.c **** 	return baro_status;
 651:../../../mod/baro/baro.c **** 	}
 652:../../../mod/baro/baro.c **** 
 653:../../../mod/baro/baro.c **** /* Convert to proper integer format */
 654:../../../mod/baro/baro.c **** cal_data_int.par_t1  = bytes_to_uint16_t( buffer[0], buffer[1] );
 655:../../../mod/baro/baro.c **** cal_data_int.par_t2  = bytes_to_uint16_t( buffer[2], buffer[3] );
 656:../../../mod/baro/baro.c **** cal_data_int.par_t3  = (int8_t) buffer[4];
 657:../../../mod/baro/baro.c **** cal_data_int.par_p1  = bytes_to_int16_t( buffer[5], buffer[6] );
 658:../../../mod/baro/baro.c **** cal_data_int.par_p2  = bytes_to_int16_t( buffer[7], buffer[8] );
 659:../../../mod/baro/baro.c **** cal_data_int.par_p3  = (int8_t)  buffer[9];
 660:../../../mod/baro/baro.c **** cal_data_int.par_p4  = (int8_t)  buffer[10];
 661:../../../mod/baro/baro.c **** cal_data_int.par_p5  = bytes_to_uint16_t( buffer[11], buffer[12] );
 662:../../../mod/baro/baro.c **** cal_data_int.par_p6  = bytes_to_uint16_t( buffer[13], buffer[14] );
 663:../../../mod/baro/baro.c **** cal_data_int.par_p7  = (int8_t)  buffer[15];
 664:../../../mod/baro/baro.c **** cal_data_int.par_p8  = (int8_t)  buffer[16];
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 15


 665:../../../mod/baro/baro.c **** cal_data_int.par_p9  = bytes_to_int16_t( buffer[17], buffer[18] );
 666:../../../mod/baro/baro.c **** cal_data_int.par_p10 = (int8_t) buffer[19];
 667:../../../mod/baro/baro.c **** cal_data_int.par_p11 = (int8_t) buffer[20];
 668:../../../mod/baro/baro.c **** 
 669:../../../mod/baro/baro.c **** 
 670:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 671:../../../mod/baro/baro.c ****  Convert to floating point format ( BMP390 Datasheet pg. 55 ) 
 672:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 673:../../../mod/baro/baro.c **** 
 674:../../../mod/baro/baro.c **** /* Temp Compensation */
 675:../../../mod/baro/baro.c **** baro_cal_data.par_t1   = ( ( (float) cal_data_int.par_t1  )/( 0.00390625f        ) );
 676:../../../mod/baro/baro.c **** baro_cal_data.par_t2   = ( ( (float) cal_data_int.par_t2  )/( 1073741824.0f      ) );
 677:../../../mod/baro/baro.c **** baro_cal_data.par_t3   = ( ( (float) cal_data_int.par_t3  )/( 281474976710656.0f ) );
 678:../../../mod/baro/baro.c **** 
 679:../../../mod/baro/baro.c **** /* Pressure Compensation */
 680:../../../mod/baro/baro.c **** baro_cal_data.par_p1   = ( (float) ( cal_data_int.par_p1 - 16384 ) );
 681:../../../mod/baro/baro.c **** baro_cal_data.par_p1  /= ( 1048576.0f );
 682:../../../mod/baro/baro.c **** baro_cal_data.par_p2   = ( (float) ( cal_data_int.par_p2 - 16384 ) );
 683:../../../mod/baro/baro.c **** baro_cal_data.par_p2  /= ( 536870912.0f );
 684:../../../mod/baro/baro.c **** baro_cal_data.par_p3   = ( ( (float) cal_data_int.par_p3  )/( 4294967296.0f           ) );
 685:../../../mod/baro/baro.c **** baro_cal_data.par_p4   = ( ( (float) cal_data_int.par_p4  )/( 137438953472.0f         ) );
 686:../../../mod/baro/baro.c **** baro_cal_data.par_p5   = ( ( (float) cal_data_int.par_p5  )/( 0.125f                  ) );
 687:../../../mod/baro/baro.c **** baro_cal_data.par_p6   = ( ( (float) cal_data_int.par_p6  )/( 64.0f                   ) );
 688:../../../mod/baro/baro.c **** baro_cal_data.par_p7   = ( ( (float) cal_data_int.par_p7  )/( 256.0f                  ) );
 689:../../../mod/baro/baro.c **** baro_cal_data.par_p8   = ( ( (float) cal_data_int.par_p8  )/( 32768.0f                ) );
 690:../../../mod/baro/baro.c **** baro_cal_data.par_p9   = ( ( (float) cal_data_int.par_p9  )/( 281474976710656.0f      ) );
 691:../../../mod/baro/baro.c **** baro_cal_data.par_p10  = ( ( (float) cal_data_int.par_p10 )/( 281474976710656.0f      ) );
 692:../../../mod/baro/baro.c **** baro_cal_data.par_p11  = ( ( (float) cal_data_int.par_p11 )/( 36893488147419103232.0f ) );
 693:../../../mod/baro/baro.c **** 
 694:../../../mod/baro/baro.c **** /* Load Successful */
 695:../../../mod/baro/baro.c **** return BARO_OK;
 696:../../../mod/baro/baro.c **** 
 697:../../../mod/baro/baro.c **** } /* load_cal_data */
 698:../../../mod/baro/baro.c **** 
 699:../../../mod/baro/baro.c **** 
 700:../../../mod/baro/baro.c **** /*******************************************************************************
 701:../../../mod/baro/baro.c **** *                                                                              *
 702:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   *
 703:../../../mod/baro/baro.c **** *       temp_compensate                                                        *
 704:../../../mod/baro/baro.c **** *                                                                              *
 705:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 *
 706:../../../mod/baro/baro.c **** *       Apply the compensation formula to raw temperature readout              *
 707:../../../mod/baro/baro.c **** *                                                                              *
 708:../../../mod/baro/baro.c **** *******************************************************************************/
 709:../../../mod/baro/baro.c **** static float temp_compensate
 710:../../../mod/baro/baro.c **** 	(
 711:../../../mod/baro/baro.c **** 	uint32_t raw_readout
 712:../../../mod/baro/baro.c **** 	)
 713:../../../mod/baro/baro.c **** {
 714:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 715:../../../mod/baro/baro.c ****  Local variables  
 716:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 717:../../../mod/baro/baro.c **** float partial_data1; /* Intermediate compensation results */
 718:../../../mod/baro/baro.c **** float partial_data2;
 719:../../../mod/baro/baro.c **** 
 720:../../../mod/baro/baro.c **** 
 721:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 16


 722:../../../mod/baro/baro.c ****  Initializations 
 723:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 724:../../../mod/baro/baro.c **** partial_data1 = 0;
 725:../../../mod/baro/baro.c **** partial_data2 = 0;
 726:../../../mod/baro/baro.c **** 
 727:../../../mod/baro/baro.c **** 
 728:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 729:../../../mod/baro/baro.c ****  Calculations 
 730:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 731:../../../mod/baro/baro.c **** partial_data1 = (float)( raw_readout - baro_cal_data.par_t1 );
 732:../../../mod/baro/baro.c **** partial_data2 = (float)( partial_data1*baro_cal_data.par_t2 );
 733:../../../mod/baro/baro.c **** baro_cal_data.comp_temp = (float)( partial_data2 + 
 734:../../../mod/baro/baro.c ****                             powf( partial_data1, 2)*baro_cal_data.par_t3 );
 735:../../../mod/baro/baro.c **** return baro_cal_data.comp_temp;
 736:../../../mod/baro/baro.c **** 
 737:../../../mod/baro/baro.c **** } /* temp_compensate */
 738:../../../mod/baro/baro.c **** 
 739:../../../mod/baro/baro.c **** 
 740:../../../mod/baro/baro.c **** /*******************************************************************************
 741:../../../mod/baro/baro.c **** *                                                                              *
 742:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   *
 743:../../../mod/baro/baro.c **** *       press_compensate                                                       *
 744:../../../mod/baro/baro.c **** *                                                                              *
 745:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 *
 746:../../../mod/baro/baro.c **** *       Apply the compensation formula to raw pressure readouts                *
 747:../../../mod/baro/baro.c **** *                                                                              *
 748:../../../mod/baro/baro.c **** *******************************************************************************/
 749:../../../mod/baro/baro.c **** static float press_compensate 
 750:../../../mod/baro/baro.c **** 	(
 751:../../../mod/baro/baro.c **** 	uint32_t raw_readout
 752:../../../mod/baro/baro.c **** 	)
 753:../../../mod/baro/baro.c **** {
 754:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 755:../../../mod/baro/baro.c ****  Local variables  
 756:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 757:../../../mod/baro/baro.c **** float partial_data1; /* Intermediate compensation results */
 758:../../../mod/baro/baro.c **** float partial_data2;
 759:../../../mod/baro/baro.c **** float partial_data3;
 760:../../../mod/baro/baro.c **** float partial_data4;
 761:../../../mod/baro/baro.c **** float partial_out1;
 762:../../../mod/baro/baro.c **** float partial_out2;
 763:../../../mod/baro/baro.c **** 
 764:../../../mod/baro/baro.c **** 
 765:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 766:../../../mod/baro/baro.c ****  Initializations 
 767:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
 768:../../../mod/baro/baro.c **** partial_data1 = 0;
 769:../../../mod/baro/baro.c **** partial_data2 = 0;
 770:../../../mod/baro/baro.c **** partial_data3 = 0;
 771:../../../mod/baro/baro.c **** partial_data3 = 0;
 772:../../../mod/baro/baro.c **** partial_out1  = 0;
 773:../../../mod/baro/baro.c **** partial_out2  = 0;
 774:../../../mod/baro/baro.c **** 
 775:../../../mod/baro/baro.c **** 
 776:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 777:../../../mod/baro/baro.c ****  Calculations 
 778:../../../mod/baro/baro.c **** ------------------------------------------------------------------------------*/
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 17


 779:../../../mod/baro/baro.c **** partial_data1 = baro_cal_data.par_p6*baro_cal_data.comp_temp;
 780:../../../mod/baro/baro.c **** partial_data2 = baro_cal_data.par_p7*powf( baro_cal_data.comp_temp, 2 );
 781:../../../mod/baro/baro.c **** partial_data3 = baro_cal_data.par_p8*powf( baro_cal_data.comp_temp, 3 );
 782:../../../mod/baro/baro.c **** partial_out1  =  ( baro_cal_data.par_p5 + partial_data1 + 
 783:../../../mod/baro/baro.c ****                    partial_data2        + partial_data3 );
 784:../../../mod/baro/baro.c **** 
 785:../../../mod/baro/baro.c **** partial_data1 = baro_cal_data.par_p2*baro_cal_data.comp_temp;
 786:../../../mod/baro/baro.c **** partial_data2 = baro_cal_data.par_p3*powf( baro_cal_data.comp_temp, 2 );
 787:../../../mod/baro/baro.c **** partial_data3 = baro_cal_data.par_p4*powf( baro_cal_data.comp_temp, 3 );
 788:../../../mod/baro/baro.c **** partial_out2  = (float) raw_readout*( baro_cal_data.par_p1 + 
 789:../../../mod/baro/baro.c ****                                       partial_data1        +
 790:../../../mod/baro/baro.c **** 									  partial_data2        +
 791:../../../mod/baro/baro.c **** 									  partial_data3 );
 792:../../../mod/baro/baro.c **** 
 793:../../../mod/baro/baro.c **** partial_data1 = powf( ( (float) raw_readout ), 2 );
 794:../../../mod/baro/baro.c **** partial_data2 = ( baro_cal_data.par_p9 + 
 795:../../../mod/baro/baro.c ****                   baro_cal_data.par_p10*baro_cal_data.comp_temp );
 796:../../../mod/baro/baro.c **** partial_data3 = partial_data1*partial_data2;
 797:../../../mod/baro/baro.c **** partial_data4 = ( partial_data3 + 
 798:../../../mod/baro/baro.c ****                   powf( ( (float) raw_readout ), 3 )*baro_cal_data.par_p11 );
 799:../../../mod/baro/baro.c **** 
 800:../../../mod/baro/baro.c **** return partial_out1 + partial_out2 + partial_data4;
 801:../../../mod/baro/baro.c **** 
 802:../../../mod/baro/baro.c **** } /* press_compensate */
 803:../../../mod/baro/baro.c **** 
 804:../../../mod/baro/baro.c **** 
 805:../../../mod/baro/baro.c **** /*******************************************************************************
 806:../../../mod/baro/baro.c **** *                                                                              *
 807:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   *
 808:../../../mod/baro/baro.c **** *       baro_reset                                                             *
 809:../../../mod/baro/baro.c **** *                                                                              *
 810:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 *
 811:../../../mod/baro/baro.c **** *       Performs a soft reset of the barometric pressure sensor                *
 812:../../../mod/baro/baro.c **** *                                                                              *
 813:../../../mod/baro/baro.c **** *******************************************************************************/
 814:../../../mod/baro/baro.c **** static BARO_STATUS baro_reset
 815:../../../mod/baro/baro.c **** 	(
 816:../../../mod/baro/baro.c **** 	void
 817:../../../mod/baro/baro.c **** 	)
 818:../../../mod/baro/baro.c **** {
 141              		.loc 1 818 1 is_stmt 1 view -0
 142              		.cfi_startproc
 143              		@ args = 0, pretend = 0, frame = 0
 144              		@ frame_needed = 0, uses_anonymous_args = 0
 145 0000 08B5     		push	{r3, lr}
 146              	.LCFI4:
 147              		.cfi_def_cfa_offset 8
 148              		.cfi_offset 3, -8
 149              		.cfi_offset 14, -4
 819:../../../mod/baro/baro.c **** return write_reg( BARO_REG_CMD, BARO_CMD_RESET );
 150              		.loc 1 819 1 view .LVU23
 151              		.loc 1 819 8 is_stmt 0 view .LVU24
 152 0002 B621     		movs	r1, #182
 153 0004 7E20     		movs	r0, #126
 154 0006 FFF7FEFF 		bl	write_reg
 155              	.LVL9:
 820:../../../mod/baro/baro.c **** } /* baro_reset */
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 18


 156              		.loc 1 820 1 view .LVU25
 157 000a 08BD     		pop	{r3, pc}
 158              		.cfi_endproc
 159              	.LFE157:
 161              		.section	.text.baro_flush_fifo,"ax",%progbits
 162              		.align	1
 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 167              	baro_flush_fifo:
 168              	.LFB158:
 821:../../../mod/baro/baro.c **** 
 822:../../../mod/baro/baro.c **** 
 823:../../../mod/baro/baro.c **** /*******************************************************************************
 824:../../../mod/baro/baro.c **** *                                                                              *
 825:../../../mod/baro/baro.c **** * PROCEDURE:                                                                   *
 826:../../../mod/baro/baro.c **** *       baro_flush_fifo                                                        *
 827:../../../mod/baro/baro.c **** *                                                                              *
 828:../../../mod/baro/baro.c **** * DESCRIPTION:                                                                 *
 829:../../../mod/baro/baro.c **** *       Flushes the barometric pressure sensor FIFO buffer                     *
 830:../../../mod/baro/baro.c **** *                                                                              *
 831:../../../mod/baro/baro.c **** *******************************************************************************/
 832:../../../mod/baro/baro.c **** static BARO_STATUS baro_flush_fifo
 833:../../../mod/baro/baro.c **** 	(
 834:../../../mod/baro/baro.c **** 	void
 835:../../../mod/baro/baro.c **** 	)
 836:../../../mod/baro/baro.c **** {
 169              		.loc 1 836 1 is_stmt 1 view -0
 170              		.cfi_startproc
 171              		@ args = 0, pretend = 0, frame = 0
 172              		@ frame_needed = 0, uses_anonymous_args = 0
 173 0000 08B5     		push	{r3, lr}
 174              	.LCFI5:
 175              		.cfi_def_cfa_offset 8
 176              		.cfi_offset 3, -8
 177              		.cfi_offset 14, -4
 837:../../../mod/baro/baro.c **** return write_reg( BARO_REG_CMD, BARO_CMD_FIFO_FLUSH );
 178              		.loc 1 837 1 view .LVU27
 179              		.loc 1 837 8 is_stmt 0 view .LVU28
 180 0002 B021     		movs	r1, #176
 181 0004 7E20     		movs	r0, #126
 182 0006 FFF7FEFF 		bl	write_reg
 183              	.LVL10:
 838:../../../mod/baro/baro.c **** } /* baro_flush_fifo */
 184              		.loc 1 838 1 view .LVU29
 185 000a 08BD     		pop	{r3, pc}
 186              		.cfi_endproc
 187              	.LFE158:
 189              		.section	.text.read_regs,"ax",%progbits
 190              		.align	1
 191              		.syntax unified
 192              		.thumb
 193              		.thumb_func
 195              	read_regs:
 196              	.LVL11:
 197              	.LFB152:
 527:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 19


 198              		.loc 1 527 1 is_stmt 1 view -0
 199              		.cfi_startproc
 200              		@ args = 0, pretend = 0, frame = 0
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 527:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 202              		.loc 1 527 1 is_stmt 0 view .LVU31
 203 0000 00B5     		push	{lr}
 204              	.LCFI6:
 205              		.cfi_def_cfa_offset 4
 206              		.cfi_offset 14, -4
 207 0002 85B0     		sub	sp, sp, #20
 208              	.LCFI7:
 209              		.cfi_def_cfa_offset 24
 531:../../../mod/baro/baro.c **** uint32_t          i2c_timeout; /* I2C read timeout     */
 210              		.loc 1 531 1 is_stmt 1 view .LVU32
 532:../../../mod/baro/baro.c **** 
 211              		.loc 1 532 1 view .LVU33
 538:../../../mod/baro/baro.c **** i2c_timeout = BARO_DEFAULT_TIMEOUT*num_regs;
 212              		.loc 1 538 1 view .LVU34
 213              	.LVL12:
 539:../../../mod/baro/baro.c **** 
 214              		.loc 1 539 1 view .LVU35
 547:../../../mod/baro/baro.c **** 				               BARO_I2C_ADDR       ,
 215              		.loc 1 547 1 view .LVU36
 547:../../../mod/baro/baro.c **** 				               BARO_I2C_ADDR       ,
 216              		.loc 1 547 14 is_stmt 0 view .LVU37
 217 0004 0291     		str	r1, [sp, #8]
 218 0006 0191     		str	r1, [sp, #4]
 219 0008 0092     		str	r2, [sp]
 220 000a 0123     		movs	r3, #1
 221 000c 0246     		mov	r2, r0
 222              	.LVL13:
 547:../../../mod/baro/baro.c **** 				               BARO_I2C_ADDR       ,
 223              		.loc 1 547 14 view .LVU38
 224 000e EC21     		movs	r1, #236
 225              	.LVL14:
 547:../../../mod/baro/baro.c **** 				               BARO_I2C_ADDR       ,
 226              		.loc 1 547 14 view .LVU39
 227 0010 0448     		ldr	r0, .L17
 228              	.LVL15:
 547:../../../mod/baro/baro.c **** 				               BARO_I2C_ADDR       ,
 229              		.loc 1 547 14 view .LVU40
 230 0012 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 231              	.LVL16:
 554:../../../mod/baro/baro.c **** 	{
 232              		.loc 1 554 1 is_stmt 1 view .LVU41
 554:../../../mod/baro/baro.c **** 	{
 233              		.loc 1 554 4 is_stmt 0 view .LVU42
 234 0016 10B9     		cbnz	r0, .L16
 235              	.L14:
 563:../../../mod/baro/baro.c **** 
 236              		.loc 1 563 1 view .LVU43
 237 0018 05B0     		add	sp, sp, #20
 238              	.LCFI8:
 239              		.cfi_remember_state
 240              		.cfi_def_cfa_offset 4
 241              		@ sp needed
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 20


 242 001a 5DF804FB 		ldr	pc, [sp], #4
 243              	.L16:
 244              	.LCFI9:
 245              		.cfi_restore_state
 556:../../../mod/baro/baro.c **** 	}
 246              		.loc 1 556 9 view .LVU44
 247 001e 0820     		movs	r0, #8
 248 0020 FAE7     		b	.L14
 249              	.L18:
 250 0022 00BF     		.align	2
 251              	.L17:
 252 0024 00000000 		.word	hi2c1
 253              		.cfi_endproc
 254              	.LFE152:
 256              		.section	.text.load_cal_data,"ax",%progbits
 257              		.align	1
 258              		.syntax unified
 259              		.thumb
 260              		.thumb_func
 262              	load_cal_data:
 263              	.LFB154:
 624:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 264              		.loc 1 624 1 is_stmt 1 view -0
 265              		.cfi_startproc
 266              		@ args = 0, pretend = 0, frame = 64
 267              		@ frame_needed = 0, uses_anonymous_args = 0
 268 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 269              	.LCFI10:
 270              		.cfi_def_cfa_offset 36
 271              		.cfi_offset 4, -36
 272              		.cfi_offset 5, -32
 273              		.cfi_offset 6, -28
 274              		.cfi_offset 7, -24
 275              		.cfi_offset 8, -20
 276              		.cfi_offset 9, -16
 277              		.cfi_offset 10, -12
 278              		.cfi_offset 11, -8
 279              		.cfi_offset 14, -4
 280 0004 91B0     		sub	sp, sp, #68
 281              	.LCFI11:
 282              		.cfi_def_cfa_offset 104
 628:../../../mod/baro/baro.c **** uint8_t           buffer[BARO_CAL_BUFFER_SIZE]; /* Buffer for cal data        */
 283              		.loc 1 628 1 view .LVU46
 629:../../../mod/baro/baro.c **** BARO_STATUS       baro_status;        /* Baro API return codes                */
 284              		.loc 1 629 1 view .LVU47
 630:../../../mod/baro/baro.c **** 
 285              		.loc 1 630 1 view .LVU48
 636:../../../mod/baro/baro.c **** memset( &buffer[0]   , 0, sizeof( buffer       ) );
 286              		.loc 1 636 1 view .LVU49
 287 0006 0023     		movs	r3, #0
 288 0008 0A93     		str	r3, [sp, #40]
 289 000a 0B93     		str	r3, [sp, #44]
 290 000c 0C93     		str	r3, [sp, #48]
 291 000e 0D93     		str	r3, [sp, #52]
 292 0010 0E93     		str	r3, [sp, #56]
 293 0012 ADF83C30 		strh	r3, [sp, #60]	@ movhi
 637:../../../mod/baro/baro.c **** 
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 21


 294              		.loc 1 637 1 view .LVU50
 295 0016 0493     		str	r3, [sp, #16]
 296 0018 0593     		str	r3, [sp, #20]
 297 001a 0693     		str	r3, [sp, #24]
 298 001c 0793     		str	r3, [sp, #28]
 299 001e 0893     		str	r3, [sp, #32]
 300 0020 8DF82430 		strb	r3, [sp, #36]
 645:../../../mod/baro/baro.c ****                          BARO_CAL_BUFFER_SIZE, 
 301              		.loc 1 645 1 view .LVU51
 645:../../../mod/baro/baro.c ****                          BARO_CAL_BUFFER_SIZE, 
 302              		.loc 1 645 15 is_stmt 0 view .LVU52
 303 0024 04AA     		add	r2, sp, #16
 304 0026 1521     		movs	r1, #21
 305 0028 3120     		movs	r0, #49
 306 002a FFF7FEFF 		bl	read_regs
 307              	.LVL17:
 648:../../../mod/baro/baro.c **** 	{
 308              		.loc 1 648 1 is_stmt 1 view .LVU53
 648:../../../mod/baro/baro.c **** 	{
 309              		.loc 1 648 4 is_stmt 0 view .LVU54
 310 002e 8346     		mov	fp, r0
 311 0030 0028     		cmp	r0, #0
 312 0032 40F0EB80 		bne	.L20
 654:../../../mod/baro/baro.c **** cal_data_int.par_t2  = bytes_to_uint16_t( buffer[2], buffer[3] );
 313              		.loc 1 654 1 is_stmt 1 view .LVU55
 654:../../../mod/baro/baro.c **** cal_data_int.par_t2  = bytes_to_uint16_t( buffer[2], buffer[3] );
 314              		.loc 1 654 24 is_stmt 0 view .LVU56
 315 0036 9DF81110 		ldrb	r1, [sp, #17]	@ zero_extendqisi2
 316 003a 9DF81000 		ldrb	r0, [sp, #16]	@ zero_extendqisi2
 317              	.LVL18:
 654:../../../mod/baro/baro.c **** cal_data_int.par_t2  = bytes_to_uint16_t( buffer[2], buffer[3] );
 318              		.loc 1 654 24 view .LVU57
 319 003e FFF7FEFF 		bl	bytes_to_uint16_t
 320              	.LVL19:
 654:../../../mod/baro/baro.c **** cal_data_int.par_t2  = bytes_to_uint16_t( buffer[2], buffer[3] );
 321              		.loc 1 654 22 view .LVU58
 322 0042 0090     		str	r0, [sp]
 323 0044 ADF82800 		strh	r0, [sp, #40]	@ movhi
 655:../../../mod/baro/baro.c **** cal_data_int.par_t3  = (int8_t) buffer[4];
 324              		.loc 1 655 1 is_stmt 1 view .LVU59
 655:../../../mod/baro/baro.c **** cal_data_int.par_t3  = (int8_t) buffer[4];
 325              		.loc 1 655 24 is_stmt 0 view .LVU60
 326 0048 9DF81310 		ldrb	r1, [sp, #19]	@ zero_extendqisi2
 327 004c 9DF81200 		ldrb	r0, [sp, #18]	@ zero_extendqisi2
 328 0050 FFF7FEFF 		bl	bytes_to_uint16_t
 329              	.LVL20:
 655:../../../mod/baro/baro.c **** cal_data_int.par_t3  = (int8_t) buffer[4];
 330              		.loc 1 655 22 view .LVU61
 331 0054 0190     		str	r0, [sp, #4]
 332 0056 ADF82A00 		strh	r0, [sp, #42]	@ movhi
 656:../../../mod/baro/baro.c **** cal_data_int.par_p1  = bytes_to_int16_t( buffer[5], buffer[6] );
 333              		.loc 1 656 1 is_stmt 1 view .LVU62
 656:../../../mod/baro/baro.c **** cal_data_int.par_p1  = bytes_to_int16_t( buffer[5], buffer[6] );
 334              		.loc 1 656 24 is_stmt 0 view .LVU63
 335 005a 9DF914A0 		ldrsb	r10, [sp, #20]
 656:../../../mod/baro/baro.c **** cal_data_int.par_p1  = bytes_to_int16_t( buffer[5], buffer[6] );
 336              		.loc 1 656 22 view .LVU64
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 22


 337 005e 8DF82CA0 		strb	r10, [sp, #44]
 657:../../../mod/baro/baro.c **** cal_data_int.par_p2  = bytes_to_int16_t( buffer[7], buffer[8] );
 338              		.loc 1 657 1 is_stmt 1 view .LVU65
 657:../../../mod/baro/baro.c **** cal_data_int.par_p2  = bytes_to_int16_t( buffer[7], buffer[8] );
 339              		.loc 1 657 24 is_stmt 0 view .LVU66
 340 0062 9DF81610 		ldrb	r1, [sp, #22]	@ zero_extendqisi2
 341 0066 9DF81500 		ldrb	r0, [sp, #21]	@ zero_extendqisi2
 342 006a FFF7FEFF 		bl	bytes_to_int16_t
 343              	.LVL21:
 344 006e 0546     		mov	r5, r0
 657:../../../mod/baro/baro.c **** cal_data_int.par_p2  = bytes_to_int16_t( buffer[7], buffer[8] );
 345              		.loc 1 657 22 view .LVU67
 346 0070 ADF82E00 		strh	r0, [sp, #46]	@ movhi
 658:../../../mod/baro/baro.c **** cal_data_int.par_p3  = (int8_t)  buffer[9];
 347              		.loc 1 658 1 is_stmt 1 view .LVU68
 658:../../../mod/baro/baro.c **** cal_data_int.par_p3  = (int8_t)  buffer[9];
 348              		.loc 1 658 24 is_stmt 0 view .LVU69
 349 0074 9DF81810 		ldrb	r1, [sp, #24]	@ zero_extendqisi2
 350 0078 9DF81700 		ldrb	r0, [sp, #23]	@ zero_extendqisi2
 351 007c FFF7FEFF 		bl	bytes_to_int16_t
 352              	.LVL22:
 353 0080 0446     		mov	r4, r0
 658:../../../mod/baro/baro.c **** cal_data_int.par_p3  = (int8_t)  buffer[9];
 354              		.loc 1 658 22 view .LVU70
 355 0082 ADF83000 		strh	r0, [sp, #48]	@ movhi
 659:../../../mod/baro/baro.c **** cal_data_int.par_p4  = (int8_t)  buffer[10];
 356              		.loc 1 659 1 is_stmt 1 view .LVU71
 659:../../../mod/baro/baro.c **** cal_data_int.par_p4  = (int8_t)  buffer[10];
 357              		.loc 1 659 24 is_stmt 0 view .LVU72
 358 0086 9DF91990 		ldrsb	r9, [sp, #25]
 659:../../../mod/baro/baro.c **** cal_data_int.par_p4  = (int8_t)  buffer[10];
 359              		.loc 1 659 22 view .LVU73
 360 008a 8DF83290 		strb	r9, [sp, #50]
 660:../../../mod/baro/baro.c **** cal_data_int.par_p5  = bytes_to_uint16_t( buffer[11], buffer[12] );
 361              		.loc 1 660 1 is_stmt 1 view .LVU74
 660:../../../mod/baro/baro.c **** cal_data_int.par_p5  = bytes_to_uint16_t( buffer[11], buffer[12] );
 362              		.loc 1 660 24 is_stmt 0 view .LVU75
 363 008e 9DF91A80 		ldrsb	r8, [sp, #26]
 660:../../../mod/baro/baro.c **** cal_data_int.par_p5  = bytes_to_uint16_t( buffer[11], buffer[12] );
 364              		.loc 1 660 22 view .LVU76
 365 0092 8DF83380 		strb	r8, [sp, #51]
 661:../../../mod/baro/baro.c **** cal_data_int.par_p6  = bytes_to_uint16_t( buffer[13], buffer[14] );
 366              		.loc 1 661 1 is_stmt 1 view .LVU77
 661:../../../mod/baro/baro.c **** cal_data_int.par_p6  = bytes_to_uint16_t( buffer[13], buffer[14] );
 367              		.loc 1 661 24 is_stmt 0 view .LVU78
 368 0096 9DF81C10 		ldrb	r1, [sp, #28]	@ zero_extendqisi2
 369 009a 9DF81B00 		ldrb	r0, [sp, #27]	@ zero_extendqisi2
 370 009e FFF7FEFF 		bl	bytes_to_uint16_t
 371              	.LVL23:
 661:../../../mod/baro/baro.c **** cal_data_int.par_p6  = bytes_to_uint16_t( buffer[13], buffer[14] );
 372              		.loc 1 661 22 view .LVU79
 373 00a2 0290     		str	r0, [sp, #8]
 374 00a4 ADF83400 		strh	r0, [sp, #52]	@ movhi
 662:../../../mod/baro/baro.c **** cal_data_int.par_p7  = (int8_t)  buffer[15];
 375              		.loc 1 662 1 is_stmt 1 view .LVU80
 662:../../../mod/baro/baro.c **** cal_data_int.par_p7  = (int8_t)  buffer[15];
 376              		.loc 1 662 24 is_stmt 0 view .LVU81
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 23


 377 00a8 9DF81E10 		ldrb	r1, [sp, #30]	@ zero_extendqisi2
 378 00ac 9DF81D00 		ldrb	r0, [sp, #29]	@ zero_extendqisi2
 379 00b0 FFF7FEFF 		bl	bytes_to_uint16_t
 380              	.LVL24:
 662:../../../mod/baro/baro.c **** cal_data_int.par_p7  = (int8_t)  buffer[15];
 381              		.loc 1 662 22 view .LVU82
 382 00b4 0390     		str	r0, [sp, #12]
 383 00b6 ADF83600 		strh	r0, [sp, #54]	@ movhi
 663:../../../mod/baro/baro.c **** cal_data_int.par_p8  = (int8_t)  buffer[16];
 384              		.loc 1 663 1 is_stmt 1 view .LVU83
 663:../../../mod/baro/baro.c **** cal_data_int.par_p8  = (int8_t)  buffer[16];
 385              		.loc 1 663 24 is_stmt 0 view .LVU84
 386 00ba 9DF91F70 		ldrsb	r7, [sp, #31]
 663:../../../mod/baro/baro.c **** cal_data_int.par_p8  = (int8_t)  buffer[16];
 387              		.loc 1 663 22 view .LVU85
 388 00be 8DF83870 		strb	r7, [sp, #56]
 664:../../../mod/baro/baro.c **** cal_data_int.par_p9  = bytes_to_int16_t( buffer[17], buffer[18] );
 389              		.loc 1 664 1 is_stmt 1 view .LVU86
 664:../../../mod/baro/baro.c **** cal_data_int.par_p9  = bytes_to_int16_t( buffer[17], buffer[18] );
 390              		.loc 1 664 24 is_stmt 0 view .LVU87
 391 00c2 9DF92060 		ldrsb	r6, [sp, #32]
 664:../../../mod/baro/baro.c **** cal_data_int.par_p9  = bytes_to_int16_t( buffer[17], buffer[18] );
 392              		.loc 1 664 22 view .LVU88
 393 00c6 8DF83960 		strb	r6, [sp, #57]
 665:../../../mod/baro/baro.c **** cal_data_int.par_p10 = (int8_t) buffer[19];
 394              		.loc 1 665 1 is_stmt 1 view .LVU89
 665:../../../mod/baro/baro.c **** cal_data_int.par_p10 = (int8_t) buffer[19];
 395              		.loc 1 665 24 is_stmt 0 view .LVU90
 396 00ca 9DF82210 		ldrb	r1, [sp, #34]	@ zero_extendqisi2
 397 00ce 9DF82100 		ldrb	r0, [sp, #33]	@ zero_extendqisi2
 398 00d2 FFF7FEFF 		bl	bytes_to_int16_t
 399              	.LVL25:
 665:../../../mod/baro/baro.c **** cal_data_int.par_p10 = (int8_t) buffer[19];
 400              		.loc 1 665 22 view .LVU91
 401 00d6 ADF83A00 		strh	r0, [sp, #58]	@ movhi
 666:../../../mod/baro/baro.c **** cal_data_int.par_p11 = (int8_t) buffer[20];
 402              		.loc 1 666 1 is_stmt 1 view .LVU92
 666:../../../mod/baro/baro.c **** cal_data_int.par_p11 = (int8_t) buffer[20];
 403              		.loc 1 666 24 is_stmt 0 view .LVU93
 404 00da 9DF92310 		ldrsb	r1, [sp, #35]
 666:../../../mod/baro/baro.c **** cal_data_int.par_p11 = (int8_t) buffer[20];
 405              		.loc 1 666 22 view .LVU94
 406 00de 8DF83C10 		strb	r1, [sp, #60]
 667:../../../mod/baro/baro.c **** 
 407              		.loc 1 667 1 is_stmt 1 view .LVU95
 667:../../../mod/baro/baro.c **** 
 408              		.loc 1 667 24 is_stmt 0 view .LVU96
 409 00e2 9DF92420 		ldrsb	r2, [sp, #36]
 667:../../../mod/baro/baro.c **** 
 410              		.loc 1 667 22 view .LVU97
 411 00e6 8DF83D20 		strb	r2, [sp, #61]
 675:../../../mod/baro/baro.c **** baro_cal_data.par_t2   = ( ( (float) cal_data_int.par_t2  )/( 1073741824.0f      ) );
 412              		.loc 1 675 1 is_stmt 1 view .LVU98
 675:../../../mod/baro/baro.c **** baro_cal_data.par_t2   = ( ( (float) cal_data_int.par_t2  )/( 1073741824.0f      ) );
 413              		.loc 1 675 30 is_stmt 0 view .LVU99
 414 00ea DDED007A 		vldr.32	s15, [sp]	@ int
 415 00ee F8EE677A 		vcvt.f32.u32	s15, s15
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 24


 675:../../../mod/baro/baro.c **** baro_cal_data.par_t2   = ( ( (float) cal_data_int.par_t2  )/( 1073741824.0f      ) );
 416              		.loc 1 675 60 view .LVU100
 417 00f2 9FED487A 		vldr.32	s14, .L22
 418 00f6 67EE877A 		vmul.f32	s15, s15, s14
 675:../../../mod/baro/baro.c **** baro_cal_data.par_t2   = ( ( (float) cal_data_int.par_t2  )/( 1073741824.0f      ) );
 419              		.loc 1 675 24 view .LVU101
 420 00fa 474B     		ldr	r3, .L22+4
 421 00fc C3ED007A 		vstr.32	s15, [r3]
 676:../../../mod/baro/baro.c **** baro_cal_data.par_t3   = ( ( (float) cal_data_int.par_t3  )/( 281474976710656.0f ) );
 422              		.loc 1 676 1 is_stmt 1 view .LVU102
 676:../../../mod/baro/baro.c **** baro_cal_data.par_t3   = ( ( (float) cal_data_int.par_t3  )/( 281474976710656.0f ) );
 423              		.loc 1 676 30 is_stmt 0 view .LVU103
 424 0100 DDED017A 		vldr.32	s15, [sp, #4]	@ int
 425 0104 F8EE677A 		vcvt.f32.u32	s15, s15
 676:../../../mod/baro/baro.c **** baro_cal_data.par_t3   = ( ( (float) cal_data_int.par_t3  )/( 281474976710656.0f ) );
 426              		.loc 1 676 60 view .LVU104
 427 0108 9FED447A 		vldr.32	s14, .L22+8
 428 010c 67EE877A 		vmul.f32	s15, s15, s14
 676:../../../mod/baro/baro.c **** baro_cal_data.par_t3   = ( ( (float) cal_data_int.par_t3  )/( 281474976710656.0f ) );
 429              		.loc 1 676 24 view .LVU105
 430 0110 C3ED017A 		vstr.32	s15, [r3, #4]
 677:../../../mod/baro/baro.c **** 
 431              		.loc 1 677 1 is_stmt 1 view .LVU106
 677:../../../mod/baro/baro.c **** 
 432              		.loc 1 677 30 is_stmt 0 view .LVU107
 433 0114 07EE90AA 		vmov	s15, r10	@ int
 434 0118 B8EEE77A 		vcvt.f32.s32	s14, s15
 677:../../../mod/baro/baro.c **** 
 435              		.loc 1 677 60 view .LVU108
 436 011c DFED406A 		vldr.32	s13, .L22+12
 437 0120 27EE267A 		vmul.f32	s14, s14, s13
 677:../../../mod/baro/baro.c **** 
 438              		.loc 1 677 24 view .LVU109
 439 0124 83ED027A 		vstr.32	s14, [r3, #8]
 680:../../../mod/baro/baro.c **** baro_cal_data.par_p1  /= ( 1048576.0f );
 440              		.loc 1 680 1 is_stmt 1 view .LVU110
 680:../../../mod/baro/baro.c **** baro_cal_data.par_p1  /= ( 1048576.0f );
 441              		.loc 1 680 58 is_stmt 0 view .LVU111
 442 0128 A5F58045 		sub	r5, r5, #16384
 680:../../../mod/baro/baro.c **** baro_cal_data.par_p1  /= ( 1048576.0f );
 443              		.loc 1 680 28 view .LVU112
 444 012c 07EE905A 		vmov	s15, r5	@ int
 445 0130 F8EEE77A 		vcvt.f32.s32	s15, s15
 680:../../../mod/baro/baro.c **** baro_cal_data.par_p1  /= ( 1048576.0f );
 446              		.loc 1 680 24 view .LVU113
 447 0134 C3ED037A 		vstr.32	s15, [r3, #12]
 681:../../../mod/baro/baro.c **** baro_cal_data.par_p2   = ( (float) ( cal_data_int.par_p2 - 16384 ) );
 448              		.loc 1 681 1 is_stmt 1 view .LVU114
 681:../../../mod/baro/baro.c **** baro_cal_data.par_p2   = ( (float) ( cal_data_int.par_p2 - 16384 ) );
 449              		.loc 1 681 23 is_stmt 0 view .LVU115
 450 0138 9FED3A7A 		vldr.32	s14, .L22+16
 451 013c 67EE877A 		vmul.f32	s15, s15, s14
 452 0140 C3ED037A 		vstr.32	s15, [r3, #12]
 682:../../../mod/baro/baro.c **** baro_cal_data.par_p2  /= ( 536870912.0f );
 453              		.loc 1 682 1 is_stmt 1 view .LVU116
 682:../../../mod/baro/baro.c **** baro_cal_data.par_p2  /= ( 536870912.0f );
 454              		.loc 1 682 58 is_stmt 0 view .LVU117
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 25


 455 0144 A4F58044 		sub	r4, r4, #16384
 682:../../../mod/baro/baro.c **** baro_cal_data.par_p2  /= ( 536870912.0f );
 456              		.loc 1 682 28 view .LVU118
 457 0148 07EE904A 		vmov	s15, r4	@ int
 458 014c F8EEE77A 		vcvt.f32.s32	s15, s15
 682:../../../mod/baro/baro.c **** baro_cal_data.par_p2  /= ( 536870912.0f );
 459              		.loc 1 682 24 view .LVU119
 460 0150 C3ED047A 		vstr.32	s15, [r3, #16]
 683:../../../mod/baro/baro.c **** baro_cal_data.par_p3   = ( ( (float) cal_data_int.par_p3  )/( 4294967296.0f           ) );
 461              		.loc 1 683 1 is_stmt 1 view .LVU120
 683:../../../mod/baro/baro.c **** baro_cal_data.par_p3   = ( ( (float) cal_data_int.par_p3  )/( 4294967296.0f           ) );
 462              		.loc 1 683 23 is_stmt 0 view .LVU121
 463 0154 9FED347A 		vldr.32	s14, .L22+20
 464 0158 67EE877A 		vmul.f32	s15, s15, s14
 465 015c C3ED047A 		vstr.32	s15, [r3, #16]
 684:../../../mod/baro/baro.c **** baro_cal_data.par_p4   = ( ( (float) cal_data_int.par_p4  )/( 137438953472.0f         ) );
 466              		.loc 1 684 1 is_stmt 1 view .LVU122
 684:../../../mod/baro/baro.c **** baro_cal_data.par_p4   = ( ( (float) cal_data_int.par_p4  )/( 137438953472.0f         ) );
 467              		.loc 1 684 30 is_stmt 0 view .LVU123
 468 0160 07EE909A 		vmov	s15, r9	@ int
 469 0164 B8EEE77A 		vcvt.f32.s32	s14, s15
 684:../../../mod/baro/baro.c **** baro_cal_data.par_p4   = ( ( (float) cal_data_int.par_p4  )/( 137438953472.0f         ) );
 470              		.loc 1 684 60 view .LVU124
 471 0168 DFED307A 		vldr.32	s15, .L22+24
 472 016c 27EE277A 		vmul.f32	s14, s14, s15
 684:../../../mod/baro/baro.c **** baro_cal_data.par_p4   = ( ( (float) cal_data_int.par_p4  )/( 137438953472.0f         ) );
 473              		.loc 1 684 24 view .LVU125
 474 0170 83ED057A 		vstr.32	s14, [r3, #20]
 685:../../../mod/baro/baro.c **** baro_cal_data.par_p5   = ( ( (float) cal_data_int.par_p5  )/( 0.125f                  ) );
 475              		.loc 1 685 1 is_stmt 1 view .LVU126
 685:../../../mod/baro/baro.c **** baro_cal_data.par_p5   = ( ( (float) cal_data_int.par_p5  )/( 0.125f                  ) );
 476              		.loc 1 685 30 is_stmt 0 view .LVU127
 477 0174 07EE908A 		vmov	s15, r8	@ int
 478 0178 B8EEE77A 		vcvt.f32.s32	s14, s15
 685:../../../mod/baro/baro.c **** baro_cal_data.par_p5   = ( ( (float) cal_data_int.par_p5  )/( 0.125f                  ) );
 479              		.loc 1 685 60 view .LVU128
 480 017c DFED2C7A 		vldr.32	s15, .L22+28
 481 0180 27EE277A 		vmul.f32	s14, s14, s15
 685:../../../mod/baro/baro.c **** baro_cal_data.par_p5   = ( ( (float) cal_data_int.par_p5  )/( 0.125f                  ) );
 482              		.loc 1 685 24 view .LVU129
 483 0184 83ED067A 		vstr.32	s14, [r3, #24]
 686:../../../mod/baro/baro.c **** baro_cal_data.par_p6   = ( ( (float) cal_data_int.par_p6  )/( 64.0f                   ) );
 484              		.loc 1 686 1 is_stmt 1 view .LVU130
 686:../../../mod/baro/baro.c **** baro_cal_data.par_p6   = ( ( (float) cal_data_int.par_p6  )/( 64.0f                   ) );
 485              		.loc 1 686 30 is_stmt 0 view .LVU131
 486 0188 DDED027A 		vldr.32	s15, [sp, #8]	@ int
 487 018c B8EE677A 		vcvt.f32.u32	s14, s15
 686:../../../mod/baro/baro.c **** baro_cal_data.par_p6   = ( ( (float) cal_data_int.par_p6  )/( 64.0f                   ) );
 488              		.loc 1 686 60 view .LVU132
 489 0190 F2EE007A 		vmov.f32	s15, #8.0e+0
 490 0194 27EE277A 		vmul.f32	s14, s14, s15
 686:../../../mod/baro/baro.c **** baro_cal_data.par_p6   = ( ( (float) cal_data_int.par_p6  )/( 64.0f                   ) );
 491              		.loc 1 686 24 view .LVU133
 492 0198 83ED077A 		vstr.32	s14, [r3, #28]
 687:../../../mod/baro/baro.c **** baro_cal_data.par_p7   = ( ( (float) cal_data_int.par_p7  )/( 256.0f                  ) );
 493              		.loc 1 687 1 is_stmt 1 view .LVU134
 687:../../../mod/baro/baro.c **** baro_cal_data.par_p7   = ( ( (float) cal_data_int.par_p7  )/( 256.0f                  ) );
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 26


 494              		.loc 1 687 30 is_stmt 0 view .LVU135
 495 019c DDED037A 		vldr.32	s15, [sp, #12]	@ int
 496 01a0 B8EE677A 		vcvt.f32.u32	s14, s15
 687:../../../mod/baro/baro.c **** baro_cal_data.par_p7   = ( ( (float) cal_data_int.par_p7  )/( 256.0f                  ) );
 497              		.loc 1 687 60 view .LVU136
 498 01a4 DFED237A 		vldr.32	s15, .L22+32
 499 01a8 27EE277A 		vmul.f32	s14, s14, s15
 687:../../../mod/baro/baro.c **** baro_cal_data.par_p7   = ( ( (float) cal_data_int.par_p7  )/( 256.0f                  ) );
 500              		.loc 1 687 24 view .LVU137
 501 01ac 83ED087A 		vstr.32	s14, [r3, #32]
 688:../../../mod/baro/baro.c **** baro_cal_data.par_p8   = ( ( (float) cal_data_int.par_p8  )/( 32768.0f                ) );
 502              		.loc 1 688 1 is_stmt 1 view .LVU138
 688:../../../mod/baro/baro.c **** baro_cal_data.par_p8   = ( ( (float) cal_data_int.par_p8  )/( 32768.0f                ) );
 503              		.loc 1 688 30 is_stmt 0 view .LVU139
 504 01b0 07EE907A 		vmov	s15, r7	@ int
 505 01b4 B8EEE77A 		vcvt.f32.s32	s14, s15
 688:../../../mod/baro/baro.c **** baro_cal_data.par_p8   = ( ( (float) cal_data_int.par_p8  )/( 32768.0f                ) );
 506              		.loc 1 688 60 view .LVU140
 507 01b8 DFED1F7A 		vldr.32	s15, .L22+36
 508 01bc 27EE277A 		vmul.f32	s14, s14, s15
 688:../../../mod/baro/baro.c **** baro_cal_data.par_p8   = ( ( (float) cal_data_int.par_p8  )/( 32768.0f                ) );
 509              		.loc 1 688 24 view .LVU141
 510 01c0 83ED097A 		vstr.32	s14, [r3, #36]
 689:../../../mod/baro/baro.c **** baro_cal_data.par_p9   = ( ( (float) cal_data_int.par_p9  )/( 281474976710656.0f      ) );
 511              		.loc 1 689 1 is_stmt 1 view .LVU142
 689:../../../mod/baro/baro.c **** baro_cal_data.par_p9   = ( ( (float) cal_data_int.par_p9  )/( 281474976710656.0f      ) );
 512              		.loc 1 689 30 is_stmt 0 view .LVU143
 513 01c4 07EE906A 		vmov	s15, r6	@ int
 514 01c8 B8EEE77A 		vcvt.f32.s32	s14, s15
 689:../../../mod/baro/baro.c **** baro_cal_data.par_p9   = ( ( (float) cal_data_int.par_p9  )/( 281474976710656.0f      ) );
 515              		.loc 1 689 60 view .LVU144
 516 01cc DFED1B7A 		vldr.32	s15, .L22+40
 517 01d0 27EE277A 		vmul.f32	s14, s14, s15
 689:../../../mod/baro/baro.c **** baro_cal_data.par_p9   = ( ( (float) cal_data_int.par_p9  )/( 281474976710656.0f      ) );
 518              		.loc 1 689 24 view .LVU145
 519 01d4 83ED0A7A 		vstr.32	s14, [r3, #40]
 690:../../../mod/baro/baro.c **** baro_cal_data.par_p10  = ( ( (float) cal_data_int.par_p10 )/( 281474976710656.0f      ) );
 520              		.loc 1 690 1 is_stmt 1 view .LVU146
 690:../../../mod/baro/baro.c **** baro_cal_data.par_p10  = ( ( (float) cal_data_int.par_p10 )/( 281474976710656.0f      ) );
 521              		.loc 1 690 30 is_stmt 0 view .LVU147
 522 01d8 07EE900A 		vmov	s15, r0	@ int
 523 01dc F8EEE77A 		vcvt.f32.s32	s15, s15
 690:../../../mod/baro/baro.c **** baro_cal_data.par_p10  = ( ( (float) cal_data_int.par_p10 )/( 281474976710656.0f      ) );
 524              		.loc 1 690 60 view .LVU148
 525 01e0 67EEA67A 		vmul.f32	s15, s15, s13
 690:../../../mod/baro/baro.c **** baro_cal_data.par_p10  = ( ( (float) cal_data_int.par_p10 )/( 281474976710656.0f      ) );
 526              		.loc 1 690 24 view .LVU149
 527 01e4 C3ED0B7A 		vstr.32	s15, [r3, #44]
 691:../../../mod/baro/baro.c **** baro_cal_data.par_p11  = ( ( (float) cal_data_int.par_p11 )/( 36893488147419103232.0f ) );
 528              		.loc 1 691 1 is_stmt 1 view .LVU150
 691:../../../mod/baro/baro.c **** baro_cal_data.par_p11  = ( ( (float) cal_data_int.par_p11 )/( 36893488147419103232.0f ) );
 529              		.loc 1 691 30 is_stmt 0 view .LVU151
 530 01e8 07EE901A 		vmov	s15, r1	@ int
 531 01ec F8EEE77A 		vcvt.f32.s32	s15, s15
 691:../../../mod/baro/baro.c **** baro_cal_data.par_p11  = ( ( (float) cal_data_int.par_p11 )/( 36893488147419103232.0f ) );
 532              		.loc 1 691 60 view .LVU152
 533 01f0 67EEA67A 		vmul.f32	s15, s15, s13
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 27


 691:../../../mod/baro/baro.c **** baro_cal_data.par_p11  = ( ( (float) cal_data_int.par_p11 )/( 36893488147419103232.0f ) );
 534              		.loc 1 691 24 view .LVU153
 535 01f4 C3ED0C7A 		vstr.32	s15, [r3, #48]
 692:../../../mod/baro/baro.c **** 
 536              		.loc 1 692 1 is_stmt 1 view .LVU154
 692:../../../mod/baro/baro.c **** 
 537              		.loc 1 692 30 is_stmt 0 view .LVU155
 538 01f8 07EE902A 		vmov	s15, r2	@ int
 539 01fc F8EEE77A 		vcvt.f32.s32	s15, s15
 692:../../../mod/baro/baro.c **** 
 540              		.loc 1 692 60 view .LVU156
 541 0200 9FED0F7A 		vldr.32	s14, .L22+44
 542 0204 67EE877A 		vmul.f32	s15, s15, s14
 692:../../../mod/baro/baro.c **** 
 543              		.loc 1 692 24 view .LVU157
 544 0208 C3ED0D7A 		vstr.32	s15, [r3, #52]
 695:../../../mod/baro/baro.c **** 
 545              		.loc 1 695 1 is_stmt 1 view .LVU158
 546              	.L20:
 697:../../../mod/baro/baro.c **** 
 547              		.loc 1 697 1 is_stmt 0 view .LVU159
 548 020c 5846     		mov	r0, fp
 549 020e 11B0     		add	sp, sp, #68
 550              	.LCFI12:
 551              		.cfi_def_cfa_offset 36
 552              		@ sp needed
 553 0210 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 554              	.L23:
 555              		.align	2
 556              	.L22:
 557 0214 00008043 		.word	1132462080
 558 0218 00000000 		.word	.LANCHOR0
 559 021c 00008030 		.word	813694976
 560 0220 00008027 		.word	662700032
 561 0224 00008035 		.word	897581056
 562 0228 00000031 		.word	822083584
 563 022c 0000802F 		.word	796917760
 564 0230 0000002D 		.word	754974720
 565 0234 0000803C 		.word	1015021568
 566 0238 0000803B 		.word	998244352
 567 023c 00000038 		.word	939524096
 568 0240 0000001F 		.word	520093696
 569              		.cfi_endproc
 570              	.LFE154:
 572              		.section	.text.press_compensate,"ax",%progbits
 573              		.align	1
 574              		.syntax unified
 575              		.thumb
 576              		.thumb_func
 578              	press_compensate:
 579              	.LVL26:
 580              	.LFB156:
 753:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 581              		.loc 1 753 1 is_stmt 1 view -0
 582              		.cfi_startproc
 583              		@ args = 0, pretend = 0, frame = 0
 584              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 28


 753:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 585              		.loc 1 753 1 is_stmt 0 view .LVU161
 586 0000 10B5     		push	{r4, lr}
 587              	.LCFI13:
 588              		.cfi_def_cfa_offset 8
 589              		.cfi_offset 4, -8
 590              		.cfi_offset 14, -4
 591 0002 2DED068B 		vpush.64	{d8, d9, d10}
 592              	.LCFI14:
 593              		.cfi_def_cfa_offset 32
 594              		.cfi_offset 80, -32
 595              		.cfi_offset 81, -28
 596              		.cfi_offset 82, -24
 597              		.cfi_offset 83, -20
 598              		.cfi_offset 84, -16
 599              		.cfi_offset 85, -12
 600 0006 09EE900A 		vmov	s19, r0	@ int
 757:../../../mod/baro/baro.c **** float partial_data2;
 601              		.loc 1 757 1 is_stmt 1 view .LVU162
 758:../../../mod/baro/baro.c **** float partial_data3;
 602              		.loc 1 758 1 view .LVU163
 759:../../../mod/baro/baro.c **** float partial_data4;
 603              		.loc 1 759 1 view .LVU164
 760:../../../mod/baro/baro.c **** float partial_out1;
 604              		.loc 1 760 1 view .LVU165
 761:../../../mod/baro/baro.c **** float partial_out2;
 605              		.loc 1 761 1 view .LVU166
 762:../../../mod/baro/baro.c **** 
 606              		.loc 1 762 1 view .LVU167
 768:../../../mod/baro/baro.c **** partial_data2 = 0;
 607              		.loc 1 768 1 view .LVU168
 608              	.LVL27:
 769:../../../mod/baro/baro.c **** partial_data3 = 0;
 609              		.loc 1 769 1 view .LVU169
 770:../../../mod/baro/baro.c **** partial_data3 = 0;
 610              		.loc 1 770 1 view .LVU170
 771:../../../mod/baro/baro.c **** partial_out1  = 0;
 611              		.loc 1 771 1 view .LVU171
 772:../../../mod/baro/baro.c **** partial_out2  = 0;
 612              		.loc 1 772 1 view .LVU172
 773:../../../mod/baro/baro.c **** 
 613              		.loc 1 773 1 view .LVU173
 779:../../../mod/baro/baro.c **** partial_data2 = baro_cal_data.par_p7*powf( baro_cal_data.comp_temp, 2 );
 614              		.loc 1 779 1 view .LVU174
 779:../../../mod/baro/baro.c **** partial_data2 = baro_cal_data.par_p7*powf( baro_cal_data.comp_temp, 2 );
 615              		.loc 1 779 30 is_stmt 0 view .LVU175
 616 000a 354C     		ldr	r4, .L26
 617 000c 94ED088A 		vldr.32	s16, [r4, #32]
 779:../../../mod/baro/baro.c **** partial_data2 = baro_cal_data.par_p7*powf( baro_cal_data.comp_temp, 2 );
 618              		.loc 1 779 51 view .LVU176
 619 0010 94ED0E0A 		vldr.32	s0, [r4, #56]
 779:../../../mod/baro/baro.c **** partial_data2 = baro_cal_data.par_p7*powf( baro_cal_data.comp_temp, 2 );
 620              		.loc 1 779 15 view .LVU177
 621 0014 28EE008A 		vmul.f32	s16, s16, s0
 622              	.LVL28:
 780:../../../mod/baro/baro.c **** partial_data3 = baro_cal_data.par_p8*powf( baro_cal_data.comp_temp, 3 );
 623              		.loc 1 780 1 is_stmt 1 view .LVU178
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 29


 780:../../../mod/baro/baro.c **** partial_data3 = baro_cal_data.par_p8*powf( baro_cal_data.comp_temp, 3 );
 624              		.loc 1 780 30 is_stmt 0 view .LVU179
 625 0018 94ED099A 		vldr.32	s18, [r4, #36]
 780:../../../mod/baro/baro.c **** partial_data3 = baro_cal_data.par_p8*powf( baro_cal_data.comp_temp, 3 );
 626              		.loc 1 780 38 view .LVU180
 627 001c F0EE000A 		vmov.f32	s1, #2.0e+0
 628 0020 FFF7FEFF 		bl	powf
 629              	.LVL29:
 780:../../../mod/baro/baro.c **** partial_data3 = baro_cal_data.par_p8*powf( baro_cal_data.comp_temp, 3 );
 630              		.loc 1 780 15 view .LVU181
 631 0024 29EE009A 		vmul.f32	s18, s18, s0
 632              	.LVL30:
 781:../../../mod/baro/baro.c **** partial_out1  =  ( baro_cal_data.par_p5 + partial_data1 + 
 633              		.loc 1 781 1 is_stmt 1 view .LVU182
 781:../../../mod/baro/baro.c **** partial_out1  =  ( baro_cal_data.par_p5 + partial_data1 + 
 634              		.loc 1 781 30 is_stmt 0 view .LVU183
 635 0028 D4ED0A8A 		vldr.32	s17, [r4, #40]
 781:../../../mod/baro/baro.c **** partial_out1  =  ( baro_cal_data.par_p5 + partial_data1 + 
 636              		.loc 1 781 38 view .LVU184
 637 002c F0EE080A 		vmov.f32	s1, #3.0e+0
 638 0030 94ED0E0A 		vldr.32	s0, [r4, #56]
 639 0034 FFF7FEFF 		bl	powf
 640              	.LVL31:
 781:../../../mod/baro/baro.c **** partial_out1  =  ( baro_cal_data.par_p5 + partial_data1 + 
 641              		.loc 1 781 15 view .LVU185
 642 0038 68EE808A 		vmul.f32	s17, s17, s0
 643              	.LVL32:
 782:../../../mod/baro/baro.c ****                    partial_data2        + partial_data3 );
 644              		.loc 1 782 1 is_stmt 1 view .LVU186
 782:../../../mod/baro/baro.c ****                    partial_data2        + partial_data3 );
 645              		.loc 1 782 33 is_stmt 0 view .LVU187
 646 003c D4ED077A 		vldr.32	s15, [r4, #28]
 782:../../../mod/baro/baro.c ****                    partial_data2        + partial_data3 );
 647              		.loc 1 782 41 view .LVU188
 648 0040 37EE888A 		vadd.f32	s16, s15, s16
 649              	.LVL33:
 782:../../../mod/baro/baro.c ****                    partial_data2        + partial_data3 );
 650              		.loc 1 782 57 view .LVU189
 651 0044 38EE098A 		vadd.f32	s16, s16, s18
 782:../../../mod/baro/baro.c ****                    partial_data2        + partial_data3 );
 652              		.loc 1 782 15 view .LVU190
 653 0048 38EE288A 		vadd.f32	s16, s16, s17
 654              	.LVL34:
 785:../../../mod/baro/baro.c **** partial_data2 = baro_cal_data.par_p3*powf( baro_cal_data.comp_temp, 2 );
 655              		.loc 1 785 1 is_stmt 1 view .LVU191
 785:../../../mod/baro/baro.c **** partial_data2 = baro_cal_data.par_p3*powf( baro_cal_data.comp_temp, 2 );
 656              		.loc 1 785 30 is_stmt 0 view .LVU192
 657 004c D4ED048A 		vldr.32	s17, [r4, #16]
 658              	.LVL35:
 785:../../../mod/baro/baro.c **** partial_data2 = baro_cal_data.par_p3*powf( baro_cal_data.comp_temp, 2 );
 659              		.loc 1 785 51 view .LVU193
 660 0050 94ED0E0A 		vldr.32	s0, [r4, #56]
 785:../../../mod/baro/baro.c **** partial_data2 = baro_cal_data.par_p3*powf( baro_cal_data.comp_temp, 2 );
 661              		.loc 1 785 15 view .LVU194
 662 0054 68EE808A 		vmul.f32	s17, s17, s0
 663              	.LVL36:
 786:../../../mod/baro/baro.c **** partial_data3 = baro_cal_data.par_p4*powf( baro_cal_data.comp_temp, 3 );
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 30


 664              		.loc 1 786 1 is_stmt 1 view .LVU195
 786:../../../mod/baro/baro.c **** partial_data3 = baro_cal_data.par_p4*powf( baro_cal_data.comp_temp, 3 );
 665              		.loc 1 786 30 is_stmt 0 view .LVU196
 666 0058 94ED05AA 		vldr.32	s20, [r4, #20]
 786:../../../mod/baro/baro.c **** partial_data3 = baro_cal_data.par_p4*powf( baro_cal_data.comp_temp, 3 );
 667              		.loc 1 786 38 view .LVU197
 668 005c F0EE000A 		vmov.f32	s1, #2.0e+0
 669 0060 FFF7FEFF 		bl	powf
 670              	.LVL37:
 786:../../../mod/baro/baro.c **** partial_data3 = baro_cal_data.par_p4*powf( baro_cal_data.comp_temp, 3 );
 671              		.loc 1 786 15 view .LVU198
 672 0064 2AEE00AA 		vmul.f32	s20, s20, s0
 673              	.LVL38:
 787:../../../mod/baro/baro.c **** partial_out2  = (float) raw_readout*( baro_cal_data.par_p1 + 
 674              		.loc 1 787 1 is_stmt 1 view .LVU199
 787:../../../mod/baro/baro.c **** partial_out2  = (float) raw_readout*( baro_cal_data.par_p1 + 
 675              		.loc 1 787 30 is_stmt 0 view .LVU200
 676 0068 94ED069A 		vldr.32	s18, [r4, #24]
 787:../../../mod/baro/baro.c **** partial_out2  = (float) raw_readout*( baro_cal_data.par_p1 + 
 677              		.loc 1 787 38 view .LVU201
 678 006c F0EE080A 		vmov.f32	s1, #3.0e+0
 679 0070 94ED0E0A 		vldr.32	s0, [r4, #56]
 680 0074 FFF7FEFF 		bl	powf
 681              	.LVL39:
 787:../../../mod/baro/baro.c **** partial_out2  = (float) raw_readout*( baro_cal_data.par_p1 + 
 682              		.loc 1 787 15 view .LVU202
 683 0078 29EE009A 		vmul.f32	s18, s18, s0
 684              	.LVL40:
 788:../../../mod/baro/baro.c ****                                       partial_data1        +
 685              		.loc 1 788 1 is_stmt 1 view .LVU203
 788:../../../mod/baro/baro.c ****                                       partial_data1        +
 686              		.loc 1 788 17 is_stmt 0 view .LVU204
 687 007c F8EE699A 		vcvt.f32.u32	s19, s19
 688              	.LVL41:
 788:../../../mod/baro/baro.c ****                                       partial_data1        +
 689              		.loc 1 788 52 view .LVU205
 690 0080 D4ED037A 		vldr.32	s15, [r4, #12]
 788:../../../mod/baro/baro.c ****                                       partial_data1        +
 691              		.loc 1 788 60 view .LVU206
 692 0084 77EEA88A 		vadd.f32	s17, s15, s17
 693              	.LVL42:
 789:../../../mod/baro/baro.c **** 									  partial_data2        +
 694              		.loc 1 789 60 view .LVU207
 695 0088 78EE8A8A 		vadd.f32	s17, s17, s20
 790:../../../mod/baro/baro.c **** 									  partial_data3 );
 696              		.loc 1 790 33 view .LVU208
 697 008c 78EE898A 		vadd.f32	s17, s17, s18
 788:../../../mod/baro/baro.c ****                                       partial_data1        +
 698              		.loc 1 788 15 view .LVU209
 699 0090 69EEA88A 		vmul.f32	s17, s19, s17
 700              	.LVL43:
 793:../../../mod/baro/baro.c **** partial_data2 = ( baro_cal_data.par_p9 + 
 701              		.loc 1 793 1 is_stmt 1 view .LVU210
 793:../../../mod/baro/baro.c **** partial_data2 = ( baro_cal_data.par_p9 + 
 702              		.loc 1 793 17 is_stmt 0 view .LVU211
 703 0094 F0EE000A 		vmov.f32	s1, #2.0e+0
 704 0098 B0EE690A 		vmov.f32	s0, s19
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 31


 705 009c FFF7FEFF 		bl	powf
 706              	.LVL44:
 794:../../../mod/baro/baro.c ****                   baro_cal_data.par_p10*baro_cal_data.comp_temp );
 707              		.loc 1 794 1 is_stmt 1 view .LVU212
 794:../../../mod/baro/baro.c ****                   baro_cal_data.par_p10*baro_cal_data.comp_temp );
 708              		.loc 1 794 32 is_stmt 0 view .LVU213
 709 00a0 D4ED0B7A 		vldr.32	s15, [r4, #44]
 795:../../../mod/baro/baro.c **** partial_data3 = partial_data1*partial_data2;
 710              		.loc 1 795 32 view .LVU214
 711 00a4 94ED0C9A 		vldr.32	s18, [r4, #48]
 712              	.LVL45:
 795:../../../mod/baro/baro.c **** partial_data3 = partial_data1*partial_data2;
 713              		.loc 1 795 54 view .LVU215
 714 00a8 94ED0E7A 		vldr.32	s14, [r4, #56]
 795:../../../mod/baro/baro.c **** partial_data3 = partial_data1*partial_data2;
 715              		.loc 1 795 40 view .LVU216
 716 00ac 29EE079A 		vmul.f32	s18, s18, s14
 794:../../../mod/baro/baro.c ****                   baro_cal_data.par_p10*baro_cal_data.comp_temp );
 717              		.loc 1 794 15 view .LVU217
 718 00b0 77EE897A 		vadd.f32	s15, s15, s18
 719              	.LVL46:
 796:../../../mod/baro/baro.c **** partial_data4 = ( partial_data3 + 
 720              		.loc 1 796 1 is_stmt 1 view .LVU218
 796:../../../mod/baro/baro.c **** partial_data4 = ( partial_data3 + 
 721              		.loc 1 796 15 is_stmt 0 view .LVU219
 722 00b4 20EE279A 		vmul.f32	s18, s0, s15
 723              	.LVL47:
 797:../../../mod/baro/baro.c ****                   powf( ( (float) raw_readout ), 3 )*baro_cal_data.par_p11 );
 724              		.loc 1 797 1 is_stmt 1 view .LVU220
 798:../../../mod/baro/baro.c **** 
 725              		.loc 1 798 19 is_stmt 0 view .LVU221
 726 00b8 F0EE080A 		vmov.f32	s1, #3.0e+0
 727 00bc B0EE690A 		vmov.f32	s0, s19
 728              	.LVL48:
 798:../../../mod/baro/baro.c **** 
 729              		.loc 1 798 19 view .LVU222
 730 00c0 FFF7FEFF 		bl	powf
 731              	.LVL49:
 798:../../../mod/baro/baro.c **** 
 732              		.loc 1 798 67 view .LVU223
 733 00c4 D4ED0D7A 		vldr.32	s15, [r4, #52]
 798:../../../mod/baro/baro.c **** 
 734              		.loc 1 798 53 view .LVU224
 735 00c8 60EE277A 		vmul.f32	s15, s0, s15
 797:../../../mod/baro/baro.c ****                   powf( ( (float) raw_readout ), 3 )*baro_cal_data.par_p11 );
 736              		.loc 1 797 15 view .LVU225
 737 00cc 77EE897A 		vadd.f32	s15, s15, s18
 738              	.LVL50:
 800:../../../mod/baro/baro.c **** 
 739              		.loc 1 800 1 is_stmt 1 view .LVU226
 800:../../../mod/baro/baro.c **** 
 740              		.loc 1 800 21 is_stmt 0 view .LVU227
 741 00d0 38EE280A 		vadd.f32	s0, s16, s17
 802:../../../mod/baro/baro.c **** 
 742              		.loc 1 802 1 view .LVU228
 743 00d4 30EE270A 		vadd.f32	s0, s0, s15
 744 00d8 BDEC068B 		vldm	sp!, {d8-d10}
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 32


 745              	.LCFI15:
 746              		.cfi_restore 84
 747              		.cfi_restore 85
 748              		.cfi_restore 82
 749              		.cfi_restore 83
 750              		.cfi_restore 80
 751              		.cfi_restore 81
 752              		.cfi_def_cfa_offset 8
 753              	.LVL51:
 802:../../../mod/baro/baro.c **** 
 754              		.loc 1 802 1 view .LVU229
 755 00dc 10BD     		pop	{r4, pc}
 756              	.L27:
 757 00de 00BF     		.align	2
 758              	.L26:
 759 00e0 00000000 		.word	.LANCHOR0
 760              		.cfi_endproc
 761              	.LFE156:
 763              		.section	.text.temp_compensate,"ax",%progbits
 764              		.align	1
 765              		.syntax unified
 766              		.thumb
 767              		.thumb_func
 769              	temp_compensate:
 770              	.LVL52:
 771              	.LFB155:
 713:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 772              		.loc 1 713 1 is_stmt 1 view -0
 773              		.cfi_startproc
 774              		@ args = 0, pretend = 0, frame = 0
 775              		@ frame_needed = 0, uses_anonymous_args = 0
 713:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 776              		.loc 1 713 1 is_stmt 0 view .LVU231
 777 0000 10B5     		push	{r4, lr}
 778              	.LCFI16:
 779              		.cfi_def_cfa_offset 8
 780              		.cfi_offset 4, -8
 781              		.cfi_offset 14, -4
 782 0002 2DED028B 		vpush.64	{d8}
 783              	.LCFI17:
 784              		.cfi_def_cfa_offset 16
 785              		.cfi_offset 80, -16
 786              		.cfi_offset 81, -12
 787 0006 00EE100A 		vmov	s0, r0	@ int
 717:../../../mod/baro/baro.c **** float partial_data2;
 788              		.loc 1 717 1 is_stmt 1 view .LVU232
 718:../../../mod/baro/baro.c **** 
 789              		.loc 1 718 1 view .LVU233
 724:../../../mod/baro/baro.c **** partial_data2 = 0;
 790              		.loc 1 724 1 view .LVU234
 791              	.LVL53:
 725:../../../mod/baro/baro.c **** 
 792              		.loc 1 725 1 view .LVU235
 731:../../../mod/baro/baro.c **** partial_data2 = (float)( partial_data1*baro_cal_data.par_t2 );
 793              		.loc 1 731 1 view .LVU236
 731:../../../mod/baro/baro.c **** partial_data2 = (float)( partial_data1*baro_cal_data.par_t2 );
 794              		.loc 1 731 17 is_stmt 0 view .LVU237
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 33


 795 000a B8EE400A 		vcvt.f32.u32	s0, s0
 731:../../../mod/baro/baro.c **** partial_data2 = (float)( partial_data1*baro_cal_data.par_t2 );
 796              		.loc 1 731 53 view .LVU238
 797 000e 0C4C     		ldr	r4, .L30
 798 0010 D4ED007A 		vldr.32	s15, [r4]
 731:../../../mod/baro/baro.c **** partial_data2 = (float)( partial_data1*baro_cal_data.par_t2 );
 799              		.loc 1 731 15 view .LVU239
 800 0014 30EE670A 		vsub.f32	s0, s0, s15
 801              	.LVL54:
 732:../../../mod/baro/baro.c **** baro_cal_data.comp_temp = (float)( partial_data2 + 
 802              		.loc 1 732 1 is_stmt 1 view .LVU240
 732:../../../mod/baro/baro.c **** baro_cal_data.comp_temp = (float)( partial_data2 + 
 803              		.loc 1 732 53 is_stmt 0 view .LVU241
 804 0018 94ED018A 		vldr.32	s16, [r4, #4]
 732:../../../mod/baro/baro.c **** baro_cal_data.comp_temp = (float)( partial_data2 + 
 805              		.loc 1 732 15 view .LVU242
 806 001c 28EE008A 		vmul.f32	s16, s16, s0
 807              	.LVL55:
 733:../../../mod/baro/baro.c ****                             powf( partial_data1, 2)*baro_cal_data.par_t3 );
 808              		.loc 1 733 1 is_stmt 1 view .LVU243
 734:../../../mod/baro/baro.c **** return baro_cal_data.comp_temp;
 809              		.loc 1 734 29 is_stmt 0 view .LVU244
 810 0020 F0EE000A 		vmov.f32	s1, #2.0e+0
 811 0024 FFF7FEFF 		bl	powf
 812              	.LVL56:
 734:../../../mod/baro/baro.c **** return baro_cal_data.comp_temp;
 813              		.loc 1 734 66 view .LVU245
 814 0028 D4ED027A 		vldr.32	s15, [r4, #8]
 734:../../../mod/baro/baro.c **** return baro_cal_data.comp_temp;
 815              		.loc 1 734 52 view .LVU246
 816 002c 20EE270A 		vmul.f32	s0, s0, s15
 733:../../../mod/baro/baro.c ****                             powf( partial_data1, 2)*baro_cal_data.par_t3 );
 817              		.loc 1 733 27 view .LVU247
 818 0030 30EE080A 		vadd.f32	s0, s0, s16
 733:../../../mod/baro/baro.c ****                             powf( partial_data1, 2)*baro_cal_data.par_t3 );
 819              		.loc 1 733 25 view .LVU248
 820 0034 84ED0E0A 		vstr.32	s0, [r4, #56]
 735:../../../mod/baro/baro.c **** 
 821              		.loc 1 735 1 is_stmt 1 view .LVU249
 737:../../../mod/baro/baro.c **** 
 822              		.loc 1 737 1 is_stmt 0 view .LVU250
 823 0038 BDEC028B 		vldm	sp!, {d8}
 824              	.LCFI18:
 825              		.cfi_restore 80
 826              		.cfi_restore 81
 827              		.cfi_def_cfa_offset 8
 828              	.LVL57:
 737:../../../mod/baro/baro.c **** 
 829              		.loc 1 737 1 view .LVU251
 830 003c 10BD     		pop	{r4, pc}
 831              	.L31:
 832 003e 00BF     		.align	2
 833              	.L30:
 834 0040 00000000 		.word	.LANCHOR0
 835              		.cfi_endproc
 836              	.LFE155:
 838              		.section	.text.baro_config,"ax",%progbits
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 34


 839              		.align	1
 840              		.global	baro_config
 841              		.syntax unified
 842              		.thumb
 843              		.thumb_func
 845              	baro_config:
 846              	.LVL58:
 847              	.LFB145:
 219:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 848              		.loc 1 219 1 is_stmt 1 view -0
 849              		.cfi_startproc
 850              		@ args = 0, pretend = 0, frame = 0
 851              		@ frame_needed = 0, uses_anonymous_args = 0
 219:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 852              		.loc 1 219 1 is_stmt 0 view .LVU253
 853 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 854              	.LCFI19:
 855              		.cfi_def_cfa_offset 24
 856              		.cfi_offset 3, -24
 857              		.cfi_offset 4, -20
 858              		.cfi_offset 5, -16
 859              		.cfi_offset 6, -12
 860              		.cfi_offset 7, -8
 861              		.cfi_offset 14, -4
 223:../../../mod/baro/baro.c **** uint8_t       pwr_ctrl;    /* Contents of PWR_CTRL register               */
 862              		.loc 1 223 1 is_stmt 1 view .LVU254
 224:../../../mod/baro/baro.c **** uint8_t       osr;         /* Contents of OSR register                    */
 863              		.loc 1 224 1 view .LVU255
 225:../../../mod/baro/baro.c **** uint8_t       odr;         /* Contents of ODR register                    */
 864              		.loc 1 225 1 view .LVU256
 226:../../../mod/baro/baro.c **** uint8_t       iir;         /* Contents of CONFIG register (IIR Filter)    */
 865              		.loc 1 226 1 view .LVU257
 227:../../../mod/baro/baro.c **** 
 866              		.loc 1 227 1 view .LVU258
 233:../../../mod/baro/baro.c **** pwr_ctrl    = 0;
 867              		.loc 1 233 1 view .LVU259
 868              	.LVL59:
 234:../../../mod/baro/baro.c **** osr         = 0;
 869              		.loc 1 234 1 view .LVU260
 235:../../../mod/baro/baro.c **** odr         = 0;
 870              		.loc 1 235 1 view .LVU261
 236:../../../mod/baro/baro.c **** iir         = 0;
 871              		.loc 1 236 1 view .LVU262
 237:../../../mod/baro/baro.c **** 
 872              		.loc 1 237 1 view .LVU263
 245:../../../mod/baro/baro.c **** pwr_ctrl |= config_ptr -> mode << 4;             /* Set operating mode       */
 873              		.loc 1 245 1 view .LVU264
 245:../../../mod/baro/baro.c **** pwr_ctrl |= config_ptr -> mode << 4;             /* Set operating mode       */
 874              		.loc 1 245 24 is_stmt 0 view .LVU265
 875 0002 0578     		ldrb	r5, [r0]	@ zero_extendqisi2
 876              	.LVL60:
 246:../../../mod/baro/baro.c **** osr      |= config_ptr -> press_OSR_setting;     /* Pressure oversampling    */
 877              		.loc 1 246 1 is_stmt 1 view .LVU266
 246:../../../mod/baro/baro.c **** osr      |= config_ptr -> press_OSR_setting;     /* Pressure oversampling    */
 878              		.loc 1 246 24 is_stmt 0 view .LVU267
 879 0004 90F801E0 		ldrb	lr, [r0, #1]	@ zero_extendqisi2
 246:../../../mod/baro/baro.c **** osr      |= config_ptr -> press_OSR_setting;     /* Pressure oversampling    */
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 35


 880              		.loc 1 246 10 view .LVU268
 881 0008 45EA0E11 		orr	r1, r5, lr, lsl #4
 882              	.LVL61:
 247:../../../mod/baro/baro.c **** osr      |= config_ptr -> temp_OSR_setting << 3; /* Temperature oversampling */
 883              		.loc 1 247 1 is_stmt 1 view .LVU269
 247:../../../mod/baro/baro.c **** osr      |= config_ptr -> temp_OSR_setting << 3; /* Temperature oversampling */
 884              		.loc 1 247 24 is_stmt 0 view .LVU270
 885 000c 90F802C0 		ldrb	ip, [r0, #2]	@ zero_extendqisi2
 886              	.LVL62:
 248:../../../mod/baro/baro.c **** odr      |= config_ptr -> ODR_setting;           /* Sampling Frequency       */
 887              		.loc 1 248 1 is_stmt 1 view .LVU271
 248:../../../mod/baro/baro.c **** odr      |= config_ptr -> ODR_setting;           /* Sampling Frequency       */
 888              		.loc 1 248 24 is_stmt 0 view .LVU272
 889 0010 C278     		ldrb	r2, [r0, #3]	@ zero_extendqisi2
 248:../../../mod/baro/baro.c **** odr      |= config_ptr -> ODR_setting;           /* Sampling Frequency       */
 890              		.loc 1 248 10 view .LVU273
 891 0012 4CEAC204 		orr	r4, ip, r2, lsl #3
 892              	.LVL63:
 249:../../../mod/baro/baro.c **** iir      |= config_ptr -> IIR_setting;           /* IIR Filter Selection     */
 893              		.loc 1 249 1 is_stmt 1 view .LVU274
 249:../../../mod/baro/baro.c **** iir      |= config_ptr -> IIR_setting;           /* IIR Filter Selection     */
 894              		.loc 1 249 24 is_stmt 0 view .LVU275
 895 0016 0679     		ldrb	r6, [r0, #4]	@ zero_extendqisi2
 896              	.LVL64:
 250:../../../mod/baro/baro.c **** 
 897              		.loc 1 250 1 is_stmt 1 view .LVU276
 250:../../../mod/baro/baro.c **** 
 898              		.loc 1 250 24 is_stmt 0 view .LVU277
 899 0018 4779     		ldrb	r7, [r0, #5]	@ zero_extendqisi2
 900              	.LVL65:
 253:../../../mod/baro/baro.c **** baro_configuration.mode              = config_ptr -> mode;
 901              		.loc 1 253 1 is_stmt 1 view .LVU278
 253:../../../mod/baro/baro.c **** baro_configuration.mode              = config_ptr -> mode;
 902              		.loc 1 253 38 is_stmt 0 view .LVU279
 903 001a 134B     		ldr	r3, .L39
 904 001c 1D70     		strb	r5, [r3]
 254:../../../mod/baro/baro.c **** baro_configuration.press_OSR_setting = config_ptr -> press_OSR_setting;
 905              		.loc 1 254 1 is_stmt 1 view .LVU280
 254:../../../mod/baro/baro.c **** baro_configuration.press_OSR_setting = config_ptr -> press_OSR_setting;
 906              		.loc 1 254 38 is_stmt 0 view .LVU281
 907 001e 83F801E0 		strb	lr, [r3, #1]
 255:../../../mod/baro/baro.c **** baro_configuration.temp_OSR_setting  = config_ptr -> temp_OSR_setting;
 908              		.loc 1 255 1 is_stmt 1 view .LVU282
 255:../../../mod/baro/baro.c **** baro_configuration.temp_OSR_setting  = config_ptr -> temp_OSR_setting;
 909              		.loc 1 255 38 is_stmt 0 view .LVU283
 910 0022 83F802C0 		strb	ip, [r3, #2]
 256:../../../mod/baro/baro.c **** baro_configuration.ODR_setting       = config_ptr -> ODR_setting;
 911              		.loc 1 256 1 is_stmt 1 view .LVU284
 256:../../../mod/baro/baro.c **** baro_configuration.ODR_setting       = config_ptr -> ODR_setting;
 912              		.loc 1 256 38 is_stmt 0 view .LVU285
 913 0026 DA70     		strb	r2, [r3, #3]
 257:../../../mod/baro/baro.c **** baro_configuration.IIR_setting       = config_ptr -> IIR_setting;
 914              		.loc 1 257 1 is_stmt 1 view .LVU286
 257:../../../mod/baro/baro.c **** baro_configuration.IIR_setting       = config_ptr -> IIR_setting;
 915              		.loc 1 257 38 is_stmt 0 view .LVU287
 916 0028 1E71     		strb	r6, [r3, #4]
 258:../../../mod/baro/baro.c **** 
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 36


 917              		.loc 1 258 1 is_stmt 1 view .LVU288
 258:../../../mod/baro/baro.c **** 
 918              		.loc 1 258 38 is_stmt 0 view .LVU289
 919 002a 5F71     		strb	r7, [r3, #5]
 266:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 920              		.loc 1 266 1 is_stmt 1 view .LVU290
 266:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 921              		.loc 1 266 15 is_stmt 0 view .LVU291
 922 002c C9B2     		uxtb	r1, r1
 266:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 923              		.loc 1 266 15 view .LVU292
 924 002e 1B20     		movs	r0, #27
 925              	.LVL66:
 266:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 926              		.loc 1 266 15 view .LVU293
 927 0030 FFF7FEFF 		bl	write_reg
 928              	.LVL67:
 267:../../../mod/baro/baro.c **** 	{
 929              		.loc 1 267 1 is_stmt 1 view .LVU294
 267:../../../mod/baro/baro.c **** 	{
 930              		.loc 1 267 4 is_stmt 0 view .LVU295
 931 0034 88B9     		cbnz	r0, .L34
 932 0036 E4B2     		uxtb	r4, r4
 273:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 933              		.loc 1 273 1 is_stmt 1 view .LVU296
 273:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 934              		.loc 1 273 15 is_stmt 0 view .LVU297
 935 0038 2146     		mov	r1, r4
 936 003a 1C20     		movs	r0, #28
 937              	.LVL68:
 273:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 938              		.loc 1 273 15 view .LVU298
 939 003c FFF7FEFF 		bl	write_reg
 940              	.LVL69:
 274:../../../mod/baro/baro.c **** 	{
 941              		.loc 1 274 1 is_stmt 1 view .LVU299
 274:../../../mod/baro/baro.c **** 	{
 942              		.loc 1 274 4 is_stmt 0 view .LVU300
 943 0040 68B9     		cbnz	r0, .L35
 280:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 944              		.loc 1 280 1 is_stmt 1 view .LVU301
 280:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 945              		.loc 1 280 15 is_stmt 0 view .LVU302
 946 0042 3146     		mov	r1, r6
 947 0044 1D20     		movs	r0, #29
 948              	.LVL70:
 280:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 949              		.loc 1 280 15 view .LVU303
 950 0046 FFF7FEFF 		bl	write_reg
 951              	.LVL71:
 281:../../../mod/baro/baro.c **** 	{
 952              		.loc 1 281 1 is_stmt 1 view .LVU304
 281:../../../mod/baro/baro.c **** 	{
 953              		.loc 1 281 4 is_stmt 0 view .LVU305
 954 004a 50B9     		cbnz	r0, .L36
 287:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 955              		.loc 1 287 1 is_stmt 1 view .LVU306
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 37


 287:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 956              		.loc 1 287 15 is_stmt 0 view .LVU307
 957 004c 3946     		mov	r1, r7
 958 004e 1F20     		movs	r0, #31
 959              	.LVL72:
 287:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 960              		.loc 1 287 15 view .LVU308
 961 0050 FFF7FEFF 		bl	write_reg
 962              	.LVL73:
 288:../../../mod/baro/baro.c **** 	{
 963              		.loc 1 288 1 is_stmt 1 view .LVU309
 288:../../../mod/baro/baro.c **** 	{
 964              		.loc 1 288 4 is_stmt 0 view .LVU310
 965 0054 10B1     		cbz	r0, .L33
 290:../../../mod/baro/baro.c **** 	}
 966              		.loc 1 290 9 view .LVU311
 967 0056 0820     		movs	r0, #8
 968              	.LVL74:
 290:../../../mod/baro/baro.c **** 	}
 969              		.loc 1 290 9 view .LVU312
 970 0058 00E0     		b	.L33
 971              	.LVL75:
 972              	.L34:
 269:../../../mod/baro/baro.c **** 	}
 973              		.loc 1 269 9 view .LVU313
 974 005a 0820     		movs	r0, #8
 975              	.LVL76:
 976              	.L33:
 296:../../../mod/baro/baro.c **** 
 977              		.loc 1 296 1 view .LVU314
 978 005c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 979              	.LVL77:
 980              	.L35:
 276:../../../mod/baro/baro.c **** 	}
 981              		.loc 1 276 9 view .LVU315
 982 005e 0820     		movs	r0, #8
 983              	.LVL78:
 276:../../../mod/baro/baro.c **** 	}
 984              		.loc 1 276 9 view .LVU316
 985 0060 FCE7     		b	.L33
 986              	.LVL79:
 987              	.L36:
 283:../../../mod/baro/baro.c **** 	}
 988              		.loc 1 283 9 view .LVU317
 989 0062 0820     		movs	r0, #8
 990              	.LVL80:
 283:../../../mod/baro/baro.c **** 	}
 991              		.loc 1 283 9 view .LVU318
 992 0064 FAE7     		b	.L33
 993              	.L40:
 994 0066 00BF     		.align	2
 995              	.L39:
 996 0068 00000000 		.word	.LANCHOR1
 997              		.cfi_endproc
 998              	.LFE145:
 1000              		.section	.text.baro_get_device_id,"ax",%progbits
 1001              		.align	1
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 38


 1002              		.global	baro_get_device_id
 1003              		.syntax unified
 1004              		.thumb
 1005              		.thumb_func
 1007              	baro_get_device_id:
 1008              	.LVL81:
 1009              	.LFB146:
 313:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 1010              		.loc 1 313 1 is_stmt 1 view -0
 1011              		.cfi_startproc
 1012              		@ args = 0, pretend = 0, frame = 0
 1013              		@ frame_needed = 0, uses_anonymous_args = 0
 313:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 1014              		.loc 1 313 1 is_stmt 0 view .LVU320
 1015 0000 08B5     		push	{r3, lr}
 1016              	.LCFI20:
 1017              		.cfi_def_cfa_offset 8
 1018              		.cfi_offset 3, -8
 1019              		.cfi_offset 14, -4
 1020 0002 0246     		mov	r2, r0
 317:../../../mod/baro/baro.c **** 
 1021              		.loc 1 317 1 is_stmt 1 view .LVU321
 325:../../../mod/baro/baro.c ****                          sizeof( uint8_t ), 
 1022              		.loc 1 325 1 view .LVU322
 325:../../../mod/baro/baro.c ****                          sizeof( uint8_t ), 
 1023              		.loc 1 325 15 is_stmt 0 view .LVU323
 1024 0004 0121     		movs	r1, #1
 1025 0006 0020     		movs	r0, #0
 1026              	.LVL82:
 325:../../../mod/baro/baro.c ****                          sizeof( uint8_t ), 
 1027              		.loc 1 325 15 view .LVU324
 1028 0008 FFF7FEFF 		bl	read_regs
 1029              	.LVL83:
 328:../../../mod/baro/baro.c **** } /* baro_get_device_id */
 1030              		.loc 1 328 1 is_stmt 1 view .LVU325
 329:../../../mod/baro/baro.c **** 
 1031              		.loc 1 329 1 is_stmt 0 view .LVU326
 1032 000c 08BD     		pop	{r3, pc}
 1033              		.cfi_endproc
 1034              	.LFE146:
 1036              		.section	.text.baro_get_temp,"ax",%progbits
 1037              		.align	1
 1038              		.global	baro_get_temp
 1039              		.syntax unified
 1040              		.thumb
 1041              		.thumb_func
 1043              	baro_get_temp:
 1044              	.LVL84:
 1045              	.LFB148:
 405:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 1046              		.loc 1 405 1 is_stmt 1 view -0
 1047              		.cfi_startproc
 1048              		@ args = 0, pretend = 0, frame = 8
 1049              		@ frame_needed = 0, uses_anonymous_args = 0
 405:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 1050              		.loc 1 405 1 is_stmt 0 view .LVU328
 1051 0000 30B5     		push	{r4, r5, lr}
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 39


 1052              	.LCFI21:
 1053              		.cfi_def_cfa_offset 12
 1054              		.cfi_offset 4, -12
 1055              		.cfi_offset 5, -8
 1056              		.cfi_offset 14, -4
 1057 0002 83B0     		sub	sp, sp, #12
 1058              	.LCFI22:
 1059              		.cfi_def_cfa_offset 24
 1060 0004 0546     		mov	r5, r0
 409:../../../mod/baro/baro.c **** uint32_t    raw_temp;      /* Raw temperature readout in uint32_t format */
 1061              		.loc 1 409 1 is_stmt 1 view .LVU329
 410:../../../mod/baro/baro.c **** BARO_STATUS baro_status;   /* Status codes returned from baro API calls  */
 1062              		.loc 1 410 1 view .LVU330
 411:../../../mod/baro/baro.c **** 
 1063              		.loc 1 411 1 view .LVU331
 417:../../../mod/baro/baro.c **** baro_status  = BARO_OK;
 1064              		.loc 1 417 1 view .LVU332
 1065              	.LVL85:
 418:../../../mod/baro/baro.c **** memset( &temp_bytes[0], 0, sizeof( temp_bytes ) );
 1066              		.loc 1 418 1 view .LVU333
 419:../../../mod/baro/baro.c **** 
 1067              		.loc 1 419 1 view .LVU334
 1068 0006 0023     		movs	r3, #0
 1069 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 1070 000c 8DF80630 		strb	r3, [sp, #6]
 427:../../../mod/baro/baro.c ****                          sizeof( temp_bytes ), 
 1071              		.loc 1 427 1 view .LVU335
 427:../../../mod/baro/baro.c ****                          sizeof( temp_bytes ), 
 1072              		.loc 1 427 15 is_stmt 0 view .LVU336
 1073 0010 01AA     		add	r2, sp, #4
 1074 0012 0321     		movs	r1, #3
 1075 0014 0720     		movs	r0, #7
 1076              	.LVL86:
 427:../../../mod/baro/baro.c ****                          sizeof( temp_bytes ), 
 1077              		.loc 1 427 15 view .LVU337
 1078 0016 FFF7FEFF 		bl	read_regs
 1079              	.LVL87:
 430:../../../mod/baro/baro.c **** 	{
 1080              		.loc 1 430 1 is_stmt 1 view .LVU338
 430:../../../mod/baro/baro.c **** 	{
 1081              		.loc 1 430 4 is_stmt 0 view .LVU339
 1082 001a 88B9     		cbnz	r0, .L45
 1083 001c 0446     		mov	r4, r0
 436:../../../mod/baro/baro.c ****              ( (uint32_t) temp_bytes[1] <<  8 ) |
 1084              		.loc 1 436 1 is_stmt 1 view .LVU340
 436:../../../mod/baro/baro.c ****              ( (uint32_t) temp_bytes[1] <<  8 ) |
 1085              		.loc 1 436 37 is_stmt 0 view .LVU341
 1086 001e 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
 1087              	.LVL88:
 437:../../../mod/baro/baro.c **** 			 ( (uint32_t) temp_bytes[0]       ) ); 
 1088              		.loc 1 437 37 view .LVU342
 1089 0022 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 437:../../../mod/baro/baro.c **** 			 ( (uint32_t) temp_bytes[0]       ) ); 
 1090              		.loc 1 437 41 view .LVU343
 1091 0026 1B02     		lsls	r3, r3, #8
 436:../../../mod/baro/baro.c ****              ( (uint32_t) temp_bytes[1] <<  8 ) |
 1092              		.loc 1 436 49 view .LVU344
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 40


 1093 0028 43EA0043 		orr	r3, r3, r0, lsl #16
 438:../../../mod/baro/baro.c **** 
 1094              		.loc 1 438 28 view .LVU345
 1095 002c 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 1096              	.LVL89:
 441:../../../mod/baro/baro.c **** 
 1097              		.loc 1 441 1 is_stmt 1 view .LVU346
 441:../../../mod/baro/baro.c **** 
 1098              		.loc 1 441 13 is_stmt 0 view .LVU347
 1099 0030 1843     		orrs	r0, r0, r3
 1100              	.LVL90:
 441:../../../mod/baro/baro.c **** 
 1101              		.loc 1 441 13 view .LVU348
 1102 0032 FFF7FEFF 		bl	temp_compensate
 1103              	.LVL91:
 441:../../../mod/baro/baro.c **** 
 1104              		.loc 1 441 11 view .LVU349
 1105 0036 85ED000A 		vstr.32	s0, [r5]
 443:../../../mod/baro/baro.c **** 
 1106              		.loc 1 443 1 is_stmt 1 view .LVU350
 1107              	.L44:
 445:../../../mod/baro/baro.c **** 
 1108              		.loc 1 445 1 is_stmt 0 view .LVU351
 1109 003a 2046     		mov	r0, r4
 1110 003c 03B0     		add	sp, sp, #12
 1111              	.LCFI23:
 1112              		.cfi_remember_state
 1113              		.cfi_def_cfa_offset 12
 1114              		@ sp needed
 1115 003e 30BD     		pop	{r4, r5, pc}
 1116              	.LVL92:
 1117              	.L45:
 1118              	.LCFI24:
 1119              		.cfi_restore_state
 432:../../../mod/baro/baro.c **** 	}
 1120              		.loc 1 432 9 view .LVU352
 1121 0040 0824     		movs	r4, #8
 1122 0042 FAE7     		b	.L44
 1123              		.cfi_endproc
 1124              	.LFE148:
 1126              		.section	.text.baro_init,"ax",%progbits
 1127              		.align	1
 1128              		.global	baro_init
 1129              		.syntax unified
 1130              		.thumb
 1131              		.thumb_func
 1133              	baro_init:
 1134              	.LVL93:
 1135              	.LFB144:
 122:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 1136              		.loc 1 122 1 is_stmt 1 view -0
 1137              		.cfi_startproc
 1138              		@ args = 0, pretend = 0, frame = 8
 1139              		@ frame_needed = 0, uses_anonymous_args = 0
 122:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 1140              		.loc 1 122 1 is_stmt 0 view .LVU354
 1141 0000 10B5     		push	{r4, lr}
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 41


 1142              	.LCFI25:
 1143              		.cfi_def_cfa_offset 8
 1144              		.cfi_offset 4, -8
 1145              		.cfi_offset 14, -4
 1146 0002 82B0     		sub	sp, sp, #8
 1147              	.LCFI26:
 1148              		.cfi_def_cfa_offset 16
 1149 0004 0446     		mov	r4, r0
 126:../../../mod/baro/baro.c **** uint8_t           baro_device_id; /* Baro device id                    */
 1150              		.loc 1 126 1 is_stmt 1 view .LVU355
 127:../../../mod/baro/baro.c **** uint8_t           baro_err_reg;   /* Contents of error register        */
 1151              		.loc 1 127 1 view .LVU356
 128:../../../mod/baro/baro.c **** float             init_temp;      /* Temperature read after init       */
 1152              		.loc 1 128 1 view .LVU357
 129:../../../mod/baro/baro.c **** 
 1153              		.loc 1 129 1 view .LVU358
 135:../../../mod/baro/baro.c **** baro_device_id = 0;
 1154              		.loc 1 135 1 view .LVU359
 1155              	.LVL94:
 136:../../../mod/baro/baro.c **** baro_err_reg   = 0xFF;
 1156              		.loc 1 136 1 view .LVU360
 136:../../../mod/baro/baro.c **** baro_err_reg   = 0xFF;
 1157              		.loc 1 136 16 is_stmt 0 view .LVU361
 1158 0006 0023     		movs	r3, #0
 1159 0008 8DF80730 		strb	r3, [sp, #7]
 137:../../../mod/baro/baro.c **** init_temp      = 0;
 1160              		.loc 1 137 1 is_stmt 1 view .LVU362
 137:../../../mod/baro/baro.c **** init_temp      = 0;
 1161              		.loc 1 137 16 is_stmt 0 view .LVU363
 1162 000c FF23     		movs	r3, #255
 1163 000e 8DF80630 		strb	r3, [sp, #6]
 138:../../../mod/baro/baro.c **** 
 1164              		.loc 1 138 1 is_stmt 1 view .LVU364
 138:../../../mod/baro/baro.c **** 
 1165              		.loc 1 138 16 is_stmt 0 view .LVU365
 1166 0012 0023     		movs	r3, #0
 1167 0014 0093     		str	r3, [sp]	@ float
 146:../../../mod/baro/baro.c **** if      ( baro_status   != BARO_OK         )
 1168              		.loc 1 146 1 is_stmt 1 view .LVU366
 146:../../../mod/baro/baro.c **** if      ( baro_status   != BARO_OK         )
 1169              		.loc 1 146 15 is_stmt 0 view .LVU367
 1170 0016 0DF10700 		add	r0, sp, #7
 1171              	.LVL95:
 146:../../../mod/baro/baro.c **** if      ( baro_status   != BARO_OK         )
 1172              		.loc 1 146 15 view .LVU368
 1173 001a FFF7FEFF 		bl	baro_get_device_id
 1174              	.LVL96:
 147:../../../mod/baro/baro.c **** 	{
 1175              		.loc 1 147 1 is_stmt 1 view .LVU369
 147:../../../mod/baro/baro.c **** 	{
 1176              		.loc 1 147 9 is_stmt 0 view .LVU370
 1177 001e 18BB     		cbnz	r0, .L49
 151:../../../mod/baro/baro.c ****           baro_device_id != BMP388_DEVICE_ID )
 1178              		.loc 1 151 6 is_stmt 1 view .LVU371
 151:../../../mod/baro/baro.c ****           baro_device_id != BMP388_DEVICE_ID )
 1179              		.loc 1 151 46 is_stmt 0 view .LVU372
 1180 0020 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 42


 151:../../../mod/baro/baro.c ****           baro_device_id != BMP388_DEVICE_ID )
 1181              		.loc 1 151 9 view .LVU373
 1182 0024 602B     		cmp	r3, #96
 1183 0026 18BF     		it	ne
 1184 0028 502B     		cmpne	r3, #80
 1185 002a 1FD1     		bne	.L50
 158:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 1186              		.loc 1 158 1 is_stmt 1 view .LVU374
 158:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 1187              		.loc 1 158 15 is_stmt 0 view .LVU375
 1188 002c FFF7FEFF 		bl	baro_reset
 1189              	.LVL97:
 159:../../../mod/baro/baro.c **** 	{
 1190              		.loc 1 159 1 is_stmt 1 view .LVU376
 159:../../../mod/baro/baro.c **** 	{
 1191              		.loc 1 159 4 is_stmt 0 view .LVU377
 1192 0030 F8B9     		cbnz	r0, .L51
 163:../../../mod/baro/baro.c **** 
 1193              		.loc 1 163 1 is_stmt 1 view .LVU378
 1194 0032 0A20     		movs	r0, #10
 1195              	.LVL98:
 163:../../../mod/baro/baro.c **** 
 1196              		.loc 1 163 1 is_stmt 0 view .LVU379
 1197 0034 FFF7FEFF 		bl	HAL_Delay
 1198              	.LVL99:
 166:../../../mod/baro/baro.c ****                          sizeof( baro_err_reg ), 
 1199              		.loc 1 166 1 is_stmt 1 view .LVU380
 166:../../../mod/baro/baro.c ****                          sizeof( baro_err_reg ), 
 1200              		.loc 1 166 15 is_stmt 0 view .LVU381
 1201 0038 0DF10602 		add	r2, sp, #6
 1202 003c 0121     		movs	r1, #1
 1203 003e 0220     		movs	r0, #2
 1204 0040 FFF7FEFF 		bl	read_regs
 1205              	.LVL100:
 169:../../../mod/baro/baro.c **** 	{
 1206              		.loc 1 169 1 is_stmt 1 view .LVU382
 169:../../../mod/baro/baro.c **** 	{
 1207              		.loc 1 169 4 is_stmt 0 view .LVU383
 1208 0044 B8B9     		cbnz	r0, .L52
 173:../../../mod/baro/baro.c **** 	{
 1209              		.loc 1 173 6 is_stmt 1 view .LVU384
 173:../../../mod/baro/baro.c **** 	{
 1210              		.loc 1 173 11 is_stmt 0 view .LVU385
 1211 0046 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 173:../../../mod/baro/baro.c **** 	{
 1212              		.loc 1 173 9 view .LVU386
 1213 004a B3B9     		cbnz	r3, .L53
 179:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 1214              		.loc 1 179 1 is_stmt 1 view .LVU387
 179:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 1215              		.loc 1 179 15 is_stmt 0 view .LVU388
 1216 004c FFF7FEFF 		bl	load_cal_data
 1217              	.LVL101:
 180:../../../mod/baro/baro.c **** 	{
 1218              		.loc 1 180 1 is_stmt 1 view .LVU389
 180:../../../mod/baro/baro.c **** 	{
 1219              		.loc 1 180 4 is_stmt 0 view .LVU390
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 43


 1220 0050 A8B9     		cbnz	r0, .L54
 186:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 1221              		.loc 1 186 1 is_stmt 1 view .LVU391
 186:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 1222              		.loc 1 186 15 is_stmt 0 view .LVU392
 1223 0052 FFF7FEFF 		bl	baro_flush_fifo
 1224              	.LVL102:
 187:../../../mod/baro/baro.c **** 	{
 1225              		.loc 1 187 1 is_stmt 1 view .LVU393
 187:../../../mod/baro/baro.c **** 	{
 1226              		.loc 1 187 4 is_stmt 0 view .LVU394
 1227 0056 A0B9     		cbnz	r0, .L55
 193:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 1228              		.loc 1 193 1 is_stmt 1 view .LVU395
 193:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 1229              		.loc 1 193 15 is_stmt 0 view .LVU396
 1230 0058 6846     		mov	r0, sp
 1231              	.LVL103:
 193:../../../mod/baro/baro.c **** if ( baro_status != BARO_OK )
 1232              		.loc 1 193 15 view .LVU397
 1233 005a FFF7FEFF 		bl	baro_get_temp
 1234              	.LVL104:
 194:../../../mod/baro/baro.c **** 	{ 
 1235              		.loc 1 194 1 is_stmt 1 view .LVU398
 194:../../../mod/baro/baro.c **** 	{ 
 1236              		.loc 1 194 4 is_stmt 0 view .LVU399
 1237 005e 30B9     		cbnz	r0, .L48
 200:../../../mod/baro/baro.c **** return baro_status;
 1238              		.loc 1 200 1 is_stmt 1 view .LVU400
 200:../../../mod/baro/baro.c **** return baro_status;
 1239              		.loc 1 200 15 is_stmt 0 view .LVU401
 1240 0060 2046     		mov	r0, r4
 1241              	.LVL105:
 200:../../../mod/baro/baro.c **** return baro_status;
 1242              		.loc 1 200 15 view .LVU402
 1243 0062 FFF7FEFF 		bl	baro_config
 1244              	.LVL106:
 201:../../../mod/baro/baro.c **** 
 1245              		.loc 1 201 1 is_stmt 1 view .LVU403
 201:../../../mod/baro/baro.c **** 
 1246              		.loc 1 201 8 is_stmt 0 view .LVU404
 1247 0066 02E0     		b	.L48
 1248              	.L49:
 149:../../../mod/baro/baro.c **** 	}
 1249              		.loc 1 149 9 view .LVU405
 1250 0068 0820     		movs	r0, #8
 1251              	.LVL107:
 149:../../../mod/baro/baro.c **** 	}
 1252              		.loc 1 149 9 view .LVU406
 1253 006a 00E0     		b	.L48
 1254              	.LVL108:
 1255              	.L50:
 154:../../../mod/baro/baro.c **** 	}
 1256              		.loc 1 154 9 view .LVU407
 1257 006c 0520     		movs	r0, #5
 1258              	.LVL109:
 1259              	.L48:
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 44


 203:../../../mod/baro/baro.c **** 
 1260              		.loc 1 203 1 view .LVU408
 1261 006e 02B0     		add	sp, sp, #8
 1262              	.LCFI27:
 1263              		.cfi_remember_state
 1264              		.cfi_def_cfa_offset 8
 1265              		@ sp needed
 1266 0070 10BD     		pop	{r4, pc}
 1267              	.LVL110:
 1268              	.L51:
 1269              	.LCFI28:
 1270              		.cfi_restore_state
 161:../../../mod/baro/baro.c **** 	}
 1271              		.loc 1 161 9 view .LVU409
 1272 0072 0920     		movs	r0, #9
 1273              	.LVL111:
 161:../../../mod/baro/baro.c **** 	}
 1274              		.loc 1 161 9 view .LVU410
 1275 0074 FBE7     		b	.L48
 1276              	.LVL112:
 1277              	.L52:
 171:../../../mod/baro/baro.c **** 	}
 1278              		.loc 1 171 9 view .LVU411
 1279 0076 0820     		movs	r0, #8
 1280              	.LVL113:
 171:../../../mod/baro/baro.c **** 	}
 1281              		.loc 1 171 9 view .LVU412
 1282 0078 F9E7     		b	.L48
 1283              	.LVL114:
 1284              	.L53:
 175:../../../mod/baro/baro.c **** 	}
 1285              		.loc 1 175 9 view .LVU413
 1286 007a 0620     		movs	r0, #6
 1287              	.LVL115:
 175:../../../mod/baro/baro.c **** 	}
 1288              		.loc 1 175 9 view .LVU414
 1289 007c F7E7     		b	.L48
 1290              	.LVL116:
 1291              	.L54:
 182:../../../mod/baro/baro.c **** 	}
 1292              		.loc 1 182 9 view .LVU415
 1293 007e 0720     		movs	r0, #7
 1294              	.LVL117:
 182:../../../mod/baro/baro.c **** 	}
 1295              		.loc 1 182 9 view .LVU416
 1296 0080 F5E7     		b	.L48
 1297              	.LVL118:
 1298              	.L55:
 189:../../../mod/baro/baro.c **** 	}
 1299              		.loc 1 189 9 view .LVU417
 1300 0082 0A20     		movs	r0, #10
 1301              	.LVL119:
 189:../../../mod/baro/baro.c **** 	}
 1302              		.loc 1 189 9 view .LVU418
 1303 0084 F3E7     		b	.L48
 1304              		.cfi_endproc
 1305              	.LFE144:
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 45


 1307              		.section	.text.baro_get_pressure,"ax",%progbits
 1308              		.align	1
 1309              		.global	baro_get_pressure
 1310              		.syntax unified
 1311              		.thumb
 1312              		.thumb_func
 1314              	baro_get_pressure:
 1315              	.LVL120:
 1316              	.LFB147:
 345:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 1317              		.loc 1 345 1 is_stmt 1 view -0
 1318              		.cfi_startproc
 1319              		@ args = 0, pretend = 0, frame = 8
 1320              		@ frame_needed = 0, uses_anonymous_args = 0
 345:../../../mod/baro/baro.c **** /*------------------------------------------------------------------------------
 1321              		.loc 1 345 1 is_stmt 0 view .LVU420
 1322 0000 70B5     		push	{r4, r5, r6, lr}
 1323              	.LCFI29:
 1324              		.cfi_def_cfa_offset 16
 1325              		.cfi_offset 4, -16
 1326              		.cfi_offset 5, -12
 1327              		.cfi_offset 6, -8
 1328              		.cfi_offset 14, -4
 1329 0002 82B0     		sub	sp, sp, #8
 1330              	.LCFI30:
 1331              		.cfi_def_cfa_offset 24
 1332 0004 0546     		mov	r5, r0
 349:../../../mod/baro/baro.c **** uint32_t    raw_pressure;      /* Pressure raw readout in uint32_t format */
 1333              		.loc 1 349 1 is_stmt 1 view .LVU421
 350:../../../mod/baro/baro.c **** float       comp_temp;         /* Compensation temperature                */
 1334              		.loc 1 350 1 view .LVU422
 351:../../../mod/baro/baro.c **** BARO_STATUS baro_status;       /* Return codes for baro API calls         */
 1335              		.loc 1 351 1 view .LVU423
 352:../../../mod/baro/baro.c **** 
 1336              		.loc 1 352 1 view .LVU424
 358:../../../mod/baro/baro.c **** comp_temp    = 0;
 1337              		.loc 1 358 1 view .LVU425
 1338              	.LVL121:
 359:../../../mod/baro/baro.c **** baro_status  = BARO_OK;
 1339              		.loc 1 359 1 view .LVU426
 359:../../../mod/baro/baro.c **** baro_status  = BARO_OK;
 1340              		.loc 1 359 14 is_stmt 0 view .LVU427
 1341 0006 0023     		movs	r3, #0
 1342 0008 0093     		str	r3, [sp]	@ float
 360:../../../mod/baro/baro.c **** memset( &pressure_bytes[0], 0, sizeof( pressure_bytes ) );
 1343              		.loc 1 360 1 is_stmt 1 view .LVU428
 1344              	.LVL122:
 361:../../../mod/baro/baro.c **** 
 1345              		.loc 1 361 1 view .LVU429
 1346 000a 0023     		movs	r3, #0
 1347 000c ADF80430 		strh	r3, [sp, #4]	@ movhi
 1348 0010 8DF80630 		strb	r3, [sp, #6]
 369:../../../mod/baro/baro.c ****                          sizeof( pressure_bytes ), 
 1349              		.loc 1 369 1 view .LVU430
 369:../../../mod/baro/baro.c ****                          sizeof( pressure_bytes ), 
 1350              		.loc 1 369 15 is_stmt 0 view .LVU431
 1351 0014 01AA     		add	r2, sp, #4
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 46


 1352 0016 0321     		movs	r1, #3
 1353 0018 0420     		movs	r0, #4
 1354              	.LVL123:
 369:../../../mod/baro/baro.c ****                          sizeof( pressure_bytes ), 
 1355              		.loc 1 369 15 view .LVU432
 1356 001a FFF7FEFF 		bl	read_regs
 1357              	.LVL124:
 372:../../../mod/baro/baro.c **** 	{
 1358              		.loc 1 372 1 is_stmt 1 view .LVU433
 372:../../../mod/baro/baro.c **** 	{
 1359              		.loc 1 372 4 is_stmt 0 view .LVU434
 1360 001e A8B9     		cbnz	r0, .L59
 1361 0020 0646     		mov	r6, r0
 378:../../../mod/baro/baro.c ****                  ( (uint32_t) pressure_bytes[1] <<  8 ) |
 1362              		.loc 1 378 1 is_stmt 1 view .LVU435
 378:../../../mod/baro/baro.c ****                  ( (uint32_t) pressure_bytes[1] <<  8 ) |
 1363              		.loc 1 378 45 is_stmt 0 view .LVU436
 1364 0022 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 379:../../../mod/baro/baro.c **** 				 ( (uint32_t) pressure_bytes[0]       ) );
 1365              		.loc 1 379 45 view .LVU437
 1366 0026 9DF80540 		ldrb	r4, [sp, #5]	@ zero_extendqisi2
 379:../../../mod/baro/baro.c **** 				 ( (uint32_t) pressure_bytes[0]       ) );
 1367              		.loc 1 379 49 view .LVU438
 1368 002a 2402     		lsls	r4, r4, #8
 378:../../../mod/baro/baro.c ****                  ( (uint32_t) pressure_bytes[1] <<  8 ) |
 1369              		.loc 1 378 57 view .LVU439
 1370 002c 44EA0344 		orr	r4, r4, r3, lsl #16
 380:../../../mod/baro/baro.c **** 
 1371              		.loc 1 380 33 view .LVU440
 1372 0030 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 378:../../../mod/baro/baro.c ****                  ( (uint32_t) pressure_bytes[1] <<  8 ) |
 1373              		.loc 1 378 14 view .LVU441
 1374 0034 1C43     		orrs	r4, r4, r3
 1375              	.LVL125:
 383:../../../mod/baro/baro.c **** 
 1376              		.loc 1 383 1 is_stmt 1 view .LVU442
 383:../../../mod/baro/baro.c **** 
 1377              		.loc 1 383 17 is_stmt 0 view .LVU443
 1378 0036 6846     		mov	r0, sp
 1379              	.LVL126:
 383:../../../mod/baro/baro.c **** 
 1380              		.loc 1 383 17 view .LVU444
 1381 0038 FFF7FEFF 		bl	baro_get_temp
 1382              	.LVL127:
 386:../../../mod/baro/baro.c **** 
 1383              		.loc 1 386 1 is_stmt 1 view .LVU445
 386:../../../mod/baro/baro.c **** 
 1384              		.loc 1 386 17 is_stmt 0 view .LVU446
 1385 003c 2046     		mov	r0, r4
 1386 003e FFF7FEFF 		bl	press_compensate
 1387              	.LVL128:
 386:../../../mod/baro/baro.c **** 
 1388              		.loc 1 386 15 view .LVU447
 1389 0042 85ED000A 		vstr.32	s0, [r5]
 388:../../../mod/baro/baro.c **** } /* baro_get_pressure */
 1390              		.loc 1 388 1 is_stmt 1 view .LVU448
 1391              	.LVL129:
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 47


 1392              	.L58:
 389:../../../mod/baro/baro.c **** 
 1393              		.loc 1 389 1 is_stmt 0 view .LVU449
 1394 0046 3046     		mov	r0, r6
 1395 0048 02B0     		add	sp, sp, #8
 1396              	.LCFI31:
 1397              		.cfi_remember_state
 1398              		.cfi_def_cfa_offset 16
 1399              		@ sp needed
 1400 004a 70BD     		pop	{r4, r5, r6, pc}
 1401              	.LVL130:
 1402              	.L59:
 1403              	.LCFI32:
 1404              		.cfi_restore_state
 374:../../../mod/baro/baro.c **** 	}
 1405              		.loc 1 374 9 view .LVU450
 1406 004c 0826     		movs	r6, #8
 1407 004e FAE7     		b	.L58
 1408              		.cfi_endproc
 1409              	.LFE147:
 1411              		.section	.text.baro_get_altitude,"ax",%progbits
 1412              		.align	1
 1413              		.global	baro_get_altitude
 1414              		.syntax unified
 1415              		.thumb
 1416              		.thumb_func
 1418              	baro_get_altitude:
 1419              	.LFB149:
 461:../../../mod/baro/baro.c **** return BARO_OK;
 1420              		.loc 1 461 1 is_stmt 1 view -0
 1421              		.cfi_startproc
 1422              		@ args = 0, pretend = 0, frame = 0
 1423              		@ frame_needed = 0, uses_anonymous_args = 0
 1424              		@ link register save eliminated.
 462:../../../mod/baro/baro.c **** } /* baro_get_altitude */
 1425              		.loc 1 462 1 view .LVU452
 463:../../../mod/baro/baro.c **** 
 1426              		.loc 1 463 1 is_stmt 0 view .LVU453
 1427 0000 0020     		movs	r0, #0
 1428 0002 7047     		bx	lr
 1429              		.cfi_endproc
 1430              	.LFE149:
 1432              		.section	.bss.baro_cal_data,"aw",%nobits
 1433              		.align	2
 1434              		.set	.LANCHOR0,. + 0
 1437              	baro_cal_data:
 1438 0000 00000000 		.space	60
 1438      00000000 
 1438      00000000 
 1438      00000000 
 1438      00000000 
 1439              		.section	.bss.baro_configuration,"aw",%nobits
 1440              		.align	2
 1441              		.set	.LANCHOR1,. + 0
 1444              	baro_configuration:
 1445 0000 00000000 		.space	6
 1445      0000
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 48


 1446              		.text
 1447              	.Letext0:
 1448              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1449              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1450              		.file 4 "../../../lib/Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h750xx.h"
 1451              		.file 5 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 1452              		.file 6 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 1453              		.file 7 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_i2c.h"
 1454              		.file 8 "../../../mod/baro/baro.h"
 1455              		.file 9 "../../../lib/sdr_pin_defines_A0002.h"
 1456              		.file 10 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 1457              		.file 11 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
ARM GAS  C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s 			page 49


DEFINED SYMBOLS
                            *ABS*:00000000 baro.c
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:19     .text.bytes_to_uint16_t:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:24     .text.bytes_to_uint16_t:00000000 bytes_to_uint16_t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:43     .text.bytes_to_int16_t:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:48     .text.bytes_to_int16_t:00000000 bytes_to_int16_t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:69     .text.write_reg:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:74     .text.write_reg:00000000 write_reg
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:129    .text.write_reg:0000002c $d
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:134    .text.baro_reset:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:139    .text.baro_reset:00000000 baro_reset
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:162    .text.baro_flush_fifo:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:167    .text.baro_flush_fifo:00000000 baro_flush_fifo
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:190    .text.read_regs:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:195    .text.read_regs:00000000 read_regs
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:252    .text.read_regs:00000024 $d
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:257    .text.load_cal_data:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:262    .text.load_cal_data:00000000 load_cal_data
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:557    .text.load_cal_data:00000214 $d
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:573    .text.press_compensate:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:578    .text.press_compensate:00000000 press_compensate
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:759    .text.press_compensate:000000e0 $d
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:764    .text.temp_compensate:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:769    .text.temp_compensate:00000000 temp_compensate
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:834    .text.temp_compensate:00000040 $d
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:839    .text.baro_config:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:845    .text.baro_config:00000000 baro_config
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:996    .text.baro_config:00000068 $d
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1001   .text.baro_get_device_id:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1007   .text.baro_get_device_id:00000000 baro_get_device_id
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1037   .text.baro_get_temp:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1043   .text.baro_get_temp:00000000 baro_get_temp
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1127   .text.baro_init:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1133   .text.baro_init:00000000 baro_init
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1308   .text.baro_get_pressure:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1314   .text.baro_get_pressure:00000000 baro_get_pressure
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1412   .text.baro_get_altitude:00000000 $t
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1418   .text.baro_get_altitude:00000000 baro_get_altitude
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1433   .bss.baro_cal_data:00000000 $d
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1437   .bss.baro_cal_data:00000000 baro_cal_data
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1440   .bss.baro_configuration:00000000 $d
C:\Users\tnguy\AppData\Local\Temp\ccO1Bhvp.s:1444   .bss.baro_configuration:00000000 baro_configuration

UNDEFINED SYMBOLS
HAL_I2C_Mem_Write
hi2c1
HAL_I2C_Mem_Read
powf
HAL_Delay
